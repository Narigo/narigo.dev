import{s as D,e as h,i as m,d as _,F as G,l as y,a as P,m as N,c as A,n as H,f as B,g as C,h as J,j as g,x as O,B as q,_ as I,y as w,z as R,o as U,A as V}from"../chunks/scheduler.58de62d3.js";import{S as T,i as E,b as d,d as b,m as k,a as u,t as p,e as v,g as M,c as j}from"../chunks/index.698fb7dd.js";import{b as K}from"../chunks/paths.04643722.js";import{p as Q}from"../chunks/stores.2b6abf74.js";import{P as W}from"../chunks/PageLayout.3d3e8333.js";import{e as L}from"../chunks/each.e59479a4.js";import{A as X}from"../chunks/AnimationContext.cd6e729b.js";import{B as F}from"../chunks/Bubble.b320fa89.js";function S(o,t,l){const e=o.slice();return e[1]=t[l].avatar,e[2]=t[l].line,e[3]=t[l].side,e}function Y(o){let t,l;return t=new F({props:{delayNext:500+o[2].length*30,side:o[3],$$slots:{default:[x]},$$scope:{ctx:o}}}),{c(){d(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,n){k(t,e,n),l=!0},p(e,n){const r={};n&1&&(r.delayNext=500+e[2].length*30),n&1&&(r.side=e[3]),n&129&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){l||(u(t.$$.fragment,e),l=!0)},o(e){p(t.$$.fragment,e),l=!1},d(e){v(t,e)}}}function Z(o){let t,l;return t=new F({props:{delayNext:500+o[2].length*30,side:o[3],$$slots:{avatar:[le,({mode:e})=>({6:e}),({mode:e})=>e?64:0],default:[ee]},$$scope:{ctx:o}}}),{c(){d(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,n){k(t,e,n),l=!0},p(e,n){const r={};n&1&&(r.delayNext=500+e[2].length*30),n&1&&(r.side=e[3]),n&193&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){l||(u(t.$$.fragment,e),l=!0)},o(e){p(t.$$.fragment,e),l=!1},d(e){v(t,e)}}}function x(o){let t=o[2]+"",l,e;return{c(){l=y(t),e=P()},l(n){l=N(n,t),e=A(n)},m(n,r){m(n,l,r),m(n,e,r)},p(n,r){r&1&&t!==(t=n[2]+"")&&H(l,t)},d(n){n&&(_(l),_(e))}}}function ee(o){let t=o[2]+"",l,e;return{c(){l=y(t),e=P()},l(n){l=N(n,t),e=A(n)},m(n,r){m(n,l,r),m(n,e,r)},p(n,r){r&1&&t!==(t=n[2]+"")&&H(l,t)},d(n){n&&(_(l),_(e))}}}function te(o){let t,l,e;return{c(){t=B("img"),this.h()},l(n){t=C(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){q(t.src,l="https://www.gravatar.com/avatar/"+o[1])||g(t,"src",l),g(t,"alt",e=o[6]==="talk"?"Person":"Person, shouting"),g(t,"class","svelte-iblr9m"),I(t,"shout",o[6]==="shout")},m(n,r){m(n,t,r)},p(n,r){r&1&&!q(t.src,l="https://www.gravatar.com/avatar/"+n[1])&&g(t,"src",l),r&64&&e!==(e=n[6]==="talk"?"Person":"Person, shouting")&&g(t,"alt",e),r&64&&I(t,"shout",n[6]==="shout")},d(n){n&&_(t)}}}function ne(o){let t;return{c(){t=y("ðŸ¤")},l(l){t=N(l,"ðŸ¤")},m(l,e){m(l,t,e)},p:w,d(l){l&&_(t)}}}function le(o){let t,l;function e(a,i){return a[6]==="shutup"?ne:te}let n=e(o),r=n(o);return{c(){t=B("div"),r.c(),l=P(),this.h()},l(a){t=C(a,"DIV",{slot:!0});var i=J(t);r.l(i),l=A(i),i.forEach(_),this.h()},h(){g(t,"slot","avatar")},m(a,i){m(a,t,i),r.m(t,null),O(t,l)},p(a,i){n===(n=e(a))&&r?r.p(a,i):(r.d(1),r=n(a),r&&(r.c(),r.m(t,l)))},d(a){a&&_(t),r.d()}}}function z(o){let t,l,e,n,r;const a=[Z,Y],i=[];function s(c,f){var $;return f&1&&(t=null),t==null&&(t=(($=c[1])==null?void 0:$.trim())!==""),t?0:1}return l=s(o,-1),e=i[l]=a[l](o),{c(){e.c(),n=h()},l(c){e.l(c),n=h()},m(c,f){i[l].m(c,f),m(c,n,f),r=!0},p(c,f){let $=l;l=s(c,f),l===$?i[l].p(c,f):(M(),p(i[$],1,1,()=>{i[$]=null}),j(),e=i[l],e?e.p(c,f):(e=i[l]=a[l](c),e.c()),u(e,1),e.m(n.parentNode,n))},i(c){r||(u(e),r=!0)},o(c){p(e),r=!1},d(c){c&&_(n),i[l].d(c)}}}function re(o){let t,l,e=L(o[0]),n=[];for(let a=0;a<e.length;a+=1)n[a]=z(S(o,e,a));const r=a=>p(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=h()},l(a){for(let i=0;i<n.length;i+=1)n[i].l(a);t=h()},m(a,i){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(a,i);m(a,t,i),l=!0},p(a,i){if(i&65){e=L(a[0]);let s;for(s=0;s<e.length;s+=1){const c=S(a,e,s);n[s]?(n[s].p(c,i),u(n[s],1)):(n[s]=z(c),n[s].c(),u(n[s],1),n[s].m(t.parentNode,t))}for(M(),s=e.length;s<n.length;s+=1)r(s);j()}},i(a){if(!l){for(let i=0;i<e.length;i+=1)u(n[i]);l=!0}},o(a){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)p(n[i]);l=!1},d(a){a&&_(t),G(n,a)}}}function ae(o){let t,l;return t=new X({props:{name:"dialog",$$slots:{default:[re]},$$scope:{ctx:o}}}),{c(){d(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,n){k(t,e,n),l=!0},p(e,[n]){const r={};n&129&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){l||(u(t.$$.fragment,e),l=!0)},o(e){p(t.$$.fragment,e),l=!1},d(e){v(t,e)}}}function oe(o,t,l){let{lines:e}=t;return o.$$set=n=>{"lines"in n&&l(0,e=n.lines)},[e]}class se extends T{constructor(t){super(),E(this,t,oe,ae,D,{lines:0})}}function ie(o){let t,l;return t=new se({props:{lines:o[1]}}),{c(){d(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,n){k(t,e,n),l=!0},p(e,n){const r={};n&2&&(r.lines=e[1]),t.$set(r)},i(e){l||(u(t.$$.fragment,e),l=!0)},o(e){p(t.$$.fragment,e),l=!1},d(e){v(t,e)}}}function ce(o){let t,l=`Do you want to <a href="${K}/specials/talking/create">create your own</a>?`;return{c(){t=B("p"),t.innerHTML=l},l(e){t=C(e,"P",{"data-svelte-h":!0}),V(t)!=="svelte-1noqjze"&&(t.innerHTML=l)},m(e,n){m(e,t,n)},p:w,i:w,o:w,d(e){e&&_(t)}}}function fe(o){let t,l,e,n;const r=[ce,ie],a=[];function i(s,c){return s[0]===null?0:1}return t=i(o),l=a[t]=r[t](o),{c(){l.c(),e=h()},l(s){l.l(s),e=h()},m(s,c){a[t].m(s,c),m(s,e,c),n=!0},p(s,c){let f=t;t=i(s),t===f?a[t].p(s,c):(M(),p(a[f],1,1,()=>{a[f]=null}),j(),l=a[t],l?l.p(s,c):(l=a[t]=r[t](s),l.c()),u(l,1),l.m(e.parentNode,e))},i(s){n||(u(l),n=!0)},o(s){p(l),n=!1},d(s){s&&_(e),a[t].d(s)}}}function ue(o){let t,l;return t=new W({props:{$$slots:{default:[fe]},$$scope:{ctx:o}}}),{c(){d(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,n){k(t,e,n),l=!0},p(e,[n]){const r={};n&11&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){l||(u(t.$$.fragment,e),l=!0)},o(e){p(t.$$.fragment,e),l=!1},d(e){v(t,e)}}}function _e(o){return decodeURIComponent(window.atob(o))}function me(o,t,l){let e;R(o,Q,a=>l(2,e=a));let n,r=[];return U(()=>{if(l(0,n=e.url.searchParams.get("e")),!n)return;const a=JSON.parse(_e(n));if(Array.isArray(a)){l(1,r=a.map((i,s)=>({side:s%2===0?"left":"right",line:i})));return}l(1,r=a.l.map((i,s)=>{var c;return{side:s%2===0?"left":"right",avatar:(c=a.f)==null?void 0:c[s%2],line:i}}))}),[n,r]}class we extends T{constructor(t){super(),E(this,t,me,ue,D,{})}}export{we as component};
