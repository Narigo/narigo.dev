import{s as z,e as g,i as m,d as _,H as J,l as y,a as P,m as N,c as A,n as D,f as B,g as C,h as O,j as $,x as R,B as q,$ as H,y as v,z as U,o as V,A as F}from"../chunks/scheduler.Po0zCuFf.js";import{S as T,i as E,b as h,d,m as b,a as f,t as p,e as k,g as M,c as j}from"../chunks/index.WEWm72Kh.js";import{b as K}from"../chunks/paths.BfBMXJ3m.js";import{p as Q}from"../chunks/stores.4CKgfHHV.js";import{e as I,P as W}from"../chunks/PageLayout.30SU8mtG.js";import{A as X}from"../chunks/AnimationContext.pHQvViER.js";import{B as G}from"../chunks/Bubble.MSnRYCpV.js";function L(o,t,l){const e=o.slice();return e[1]=t[l].avatar,e[2]=t[l].line,e[3]=t[l].side,e}function Y(o){let t,l;return t=new G({props:{delayNext:500+o[2].length*30,side:o[3],$$slots:{default:[x]},$$scope:{ctx:o}}}),{c(){h(t.$$.fragment)},l(e){d(t.$$.fragment,e)},m(e,n){b(t,e,n),l=!0},p(e,n){const r={};n&1&&(r.delayNext=500+e[2].length*30),n&1&&(r.side=e[3]),n&129&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){l||(f(t.$$.fragment,e),l=!0)},o(e){p(t.$$.fragment,e),l=!1},d(e){k(t,e)}}}function Z(o){let t,l;return t=new G({props:{delayNext:500+o[2].length*30,side:o[3],$$slots:{avatar:[le,({mode:e})=>({6:e}),({mode:e})=>e?64:0],default:[ee]},$$scope:{ctx:o}}}),{c(){h(t.$$.fragment)},l(e){d(t.$$.fragment,e)},m(e,n){b(t,e,n),l=!0},p(e,n){const r={};n&1&&(r.delayNext=500+e[2].length*30),n&1&&(r.side=e[3]),n&193&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){l||(f(t.$$.fragment,e),l=!0)},o(e){p(t.$$.fragment,e),l=!1},d(e){k(t,e)}}}function x(o){let t=o[2]+"",l,e;return{c(){l=y(t),e=P()},l(n){l=N(n,t),e=A(n)},m(n,r){m(n,l,r),m(n,e,r)},p(n,r){r&1&&t!==(t=n[2]+"")&&D(l,t)},d(n){n&&(_(l),_(e))}}}function ee(o){let t=o[2]+"",l,e;return{c(){l=y(t),e=P()},l(n){l=N(n,t),e=A(n)},m(n,r){m(n,l,r),m(n,e,r)},p(n,r){r&1&&t!==(t=n[2]+"")&&D(l,t)},d(n){n&&(_(l),_(e))}}}function te(o){let t,l,e;return{c(){t=B("img"),this.h()},l(n){t=C(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){q(t.src,l="https://www.gravatar.com/avatar/"+o[1])||$(t,"src",l),$(t,"alt",e=o[6]==="talk"?"Person":"Person, shouting"),$(t,"class","svelte-iblr9m"),H(t,"shout",o[6]==="shout")},m(n,r){m(n,t,r)},p(n,r){r&1&&!q(t.src,l="https://www.gravatar.com/avatar/"+n[1])&&$(t,"src",l),r&64&&e!==(e=n[6]==="talk"?"Person":"Person, shouting")&&$(t,"alt",e),r&64&&H(t,"shout",n[6]==="shout")},d(n){n&&_(t)}}}function ne(o){let t;return{c(){t=y("ðŸ¤")},l(l){t=N(l,"ðŸ¤")},m(l,e){m(l,t,e)},p:v,d(l){l&&_(t)}}}function le(o){let t,l;function e(a,c){return a[6]==="shutup"?ne:te}let n=e(o),r=n(o);return{c(){t=B("div"),r.c(),l=P(),this.h()},l(a){t=C(a,"DIV",{slot:!0});var c=O(t);r.l(c),l=A(c),c.forEach(_),this.h()},h(){$(t,"slot","avatar")},m(a,c){m(a,t,c),r.m(t,null),R(t,l)},p(a,c){n===(n=e(a))&&r?r.p(a,c):(r.d(1),r=n(a),r&&(r.c(),r.m(t,l)))},d(a){a&&_(t),r.d()}}}function S(o){let t,l,e,n,r;const a=[Z,Y],c=[];function s(i,u){return u&1&&(t=null),t==null&&(t=i[1]?.trim()!==""),t?0:1}return l=s(o,-1),e=c[l]=a[l](o),{c(){e.c(),n=g()},l(i){e.l(i),n=g()},m(i,u){c[l].m(i,u),m(i,n,u),r=!0},p(i,u){let w=l;l=s(i,u),l===w?c[l].p(i,u):(M(),p(c[w],1,1,()=>{c[w]=null}),j(),e=c[l],e?e.p(i,u):(e=c[l]=a[l](i),e.c()),f(e,1),e.m(n.parentNode,n))},i(i){r||(f(e),r=!0)},o(i){p(e),r=!1},d(i){i&&_(n),c[l].d(i)}}}function re(o){let t,l,e=I(o[0]),n=[];for(let a=0;a<e.length;a+=1)n[a]=S(L(o,e,a));const r=a=>p(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=g()},l(a){for(let c=0;c<n.length;c+=1)n[c].l(a);t=g()},m(a,c){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(a,c);m(a,t,c),l=!0},p(a,c){if(c&65){e=I(a[0]);let s;for(s=0;s<e.length;s+=1){const i=L(a,e,s);n[s]?(n[s].p(i,c),f(n[s],1)):(n[s]=S(i),n[s].c(),f(n[s],1),n[s].m(t.parentNode,t))}for(M(),s=e.length;s<n.length;s+=1)r(s);j()}},i(a){if(!l){for(let c=0;c<e.length;c+=1)f(n[c]);l=!0}},o(a){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)p(n[c]);l=!1},d(a){a&&_(t),J(n,a)}}}function ae(o){let t,l;return t=new X({props:{name:"dialog",$$slots:{default:[re]},$$scope:{ctx:o}}}),{c(){h(t.$$.fragment)},l(e){d(t.$$.fragment,e)},m(e,n){b(t,e,n),l=!0},p(e,[n]){const r={};n&129&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){l||(f(t.$$.fragment,e),l=!0)},o(e){p(t.$$.fragment,e),l=!1},d(e){k(t,e)}}}function oe(o,t,l){let{lines:e}=t;return o.$$set=n=>{"lines"in n&&l(0,e=n.lines)},[e]}class se extends T{constructor(t){super(),E(this,t,oe,ae,z,{lines:0})}}function ce(o){let t,l;return t=new se({props:{lines:o[1]}}),{c(){h(t.$$.fragment)},l(e){d(t.$$.fragment,e)},m(e,n){b(t,e,n),l=!0},p(e,n){const r={};n&2&&(r.lines=e[1]),t.$set(r)},i(e){l||(f(t.$$.fragment,e),l=!0)},o(e){p(t.$$.fragment,e),l=!1},d(e){k(t,e)}}}function ie(o){let t,l=`Do you want to <a href="${K}/specials/talking/create">create your own</a>?`;return{c(){t=B("p"),t.innerHTML=l},l(e){t=C(e,"P",{"data-svelte-h":!0}),F(t)!=="svelte-1noqjze"&&(t.innerHTML=l)},m(e,n){m(e,t,n)},p:v,i:v,o:v,d(e){e&&_(t)}}}function ue(o){let t,l,e,n;const r=[ie,ce],a=[];function c(s,i){return s[0]===null?0:1}return t=c(o),l=a[t]=r[t](o),{c(){l.c(),e=g()},l(s){l.l(s),e=g()},m(s,i){a[t].m(s,i),m(s,e,i),n=!0},p(s,i){let u=t;t=c(s),t===u?a[t].p(s,i):(M(),p(a[u],1,1,()=>{a[u]=null}),j(),l=a[t],l?l.p(s,i):(l=a[t]=r[t](s),l.c()),f(l,1),l.m(e.parentNode,e))},i(s){n||(f(l),n=!0)},o(s){p(l),n=!1},d(s){s&&_(e),a[t].d(s)}}}function fe(o){let t,l;return t=new W({props:{$$slots:{default:[ue]},$$scope:{ctx:o}}}),{c(){h(t.$$.fragment)},l(e){d(t.$$.fragment,e)},m(e,n){b(t,e,n),l=!0},p(e,[n]){const r={};n&11&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){l||(f(t.$$.fragment,e),l=!0)},o(e){p(t.$$.fragment,e),l=!1},d(e){k(t,e)}}}function _e(o){return decodeURIComponent(window.atob(o))}function me(o,t,l){let e;U(o,Q,a=>l(2,e=a));let n,r=[];return V(()=>{if(l(0,n=e.url.searchParams.get("e")),!n)return;const a=JSON.parse(_e(n));if(Array.isArray(a)){l(1,r=a.map((c,s)=>({side:s%2===0?"left":"right",line:c})));return}l(1,r=a.l.map((c,s)=>({side:s%2===0?"left":"right",avatar:a.f?.[s%2],line:c})))}),[n,r]}class ve extends T{constructor(t){super(),E(this,t,me,fe,z,{})}}export{ve as component};
