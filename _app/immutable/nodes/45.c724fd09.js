import{S as se,i as oe,s as ie,k as P,q as m,a as N,e as C,l as E,m as A,r as b,h as f,c as W,n as O,b as p,G as k,v as ae,d as T,f as fe,g as B,M as ue,I as j,u as F,H as S,a4 as V,y as M,z as Y,A as D,B as q,a6 as Z,K,U as he,a7 as me,j as be}from"../chunks/index.3d7f15fc.js";import{p as de}from"../chunks/stores.9256c951.js";import{P as $e}from"../chunks/PageLayout.92628c7d.js";import{b as ce}from"../chunks/paths.2cb575cd.js";import{B as z}from"../chunks/Bubble.24f732ac.js";import{w as Q}from"../chunks/index.a916e8a5.js";function x(i,t,r){const l=i.slice();return l[9]=t[r],l}function ee(i,t,r){const l=i.slice();return l[13]=t[r],l}function te(i){let t,r;return{c(){t=m("Another hint: "),r=m(i[1])},l(l){t=b(l,"Another hint: "),r=b(l,i[1])},m(l,n){p(l,t,n),p(l,r,n)},p(l,n){n&2&&F(r,l[1])},d(l){l&&f(t),l&&f(r)}}}function le(i){let t,r;return{c(){t=P("p"),r=m("Nothing guessed yet!")},l(l){t=E(l,"P",{});var n=A(t);r=b(n,"Nothing guessed yet!"),n.forEach(f)},m(l,n){p(l,t,n),k(t,r)},p:S,d(l){l&&f(t)}}}function ne(i){let t,r=i[13].letter+"",l,n;return{c(){t=P("span"),l=m(r),this.h()},l(e){t=E(e,"SPAN",{class:!0});var s=A(t);l=b(s,r),s.forEach(f),this.h()},h(){O(t,"class",n="letter "+i[13].correctnessInGuess+" svelte-1wxtodb")},m(e,s){p(e,t,s),k(t,l)},p(e,s){s&8&&r!==(r=e[13].letter+"")&&F(l,r),s&8&&n!==(n="letter "+e[13].correctnessInGuess+" svelte-1wxtodb")&&O(t,"class",n)},d(e){e&&f(t)}}}function re(i){let t,r,l=i[9],n=[];for(let e=0;e<l.length;e+=1)n[e]=ne(ee(i,l,e));return{c(){t=P("div");for(let e=0;e<n.length;e+=1)n[e].c();r=N(),this.h()},l(e){t=E(e,"DIV",{class:!0});var s=A(t);for(let o=0;o<n.length;o+=1)n[o].l(s);r=W(s),s.forEach(f),this.h()},h(){O(t,"class","guess svelte-1wxtodb")},m(e,s){p(e,t,s);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null);k(t,r)},p(e,s){if(s&8){l=e[9];let o;for(o=0;o<l.length;o+=1){const h=ee(e,l,o);n[o]?n[o].p(h,s):(n[o]=ne(h),n[o].c(),n[o].m(t,r))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(e){e&&f(t),ue(n,e)}}}function we(i){let t,r,l,n;return t=new z({props:{$$slots:{default:[ke]},$$scope:{ctx:i}}}),l=new z({props:{side:"right",$$slots:{default:[ye]},$$scope:{ctx:i}}}),{c(){M(t.$$.fragment),r=N(),M(l.$$.fragment)},l(e){Y(t.$$.fragment,e),r=W(e),Y(l.$$.fragment,e)},m(e,s){D(t,e,s),p(e,r,s),D(l,e,s),n=!0},p(e,s){const o={};s&65537&&(o.$$scope={dirty:s,ctx:e}),t.$set(o);const h={};s&65536&&(h.$$scope={dirty:s,ctx:e}),l.$set(h)},i(e){n||(B(t.$$.fragment,e),B(l.$$.fragment,e),n=!0)},o(e){T(t.$$.fragment,e),T(l.$$.fragment,e),n=!1},d(e){q(t,e),e&&f(r),q(l,e)}}}function ge(i){let t,r,l,n;return t=new z({props:{$$slots:{default:[Ie]},$$scope:{ctx:i}}}),l=new z({props:{side:"right",$$slots:{default:[Pe]},$$scope:{ctx:i}}}),{c(){M(t.$$.fragment),r=N(),M(l.$$.fragment)},l(e){Y(t.$$.fragment,e),r=W(e),Y(l.$$.fragment,e)},m(e,s){D(t,e,s),p(e,r,s),D(l,e,s),n=!0},p(e,s){const o={};s&65537&&(o.$$scope={dirty:s,ctx:e}),t.$set(o);const h={};s&65536&&(h.$$scope={dirty:s,ctx:e}),l.$set(h)},i(e){n||(B(t.$$.fragment,e),B(l.$$.fragment,e),n=!0)},o(e){T(t.$$.fragment,e),T(l.$$.fragment,e),n=!1},d(e){q(t,e),e&&f(r),q(l,e)}}}function ve(i){let t,r,l,n,e,s,o,h;return{c(){t=P("form"),r=P("input"),l=N(),n=P("button"),e=m("Guess"),this.h()},l(u){t=E(u,"FORM",{class:!0});var _=A(t);r=E(_,"INPUT",{minlength:!0,maxlength:!0,class:!0}),l=W(_),n=E(_,"BUTTON",{});var c=A(n);e=b(c,"Guess"),c.forEach(f),_.forEach(f),this.h()},h(){O(r,"minlength",i[5].length),O(r,"maxlength",i[5].length),O(r,"class","svelte-1wxtodb"),n.disabled=s=i[4].length!==i[5].length,O(t,"class","svelte-1wxtodb")},m(u,_){p(u,t,_),k(t,r),Z(r,i[4]),k(t,l),k(t,n),k(n,e),o||(h=[K(r,"input",i[10]),K(n,"click",he(i[9])),K(t,"submit",i[9])],o=!0)},p(u,_){_&16&&r.value!==u[4]&&Z(r,u[4]),_&16&&s!==(s=u[4].length!==u[5].length)&&(n.disabled=s)},i:S,o:S,d(u){u&&f(t),o=!1,me(h)}}}function ke(i){let t,r,l;return{c(){t=m("You found it! It was "),r=m(i[0]),l=m("!")},l(n){t=b(n,"You found it! It was "),r=b(n,i[0]),l=b(n,"!")},m(n,e){p(n,t,e),p(n,r,e),p(n,l,e)},p(n,e){e&1&&F(r,n[0])},d(n){n&&f(t),n&&f(r),n&&f(l)}}}function ye(i){let t,r,l,n;return{c(){t=m("If you want to create your own word, "),r=P("a"),l=m("start here"),n=m("!"),this.h()},l(e){t=b(e,"If you want to create your own word, "),r=E(e,"A",{href:!0});var s=A(r);l=b(s,"start here"),s.forEach(f),n=b(e,"!"),this.h()},h(){O(r,"href",ce+"/specials/weirdle/create")},m(e,s){p(e,t,s),p(e,r,s),k(r,l),p(e,n,s)},p:S,d(e){e&&f(t),e&&f(r),e&&f(n)}}}function Ie(i){let t,r;return{c(){t=m("Better luck next time, the word to be found was: "),r=m(i[0])},l(l){t=b(l,"Better luck next time, the word to be found was: "),r=b(l,i[0])},m(l,n){p(l,t,n),p(l,r,n)},p(l,n){n&1&&F(r,l[0])},d(l){l&&f(t),l&&f(r)}}}function Pe(i){let t,r,l,n;return{c(){t=m("If you want to create your own word, "),r=P("a"),l=m("start here"),n=m("!"),this.h()},l(e){t=b(e,"If you want to create your own word, "),r=E(e,"A",{href:!0});var s=A(r);l=b(s,"start here"),s.forEach(f),n=b(e,"!"),this.h()},h(){O(r,"href",ce+"/specials/weirdle/create")},m(e,s){p(e,t,s),p(e,r,s),k(r,l),p(e,n,s)},p:S,d(e){e&&f(t),e&&f(r),e&&f(n)}}}function Ee(i){let t,r,l=i[5].length+"",n,e,s,o,h,u,_,c,y,$=i[1]&&te(i),d=i[3],g=[];for(let a=0;a<d.length;a+=1)g[a]=re(x(i,d,a));let v=null;d.length||(v=le());const U=[ve,ge,we],G=[];function J(a,w){return a[3].length<6&&a[2]==="playing"?0:a[2]==="lost"?1:a[2]==="won"?2:-1}return~(u=J(i))&&(_=G[u]=U[u](i)),{c(){t=P("p"),r=m("You are searching a "),n=m(l),e=m(" letter word. "),$&&$.c(),s=N(),o=P("div");for(let a=0;a<g.length;a+=1)g[a].c();v&&v.c(),h=N(),_&&_.c(),c=C(),this.h()},l(a){t=E(a,"P",{});var w=A(t);r=b(w,"You are searching a "),n=b(w,l),e=b(w," letter word. "),$&&$.l(w),w.forEach(f),s=W(a),o=E(a,"DIV",{class:!0});var L=A(o);for(let I=0;I<g.length;I+=1)g[I].l(L);v&&v.l(L),L.forEach(f),h=W(a),_&&_.l(a),c=C(),this.h()},h(){O(o,"class","board svelte-1wxtodb")},m(a,w){p(a,t,w),k(t,r),k(t,n),k(t,e),$&&$.m(t,null),p(a,s,w),p(a,o,w);for(let L=0;L<g.length;L+=1)g[L]&&g[L].m(o,null);v&&v.m(o,null),p(a,h,w),~u&&G[u].m(a,w),p(a,c,w),y=!0},p(a,[w]){if(a[1]?$?$.p(a,w):($=te(a),$.c(),$.m(t,null)):$&&($.d(1),$=null),w&8){d=a[3];let I;for(I=0;I<d.length;I+=1){const R=x(a,d,I);g[I]?g[I].p(R,w):(g[I]=re(R),g[I].c(),g[I].m(o,null))}for(;I<g.length;I+=1)g[I].d(1);g.length=d.length,!d.length&&v?v.p(a,w):d.length?v&&(v.d(1),v=null):(v=le(),v.c(),v.m(o,null))}let L=u;u=J(a),u===L?~u&&G[u].p(a,w):(_&&(ae(),T(G[L],1,1,()=>{G[L]=null}),fe()),~u?(_=G[u],_?_.p(a,w):(_=G[u]=U[u](a),_.c()),B(_,1),_.m(c.parentNode,c)):_=null)},i(a){y||(B(_),y=!0)},o(a){T(_),y=!1},d(a){a&&f(t),$&&$.d(),a&&f(s),a&&f(o),ue(g,a),v&&v.d(),a&&f(h),~u&&G[u].d(a),a&&f(c)}}}function Ge(i,t,r){let l,n,e,{word:s}=t,{hint:o}=t,h=s.split("").map(d=>d.toLocaleLowerCase()),u=Q("playing");j(i,u,d=>r(2,l=d));let _=Q([]);j(i,_,d=>r(3,n=d));let c=Q("");j(i,c,d=>r(4,e=d));function y(d){if(d.preventDefault(),e.length!==h.length)return;const g=e.toLocaleLowerCase().split(""),v=g.reduce((U,G,J)=>{const a=h[J]===G,w=g.reduce((H,X,pe)=>H+(X===G&&h[pe]===X?1:0),0),L=U.filter(H=>H.letter===G).length,I=h.filter(H=>H===G).length,R=L+w<I,_e={letter:G,correctnessInGuess:a?"green":R?"yellow":"black"};return[...U,_e]},[]);V(_,n=[...n,v],n),V(c,e="",e),v.every(({correctnessInGuess:U})=>U==="green")?V(u,l="won",l):n.length===6&&V(u,l="lost",l)}function $(){e=this.value,c.set(e)}return i.$$set=d=>{"word"in d&&r(0,s=d.word),"hint"in d&&r(1,o=d.hint)},[s,o,l,n,e,h,u,_,c,y,$]}class Le extends se{constructor(t){super(),oe(this,t,Ge,Ee,ie,{word:0,hint:1})}}function Ae(i){let t,r;return t=new Le({props:{word:window.atob(i[0]),hint:i[1]?window.atob(i[1]):void 0}}),{c(){M(t.$$.fragment)},l(l){Y(t.$$.fragment,l)},m(l,n){D(t,l,n),r=!0},p(l,n){const e={};n&1&&(e.word=window.atob(l[0])),n&2&&(e.hint=l[1]?window.atob(l[1]):void 0),t.$set(e)},i(l){r||(B(t.$$.fragment,l),r=!0)},o(l){T(t.$$.fragment,l),r=!1},d(l){q(t,l)}}}function Oe(i){let t,r;return{c(){t=P("p"),r=m("This game needs to be played in a browser with JavaScript enabled.")},l(l){t=E(l,"P",{});var n=A(t);r=b(n,"This game needs to be played in a browser with JavaScript enabled."),n.forEach(f)},m(l,n){p(l,t,n),k(t,r)},p:S,i:S,o:S,d(l){l&&f(t)}}}function Se(i){let t,r,l,n,e=Te(i);return{c(){t=P("p"),r=m("Please use a proper link with an 'enc' parameter attached to it!"),l=N(),e&&e.c(),n=C()},l(s){t=E(s,"P",{});var o=A(t);r=b(o,"Please use a proper link with an 'enc' parameter attached to it!"),o.forEach(f),l=W(s),e&&e.l(s),n=C()},m(s,o){p(s,t,o),k(t,r),p(s,l,o),e&&e.m(s,o),p(s,n,o)},p(s,o){e.p(s,o)},i:S,o:S,d(s){s&&f(t),s&&f(l),e&&e.d(s),s&&f(n)}}}function Te(i){let t,r,l,n,e;return{c(){t=P("p"),r=m("Or do you want to play "),l=P("a"),n=m("a randomly selected word"),e=m("?"),this.h()},l(s){t=E(s,"P",{});var o=A(t);r=b(o,"Or do you want to play "),l=E(o,"A",{href:!0});var h=A(l);n=b(h,"a randomly selected word"),h.forEach(f),e=b(o,"?"),o.forEach(f),this.h()},h(){O(l,"href","?enc="+encodeURIComponent(window.btoa(i[2])))},m(s,o){p(s,t,o),k(t,r),k(t,l),k(l,n),k(t,e)},p:S,d(s){s&&f(t)}}}function Be(i){let t,r,l,n,e,s,o;const h=[Se,Oe,Ae],u=[];function _(c,y){return c[0]?2:0}return n=_(i),e=u[n]=h[n](i),{c(){t=P("h2"),r=m("Weirdle"),l=N(),e.c(),s=C()},l(c){t=E(c,"H2",{});var y=A(t);r=b(y,"Weirdle"),y.forEach(f),l=W(c),e.l(c),s=C()},m(c,y){p(c,t,y),k(t,r),p(c,l,y),u[n].m(c,y),p(c,s,y),o=!0},p(c,y){let $=n;n=_(c),n===$?u[n].p(c,y):(ae(),T(u[$],1,1,()=>{u[$]=null}),fe(),e=u[n],e?e.p(c,y):(e=u[n]=h[n](c),e.c()),B(e,1),e.m(s.parentNode,s))},i(c){o||(B(e),o=!0)},o(c){T(e),o=!1},d(c){c&&f(t),c&&f(l),u[n].d(c),c&&f(s)}}}function Ne(i){let t,r;return t=new $e({props:{$$slots:{default:[Be]},$$scope:{ctx:i}}}),{c(){M(t.$$.fragment)},l(l){Y(t.$$.fragment,l)},m(l,n){D(t,l,n),r=!0},p(l,[n]){const e={};n&35&&(e.$$scope={dirty:n,ctx:l}),t.$set(e)},i(l){r||(B(t.$$.fragment,l),r=!0)},o(l){T(t.$$.fragment,l),r=!1},d(l){q(t,l)}}}function We(i,t,r){let l;j(i,de,h=>r(3,l=h));let n,e;const s=["hello","below","canon","alpha","stare"],o=s[Math.floor(Math.random()*s.length)];return be(()=>{r(0,n=l.url.searchParams.get("enc")),r(1,e=l.url.searchParams.get("hint"))}),[n,e,o]}class He extends se{constructor(t){super(),oe(this,t,We,Ne,ie,{})}}export{He as component};
