import{s as D,G as h,k as m,i as _,v as E,t as y,b as P,h as N,j as A,m as G,e as C,d as M,f as J,r as g,l as O,z as B,U as I,n as w,o as R,x as V,p as F}from"../chunks/scheduler.Bz19wuGf.js";import{S as H,i as T,c as d,b,m as k,t as f,a as p,d as v,g as j,e as q}from"../chunks/index.D0WKZCG1.js";import{b as K}from"../chunks/paths.QHiGX3-s.js";import{p as Q}from"../chunks/stores.BlAQSdaZ.js";import{e as L,P as W}from"../chunks/PageLayout.Bk1Wy-3z.js";import{A as X}from"../chunks/AnimationContext.B93WCM-O.js";import{B as U}from"../chunks/Bubble.DlWbxmuV.js";function S(o,t,l){const e=o.slice();return e[1]=t[l].avatar,e[2]=t[l].line,e[3]=t[l].side,e}function Y(o){let t,l;return t=new U({props:{delayNext:500+o[2].length*30,side:o[3],$$slots:{default:[x]},$$scope:{ctx:o}}}),{c(){d(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,n){k(t,e,n),l=!0},p(e,n){const r={};n&1&&(r.delayNext=500+e[2].length*30),n&1&&(r.side=e[3]),n&129&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){l||(f(t.$$.fragment,e),l=!0)},o(e){p(t.$$.fragment,e),l=!1},d(e){v(t,e)}}}function Z(o){let t,l;return t=new U({props:{delayNext:500+o[2].length*30,side:o[3],$$slots:{avatar:[le,({mode:e})=>({6:e}),({mode:e})=>e?64:0],default:[ee]},$$scope:{ctx:o}}}),{c(){d(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,n){k(t,e,n),l=!0},p(e,n){const r={};n&1&&(r.delayNext=500+e[2].length*30),n&1&&(r.side=e[3]),n&193&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){l||(f(t.$$.fragment,e),l=!0)},o(e){p(t.$$.fragment,e),l=!1},d(e){v(t,e)}}}function x(o){let t=o[2]+"",l,e;return{c(){l=y(t),e=P()},l(n){l=N(n,t),e=A(n)},m(n,r){m(n,l,r),m(n,e,r)},p(n,r){r&1&&t!==(t=n[2]+"")&&G(l,t)},d(n){n&&(_(l),_(e))}}}function ee(o){let t=o[2]+"",l,e;return{c(){l=y(t),e=P()},l(n){l=N(n,t),e=A(n)},m(n,r){m(n,l,r),m(n,e,r)},p(n,r){r&1&&t!==(t=n[2]+"")&&G(l,t)},d(n){n&&(_(l),_(e))}}}function te(o){let t,l,e;return{c(){t=C("img"),this.h()},l(n){t=M(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){B(t.src,l="https://www.gravatar.com/avatar/"+o[1])||g(t,"src",l),g(t,"alt",e=o[6]==="talk"?"Person":"Person, shouting"),g(t,"class","svelte-iblr9m"),I(t,"shout",o[6]==="shout")},m(n,r){m(n,t,r)},p(n,r){r&1&&!B(t.src,l="https://www.gravatar.com/avatar/"+n[1])&&g(t,"src",l),r&64&&e!==(e=n[6]==="talk"?"Person":"Person, shouting")&&g(t,"alt",e),r&64&&I(t,"shout",n[6]==="shout")},d(n){n&&_(t)}}}function ne(o){let t;return{c(){t=y("ðŸ¤")},l(l){t=N(l,"ðŸ¤")},m(l,e){m(l,t,e)},p:w,d(l){l&&_(t)}}}function le(o){let t,l;function e(a,c){return a[6]==="shutup"?ne:te}let n=e(o),r=n(o);return{c(){t=C("div"),r.c(),l=P(),this.h()},l(a){t=M(a,"DIV",{slot:!0});var c=J(t);r.l(c),l=A(c),c.forEach(_),this.h()},h(){g(t,"slot","avatar")},m(a,c){m(a,t,c),r.m(t,null),O(t,l)},p(a,c){n===(n=e(a))&&r?r.p(a,c):(r.d(1),r=n(a),r&&(r.c(),r.m(t,l)))},d(a){a&&_(t),r.d()}}}function z(o){let t,l,e,n,r;const a=[Z,Y],c=[];function s(i,u){var $;return u&1&&(t=null),t==null&&(t=(($=i[1])==null?void 0:$.trim())!==""),t?0:1}return l=s(o,-1),e=c[l]=a[l](o),{c(){e.c(),n=h()},l(i){e.l(i),n=h()},m(i,u){c[l].m(i,u),m(i,n,u),r=!0},p(i,u){let $=l;l=s(i,u),l===$?c[l].p(i,u):(j(),p(c[$],1,1,()=>{c[$]=null}),q(),e=c[l],e?e.p(i,u):(e=c[l]=a[l](i),e.c()),f(e,1),e.m(n.parentNode,n))},i(i){r||(f(e),r=!0)},o(i){p(e),r=!1},d(i){i&&_(n),c[l].d(i)}}}function re(o){let t,l,e=L(o[0]),n=[];for(let a=0;a<e.length;a+=1)n[a]=z(S(o,e,a));const r=a=>p(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=h()},l(a){for(let c=0;c<n.length;c+=1)n[c].l(a);t=h()},m(a,c){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(a,c);m(a,t,c),l=!0},p(a,c){if(c&65){e=L(a[0]);let s;for(s=0;s<e.length;s+=1){const i=S(a,e,s);n[s]?(n[s].p(i,c),f(n[s],1)):(n[s]=z(i),n[s].c(),f(n[s],1),n[s].m(t.parentNode,t))}for(j(),s=e.length;s<n.length;s+=1)r(s);q()}},i(a){if(!l){for(let c=0;c<e.length;c+=1)f(n[c]);l=!0}},o(a){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)p(n[c]);l=!1},d(a){a&&_(t),E(n,a)}}}function ae(o){let t,l;return t=new X({props:{name:"dialog",$$slots:{default:[re]},$$scope:{ctx:o}}}),{c(){d(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,n){k(t,e,n),l=!0},p(e,[n]){const r={};n&129&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){l||(f(t.$$.fragment,e),l=!0)},o(e){p(t.$$.fragment,e),l=!1},d(e){v(t,e)}}}function oe(o,t,l){let{lines:e}=t;return o.$$set=n=>{"lines"in n&&l(0,e=n.lines)},[e]}class se extends H{constructor(t){super(),T(this,t,oe,ae,D,{lines:0})}}function ce(o){let t,l;return t=new se({props:{lines:o[1]}}),{c(){d(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,n){k(t,e,n),l=!0},p(e,n){const r={};n&2&&(r.lines=e[1]),t.$set(r)},i(e){l||(f(t.$$.fragment,e),l=!0)},o(e){p(t.$$.fragment,e),l=!1},d(e){v(t,e)}}}function ie(o){let t,l=`Do you want to <a href="${K}/specials/talking/create">create your own</a>?`;return{c(){t=C("p"),t.innerHTML=l},l(e){t=M(e,"P",{"data-svelte-h":!0}),F(t)!=="svelte-1noqjze"&&(t.innerHTML=l)},m(e,n){m(e,t,n)},p:w,i:w,o:w,d(e){e&&_(t)}}}function ue(o){let t,l,e,n;const r=[ie,ce],a=[];function c(s,i){return s[0]===null?0:1}return t=c(o),l=a[t]=r[t](o),{c(){l.c(),e=h()},l(s){l.l(s),e=h()},m(s,i){a[t].m(s,i),m(s,e,i),n=!0},p(s,i){let u=t;t=c(s),t===u?a[t].p(s,i):(j(),p(a[u],1,1,()=>{a[u]=null}),q(),l=a[t],l?l.p(s,i):(l=a[t]=r[t](s),l.c()),f(l,1),l.m(e.parentNode,e))},i(s){n||(f(l),n=!0)},o(s){p(l),n=!1},d(s){s&&_(e),a[t].d(s)}}}function fe(o){let t,l;return t=new W({props:{$$slots:{default:[ue]},$$scope:{ctx:o}}}),{c(){d(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,n){k(t,e,n),l=!0},p(e,[n]){const r={};n&11&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){l||(f(t.$$.fragment,e),l=!0)},o(e){p(t.$$.fragment,e),l=!1},d(e){v(t,e)}}}function _e(o){return decodeURIComponent(window.atob(o))}function me(o,t,l){let e;R(o,Q,a=>l(2,e=a));let n,r=[];return V(()=>{if(l(0,n=e.url.searchParams.get("e")),!n)return;const a=JSON.parse(_e(n));if(Array.isArray(a)){l(1,r=a.map((c,s)=>({side:s%2===0?"left":"right",line:c})));return}l(1,r=a.l.map((c,s)=>{var i;return{side:s%2===0?"left":"right",avatar:(i=a.f)==null?void 0:i[s%2],line:c}}))}),[n,r]}class ve extends H{constructor(t){super(),T(this,t,me,fe,D,{})}}export{ve as component};
