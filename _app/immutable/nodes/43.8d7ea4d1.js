import{S as se,i as oe,s as ae,k as P,q as m,a as N,e as U,l as E,m as A,r as b,h as f,c as W,n as T,b as p,G as k,v as ie,d as S,f as fe,g as B,a0 as ue,I as j,u as F,H as O,a4 as V,y as Y,z as D,A as M,B as q,a6 as Z,K,T as he,a7 as me,j as be}from"../chunks/index.0bb61340.js";import{p as de}from"../chunks/stores.8ad43d69.js";import{P as $e}from"../chunks/PageLayout.8924e650.js";import{b as ce}from"../chunks/paths.fdfbf401.js";import{B as z}from"../chunks/Bubble.0a9e1c86.js";import{w as Q}from"../chunks/index.b093ad20.js";function x(a,t,r){const l=a.slice();return l[9]=t[r],l}function ee(a,t,r){const l=a.slice();return l[13]=t[r],l}function te(a){let t,r;return{c(){t=m("Another hint: "),r=m(a[1])},l(l){t=b(l,"Another hint: "),r=b(l,a[1])},m(l,n){p(l,t,n),p(l,r,n)},p(l,n){n&2&&F(r,l[1])},d(l){l&&f(t),l&&f(r)}}}function le(a){let t,r;return{c(){t=P("p"),r=m("Nothing guessed yet!")},l(l){t=E(l,"P",{});var n=A(t);r=b(n,"Nothing guessed yet!"),n.forEach(f)},m(l,n){p(l,t,n),k(t,r)},p:O,d(l){l&&f(t)}}}function ne(a){let t,r=a[13].letter+"",l,n;return{c(){t=P("span"),l=m(r),this.h()},l(e){t=E(e,"SPAN",{class:!0});var s=A(t);l=b(s,r),s.forEach(f),this.h()},h(){T(t,"class",n="letter "+a[13].correctnessInGuess+" svelte-1wxtodb")},m(e,s){p(e,t,s),k(t,l)},p(e,s){s&8&&r!==(r=e[13].letter+"")&&F(l,r),s&8&&n!==(n="letter "+e[13].correctnessInGuess+" svelte-1wxtodb")&&T(t,"class",n)},d(e){e&&f(t)}}}function re(a){let t,r,l=a[9],n=[];for(let e=0;e<l.length;e+=1)n[e]=ne(ee(a,l,e));return{c(){t=P("div");for(let e=0;e<n.length;e+=1)n[e].c();r=N(),this.h()},l(e){t=E(e,"DIV",{class:!0});var s=A(t);for(let o=0;o<n.length;o+=1)n[o].l(s);r=W(s),s.forEach(f),this.h()},h(){T(t,"class","guess svelte-1wxtodb")},m(e,s){p(e,t,s);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null);k(t,r)},p(e,s){if(s&8){l=e[9];let o;for(o=0;o<l.length;o+=1){const h=ee(e,l,o);n[o]?n[o].p(h,s):(n[o]=ne(h),n[o].c(),n[o].m(t,r))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(e){e&&f(t),ue(n,e)}}}function we(a){let t,r,l,n;return t=new z({props:{$$slots:{default:[ke]},$$scope:{ctx:a}}}),l=new z({props:{side:"right",$$slots:{default:[ye]},$$scope:{ctx:a}}}),{c(){Y(t.$$.fragment),r=N(),Y(l.$$.fragment)},l(e){D(t.$$.fragment,e),r=W(e),D(l.$$.fragment,e)},m(e,s){M(t,e,s),p(e,r,s),M(l,e,s),n=!0},p(e,s){const o={};s&65537&&(o.$$scope={dirty:s,ctx:e}),t.$set(o);const h={};s&65536&&(h.$$scope={dirty:s,ctx:e}),l.$set(h)},i(e){n||(B(t.$$.fragment,e),B(l.$$.fragment,e),n=!0)},o(e){S(t.$$.fragment,e),S(l.$$.fragment,e),n=!1},d(e){q(t,e),e&&f(r),q(l,e)}}}function ge(a){let t,r,l,n;return t=new z({props:{$$slots:{default:[Ie]},$$scope:{ctx:a}}}),l=new z({props:{side:"right",$$slots:{default:[Pe]},$$scope:{ctx:a}}}),{c(){Y(t.$$.fragment),r=N(),Y(l.$$.fragment)},l(e){D(t.$$.fragment,e),r=W(e),D(l.$$.fragment,e)},m(e,s){M(t,e,s),p(e,r,s),M(l,e,s),n=!0},p(e,s){const o={};s&65537&&(o.$$scope={dirty:s,ctx:e}),t.$set(o);const h={};s&65536&&(h.$$scope={dirty:s,ctx:e}),l.$set(h)},i(e){n||(B(t.$$.fragment,e),B(l.$$.fragment,e),n=!0)},o(e){S(t.$$.fragment,e),S(l.$$.fragment,e),n=!1},d(e){q(t,e),e&&f(r),q(l,e)}}}function ve(a){let t,r,l,n,e,s,o,h;return{c(){t=P("form"),r=P("input"),l=N(),n=P("button"),e=m("Guess"),this.h()},l(u){t=E(u,"FORM",{class:!0});var _=A(t);r=E(_,"INPUT",{minlength:!0,maxlength:!0,class:!0}),l=W(_),n=E(_,"BUTTON",{});var c=A(n);e=b(c,"Guess"),c.forEach(f),_.forEach(f),this.h()},h(){T(r,"minlength",a[5].length),T(r,"maxlength",a[5].length),T(r,"class","svelte-1wxtodb"),n.disabled=s=a[4].length!==a[5].length,T(t,"class","svelte-1wxtodb")},m(u,_){p(u,t,_),k(t,r),Z(r,a[4]),k(t,l),k(t,n),k(n,e),o||(h=[K(r,"input",a[10]),K(n,"click",he(a[9])),K(t,"submit",a[9])],o=!0)},p(u,_){_&16&&r.value!==u[4]&&Z(r,u[4]),_&16&&s!==(s=u[4].length!==u[5].length)&&(n.disabled=s)},i:O,o:O,d(u){u&&f(t),o=!1,me(h)}}}function ke(a){let t,r,l;return{c(){t=m("You found it! It was "),r=m(a[0]),l=m("!")},l(n){t=b(n,"You found it! It was "),r=b(n,a[0]),l=b(n,"!")},m(n,e){p(n,t,e),p(n,r,e),p(n,l,e)},p(n,e){e&1&&F(r,n[0])},d(n){n&&f(t),n&&f(r),n&&f(l)}}}function ye(a){let t,r,l,n;return{c(){t=m("If you want to create your own word, "),r=P("a"),l=m("start here"),n=m("!"),this.h()},l(e){t=b(e,"If you want to create your own word, "),r=E(e,"A",{href:!0});var s=A(r);l=b(s,"start here"),s.forEach(f),n=b(e,"!"),this.h()},h(){T(r,"href",ce+"/specials/weirdle/create")},m(e,s){p(e,t,s),p(e,r,s),k(r,l),p(e,n,s)},p:O,d(e){e&&f(t),e&&f(r),e&&f(n)}}}function Ie(a){let t,r;return{c(){t=m("Better luck next time, the word to be found was: "),r=m(a[0])},l(l){t=b(l,"Better luck next time, the word to be found was: "),r=b(l,a[0])},m(l,n){p(l,t,n),p(l,r,n)},p(l,n){n&1&&F(r,l[0])},d(l){l&&f(t),l&&f(r)}}}function Pe(a){let t,r,l,n;return{c(){t=m("If you want to create your own word, "),r=P("a"),l=m("start here"),n=m("!"),this.h()},l(e){t=b(e,"If you want to create your own word, "),r=E(e,"A",{href:!0});var s=A(r);l=b(s,"start here"),s.forEach(f),n=b(e,"!"),this.h()},h(){T(r,"href",ce+"/specials/weirdle/create")},m(e,s){p(e,t,s),p(e,r,s),k(r,l),p(e,n,s)},p:O,d(e){e&&f(t),e&&f(r),e&&f(n)}}}function Ee(a){let t,r,l=a[5].length+"",n,e,s,o,h,u,_,c,y,$=a[1]&&te(a),d=a[3],g=[];for(let i=0;i<d.length;i+=1)g[i]=re(x(a,d,i));let v=null;d.length||(v=le());const C=[ve,ge,we],G=[];function J(i,w){return i[3].length<6&&i[2]==="playing"?0:i[2]==="lost"?1:i[2]==="won"?2:-1}return~(u=J(a))&&(_=G[u]=C[u](a)),{c(){t=P("p"),r=m("You are searching a "),n=m(l),e=m(" letter word. "),$&&$.c(),s=N(),o=P("div");for(let i=0;i<g.length;i+=1)g[i].c();v&&v.c(),h=N(),_&&_.c(),c=U(),this.h()},l(i){t=E(i,"P",{});var w=A(t);r=b(w,"You are searching a "),n=b(w,l),e=b(w," letter word. "),$&&$.l(w),w.forEach(f),s=W(i),o=E(i,"DIV",{class:!0});var L=A(o);for(let I=0;I<g.length;I+=1)g[I].l(L);v&&v.l(L),L.forEach(f),h=W(i),_&&_.l(i),c=U(),this.h()},h(){T(o,"class","board svelte-1wxtodb")},m(i,w){p(i,t,w),k(t,r),k(t,n),k(t,e),$&&$.m(t,null),p(i,s,w),p(i,o,w);for(let L=0;L<g.length;L+=1)g[L]&&g[L].m(o,null);v&&v.m(o,null),p(i,h,w),~u&&G[u].m(i,w),p(i,c,w),y=!0},p(i,[w]){if(i[1]?$?$.p(i,w):($=te(i),$.c(),$.m(t,null)):$&&($.d(1),$=null),w&8){d=i[3];let I;for(I=0;I<d.length;I+=1){const R=x(i,d,I);g[I]?g[I].p(R,w):(g[I]=re(R),g[I].c(),g[I].m(o,null))}for(;I<g.length;I+=1)g[I].d(1);g.length=d.length,!d.length&&v?v.p(i,w):d.length?v&&(v.d(1),v=null):(v=le(),v.c(),v.m(o,null))}let L=u;u=J(i),u===L?~u&&G[u].p(i,w):(_&&(ie(),S(G[L],1,1,()=>{G[L]=null}),fe()),~u?(_=G[u],_?_.p(i,w):(_=G[u]=C[u](i),_.c()),B(_,1),_.m(c.parentNode,c)):_=null)},i(i){y||(B(_),y=!0)},o(i){S(_),y=!1},d(i){i&&f(t),$&&$.d(),i&&f(s),i&&f(o),ue(g,i),v&&v.d(),i&&f(h),~u&&G[u].d(i),i&&f(c)}}}function Ge(a,t,r){let l,n,e,{word:s}=t,{hint:o}=t,h=s.split("").map(d=>d.toLocaleLowerCase()),u=Q("playing");j(a,u,d=>r(2,l=d));let _=Q([]);j(a,_,d=>r(3,n=d));let c=Q("");j(a,c,d=>r(4,e=d));function y(d){if(d.preventDefault(),e.length!==h.length)return;const g=e.toLocaleLowerCase().split(""),v=g.reduce((C,G,J)=>{const i=h[J]===G,w=g.reduce((H,X,pe)=>H+(X===G&&h[pe]===X?1:0),0),L=C.filter(H=>H.letter===G).length,I=h.filter(H=>H===G).length,R=L+w<I,_e={letter:G,correctnessInGuess:i?"green":R?"yellow":"black"};return[...C,_e]},[]);V(_,n=[...n,v],n),V(c,e="",e),v.every(({correctnessInGuess:C})=>C==="green")?V(u,l="won",l):n.length===6&&V(u,l="lost",l)}function $(){e=this.value,c.set(e)}return a.$$set=d=>{"word"in d&&r(0,s=d.word),"hint"in d&&r(1,o=d.hint)},[s,o,l,n,e,h,u,_,c,y,$]}class Le extends se{constructor(t){super(),oe(this,t,Ge,Ee,ae,{word:0,hint:1})}}function Ae(a){let t,r;return t=new Le({props:{word:window.atob(a[0]),hint:a[1]?window.atob(a[1]):void 0}}),{c(){Y(t.$$.fragment)},l(l){D(t.$$.fragment,l)},m(l,n){M(t,l,n),r=!0},p(l,n){const e={};n&1&&(e.word=window.atob(l[0])),n&2&&(e.hint=l[1]?window.atob(l[1]):void 0),t.$set(e)},i(l){r||(B(t.$$.fragment,l),r=!0)},o(l){S(t.$$.fragment,l),r=!1},d(l){q(t,l)}}}function Te(a){let t,r;return{c(){t=P("p"),r=m("This game needs to be played in a browser with JavaScript enabled.")},l(l){t=E(l,"P",{});var n=A(t);r=b(n,"This game needs to be played in a browser with JavaScript enabled."),n.forEach(f)},m(l,n){p(l,t,n),k(t,r)},p:O,i:O,o:O,d(l){l&&f(t)}}}function Oe(a){let t,r,l,n,e=Se(a);return{c(){t=P("p"),r=m("Please use a proper link with an 'enc' parameter attached to it!"),l=N(),e&&e.c(),n=U()},l(s){t=E(s,"P",{});var o=A(t);r=b(o,"Please use a proper link with an 'enc' parameter attached to it!"),o.forEach(f),l=W(s),e&&e.l(s),n=U()},m(s,o){p(s,t,o),k(t,r),p(s,l,o),e&&e.m(s,o),p(s,n,o)},p(s,o){e.p(s,o)},i:O,o:O,d(s){s&&f(t),s&&f(l),e&&e.d(s),s&&f(n)}}}function Se(a){let t,r,l,n,e;return{c(){t=P("p"),r=m("Or do you want to play "),l=P("a"),n=m("a randomly selected word"),e=m("?"),this.h()},l(s){t=E(s,"P",{});var o=A(t);r=b(o,"Or do you want to play "),l=E(o,"A",{href:!0});var h=A(l);n=b(h,"a randomly selected word"),h.forEach(f),e=b(o,"?"),o.forEach(f),this.h()},h(){T(l,"href","?enc="+encodeURIComponent(window.btoa(a[2])))},m(s,o){p(s,t,o),k(t,r),k(t,l),k(l,n),k(t,e)},p:O,d(s){s&&f(t)}}}function Be(a){let t,r,l,n,e,s,o;const h=[Oe,Te,Ae],u=[];function _(c,y){return c[0]?2:0}return n=_(a),e=u[n]=h[n](a),{c(){t=P("h2"),r=m("Weirdle"),l=N(),e.c(),s=U()},l(c){t=E(c,"H2",{});var y=A(t);r=b(y,"Weirdle"),y.forEach(f),l=W(c),e.l(c),s=U()},m(c,y){p(c,t,y),k(t,r),p(c,l,y),u[n].m(c,y),p(c,s,y),o=!0},p(c,y){let $=n;n=_(c),n===$?u[n].p(c,y):(ie(),S(u[$],1,1,()=>{u[$]=null}),fe(),e=u[n],e?e.p(c,y):(e=u[n]=h[n](c),e.c()),B(e,1),e.m(s.parentNode,s))},i(c){o||(B(e),o=!0)},o(c){S(e),o=!1},d(c){c&&f(t),c&&f(l),u[n].d(c),c&&f(s)}}}function Ne(a){let t,r;return t=new $e({props:{$$slots:{default:[Be]},$$scope:{ctx:a}}}),{c(){Y(t.$$.fragment)},l(l){D(t.$$.fragment,l)},m(l,n){M(t,l,n),r=!0},p(l,[n]){const e={};n&35&&(e.$$scope={dirty:n,ctx:l}),t.$set(e)},i(l){r||(B(t.$$.fragment,l),r=!0)},o(l){S(t.$$.fragment,l),r=!1},d(l){q(t,l)}}}function We(a,t,r){let l;j(a,de,h=>r(3,l=h));let n,e;const s=["hello","below","canon","alpha","stare"],o=s[Math.floor(Math.random()*s.length)];return be(()=>{r(0,n=l.url.searchParams.get("enc")),r(1,e=l.url.searchParams.get("hint"))}),[n,e,o]}class He extends se{constructor(t){super(),oe(this,t,We,Ne,ae,{})}}export{He as component};
