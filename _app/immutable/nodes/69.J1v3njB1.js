import{s as D,e as h,i as m,d as _,I as J,l as y,a as P,m as N,c as A,n as H,f as B,g as C,h as O,j as g,x as R,B as j,a0 as q,y as w,z as U,o as V,A as F}from"../chunks/scheduler.oS2FPi-b.js";import{S as T,i as E,b as d,d as b,m as k,a as u,t as p,e as v,g as I,c as M}from"../chunks/index.ICQ99_FX.js";import{b as K}from"../chunks/paths.yC7DuJ5Z.js";import{p as Q}from"../chunks/stores.tXzAjR-n.js";import{P as W}from"../chunks/PageLayout.Jq6V7RY0.js";import{e as L}from"../chunks/each.6w4Ej4nR.js";import{A as X}from"../chunks/AnimationContext.g24n9XbS.js";import{B as G}from"../chunks/Bubble.B6VW5FgI.js";function S(o,t,r){const e=o.slice();return e[1]=t[r].avatar,e[2]=t[r].line,e[3]=t[r].side,e}function Y(o){let t,r;return t=new G({props:{delayNext:500+o[2].length*30,side:o[3],$$slots:{default:[x]},$$scope:{ctx:o}}}),{c(){d(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,n){k(t,e,n),r=!0},p(e,n){const l={};n&1&&(l.delayNext=500+e[2].length*30),n&1&&(l.side=e[3]),n&129&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){r||(u(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){v(t,e)}}}function Z(o){let t,r;return t=new G({props:{delayNext:500+o[2].length*30,side:o[3],$$slots:{avatar:[re,({mode:e})=>({6:e}),({mode:e})=>e?64:0],default:[ee]},$$scope:{ctx:o}}}),{c(){d(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,n){k(t,e,n),r=!0},p(e,n){const l={};n&1&&(l.delayNext=500+e[2].length*30),n&1&&(l.side=e[3]),n&193&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){r||(u(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){v(t,e)}}}function x(o){let t=o[2]+"",r,e;return{c(){r=y(t),e=P()},l(n){r=N(n,t),e=A(n)},m(n,l){m(n,r,l),m(n,e,l)},p(n,l){l&1&&t!==(t=n[2]+"")&&H(r,t)},d(n){n&&(_(r),_(e))}}}function ee(o){let t=o[2]+"",r,e;return{c(){r=y(t),e=P()},l(n){r=N(n,t),e=A(n)},m(n,l){m(n,r,l),m(n,e,l)},p(n,l){l&1&&t!==(t=n[2]+"")&&H(r,t)},d(n){n&&(_(r),_(e))}}}function te(o){let t,r,e;return{c(){t=B("img"),this.h()},l(n){t=C(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){j(t.src,r="https://www.gravatar.com/avatar/"+o[1])||g(t,"src",r),g(t,"alt",e=o[6]==="talk"?"Person":"Person, shouting"),g(t,"class","svelte-iblr9m"),q(t,"shout",o[6]==="shout")},m(n,l){m(n,t,l)},p(n,l){l&1&&!j(t.src,r="https://www.gravatar.com/avatar/"+n[1])&&g(t,"src",r),l&64&&e!==(e=n[6]==="talk"?"Person":"Person, shouting")&&g(t,"alt",e),l&64&&q(t,"shout",n[6]==="shout")},d(n){n&&_(t)}}}function ne(o){let t;return{c(){t=y("ðŸ¤")},l(r){t=N(r,"ðŸ¤")},m(r,e){m(r,t,e)},p:w,d(r){r&&_(t)}}}function re(o){let t,r;function e(a,c){return a[6]==="shutup"?ne:te}let n=e(o),l=n(o);return{c(){t=B("div"),l.c(),r=P(),this.h()},l(a){t=C(a,"DIV",{slot:!0});var c=O(t);l.l(c),r=A(c),c.forEach(_),this.h()},h(){g(t,"slot","avatar")},m(a,c){m(a,t,c),l.m(t,null),R(t,r)},p(a,c){n===(n=e(a))&&l?l.p(a,c):(l.d(1),l=n(a),l&&(l.c(),l.m(t,r)))},d(a){a&&_(t),l.d()}}}function z(o){let t,r,e,n,l;const a=[Z,Y],c=[];function s(i,f){var $;return f&1&&(t=null),t==null&&(t=(($=i[1])==null?void 0:$.trim())!==""),t?0:1}return r=s(o,-1),e=c[r]=a[r](o),{c(){e.c(),n=h()},l(i){e.l(i),n=h()},m(i,f){c[r].m(i,f),m(i,n,f),l=!0},p(i,f){let $=r;r=s(i,f),r===$?c[r].p(i,f):(I(),p(c[$],1,1,()=>{c[$]=null}),M(),e=c[r],e?e.p(i,f):(e=c[r]=a[r](i),e.c()),u(e,1),e.m(n.parentNode,n))},i(i){l||(u(e),l=!0)},o(i){p(e),l=!1},d(i){i&&_(n),c[r].d(i)}}}function le(o){let t,r,e=L(o[0]),n=[];for(let a=0;a<e.length;a+=1)n[a]=z(S(o,e,a));const l=a=>p(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=h()},l(a){for(let c=0;c<n.length;c+=1)n[c].l(a);t=h()},m(a,c){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(a,c);m(a,t,c),r=!0},p(a,c){if(c&65){e=L(a[0]);let s;for(s=0;s<e.length;s+=1){const i=S(a,e,s);n[s]?(n[s].p(i,c),u(n[s],1)):(n[s]=z(i),n[s].c(),u(n[s],1),n[s].m(t.parentNode,t))}for(I(),s=e.length;s<n.length;s+=1)l(s);M()}},i(a){if(!r){for(let c=0;c<e.length;c+=1)u(n[c]);r=!0}},o(a){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)p(n[c]);r=!1},d(a){a&&_(t),J(n,a)}}}function ae(o){let t,r;return t=new X({props:{name:"dialog",$$slots:{default:[le]},$$scope:{ctx:o}}}),{c(){d(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,n){k(t,e,n),r=!0},p(e,[n]){const l={};n&129&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){r||(u(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){v(t,e)}}}function oe(o,t,r){let{lines:e}=t;return o.$$set=n=>{"lines"in n&&r(0,e=n.lines)},[e]}class se extends T{constructor(t){super(),E(this,t,oe,ae,D,{lines:0})}}function ce(o){let t,r;return t=new se({props:{lines:o[1]}}),{c(){d(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,n){k(t,e,n),r=!0},p(e,n){const l={};n&2&&(l.lines=e[1]),t.$set(l)},i(e){r||(u(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){v(t,e)}}}function ie(o){let t,r=`Do you want to <a href="${K}/specials/talking/create">create your own</a>?`;return{c(){t=B("p"),t.innerHTML=r},l(e){t=C(e,"P",{"data-svelte-h":!0}),F(t)!=="svelte-1noqjze"&&(t.innerHTML=r)},m(e,n){m(e,t,n)},p:w,i:w,o:w,d(e){e&&_(t)}}}function fe(o){let t,r,e,n;const l=[ie,ce],a=[];function c(s,i){return s[0]===null?0:1}return t=c(o),r=a[t]=l[t](o),{c(){r.c(),e=h()},l(s){r.l(s),e=h()},m(s,i){a[t].m(s,i),m(s,e,i),n=!0},p(s,i){let f=t;t=c(s),t===f?a[t].p(s,i):(I(),p(a[f],1,1,()=>{a[f]=null}),M(),r=a[t],r?r.p(s,i):(r=a[t]=l[t](s),r.c()),u(r,1),r.m(e.parentNode,e))},i(s){n||(u(r),n=!0)},o(s){p(r),n=!1},d(s){s&&_(e),a[t].d(s)}}}function ue(o){let t,r;return t=new W({props:{$$slots:{default:[fe]},$$scope:{ctx:o}}}),{c(){d(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,n){k(t,e,n),r=!0},p(e,[n]){const l={};n&11&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){r||(u(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){v(t,e)}}}function _e(o){return decodeURIComponent(window.atob(o))}function me(o,t,r){let e;U(o,Q,a=>r(2,e=a));let n,l=[];return V(()=>{if(r(0,n=e.url.searchParams.get("e")),!n)return;const a=JSON.parse(_e(n));if(Array.isArray(a)){r(1,l=a.map((c,s)=>({side:s%2===0?"left":"right",line:c})));return}r(1,l=a.l.map((c,s)=>{var i;return{side:s%2===0?"left":"right",avatar:(i=a.f)==null?void 0:i[s%2],line:c}}))}),[n,l]}class we extends T{constructor(t){super(),E(this,t,me,ue,D,{})}}export{we as component};
