import{S as fe,i as ce,s as pe,w as he,x as _e,y as me,f as ve,t as be,z as de,H as ne,k as d,q as E,a as A,e as re,l as k,m as U,r as $,h as _,c as G,n as f,b as N,G as o,a5 as q,P as S,_ as ke,a6 as ye,a3 as x,u as ge}from"../../../../../chunks/index-ed5c000a.js";import{b as Ee}from"../../../../../chunks/paths-b4419565.js";import{P as $e}from"../../../../../chunks/PageLayout-628d1dda.js";import{w as se}from"../../../../../chunks/index-8741c17f.js";function oe(n,t,u){const a=n.slice();return a[12]=t[u],a[13]=t,a[14]=u,a}function ie(n){let t,u,a=n[14]%2===0?"A":"B",e,s,c,i,g,P;function y(){n[9].call(i,n[13],n[14])}return{c(){t=d("label"),u=E("Character "),e=E(a),s=E(":"),c=A(),i=d("input"),this.h()},l(h){t=k(h,"LABEL",{for:!0});var p=U(t);u=$(p,"Character "),e=$(p,a),s=$(p,":"),p.forEach(_),c=G(h),i=k(h,"INPUT",{id:!0,type:!0,class:!0}),this.h()},h(){f(t,"for","talking-create-line-"+n[14]),f(i,"id","talking-create-line-"+n[14]),f(i,"type","text"),f(i,"class","svelte-tnth7f")},m(h,p){N(h,t,p),o(t,u),o(t,e),o(t,s),N(h,c,p),N(h,i,p),q(i,n[12]),g||(P=S(i,"input",y),g=!0)},p(h,p){n=h,p&8&&i.value!==n[12]&&q(i,n[12])},d(h){h&&_(t),h&&_(c),h&&_(i),g=!1,P()}}}function ue(n){let t,u,a,e;return{c(){t=d("p"),u=E("Here is your link: "),a=d("a"),e=E(n[2]),this.h()},l(s){t=k(s,"P",{});var c=U(t);u=$(c,"Here is your link: "),a=k(c,"A",{href:!0,rel:!0});var i=U(a);e=$(i,n[2]),i.forEach(_),c.forEach(_),this.h()},h(){f(a,"href",n[2]),f(a,"rel","external")},m(s,c){N(s,t,c),o(t,u),o(t,a),o(a,e)},p(s,c){c&4&&ge(e,s[2]),c&4&&f(a,"href",s[2])},d(s){s&&_(t)}}}function Be(n){let t,u,a,e,s,c,i,g,P,y,h,p,F,z,T,R,B,j,D,C,K,Q,L,V,W,w,X,J,O,Y,ee,H=n[3],m=[];for(let l=0;l<H.length;l+=1)m[l]=ie(oe(n,H,l));let v=n[2]&&ue(n);return{c(){t=d("h2"),u=E("Talking"),a=A(),e=d("form"),s=d("label"),c=E("Gravatar hash of character A:"),i=d("br"),g=E("(leave empty for no Gravatar)"),P=A(),y=d("input"),h=A(),p=d("label"),F=E("Gravatar hash of character B:"),z=d("br"),T=E("(leave empty for no Gravatar)"),R=A(),B=d("input"),j=A();for(let l=0;l<m.length;l+=1)m[l].c();D=A(),C=d("button"),K=E("Remove last line"),Q=A(),L=d("button"),V=E("Add a line"),W=A(),w=d("button"),X=E("Create a link"),J=A(),v&&v.c(),O=re(),this.h()},l(l){t=k(l,"H2",{});var b=U(t);u=$(b,"Talking"),b.forEach(_),a=G(l),e=k(l,"FORM",{class:!0});var r=U(e);s=k(r,"LABEL",{for:!0});var I=U(s);c=$(I,"Gravatar hash of character A:"),i=k(I,"BR",{}),g=$(I,"(leave empty for no Gravatar)"),I.forEach(_),P=G(r),y=k(r,"INPUT",{id:!0,type:!0,class:!0}),h=G(r),p=k(r,"LABEL",{for:!0});var M=U(p);F=$(M,"Gravatar hash of character B:"),z=k(M,"BR",{}),T=$(M,"(leave empty for no Gravatar)"),M.forEach(_),R=G(r),B=k(r,"INPUT",{id:!0,type:!0,class:!0}),j=G(r);for(let Z=0;Z<m.length;Z+=1)m[Z].l(r);D=G(r),C=k(r,"BUTTON",{type:!0,class:!0});var te=U(C);K=$(te,"Remove last line"),te.forEach(_),Q=G(r),L=k(r,"BUTTON",{type:!0,class:!0});var le=U(L);V=$(le,"Add a line"),le.forEach(_),W=G(r),w=k(r,"BUTTON",{type:!0,class:!0});var ae=U(w);X=$(ae,"Create a link"),ae.forEach(_),r.forEach(_),J=G(l),v&&v.l(l),O=re(),this.h()},h(){f(s,"for","talking-create-face-a"),f(y,"id","talking-create-face-a"),f(y,"type","text"),f(y,"class","svelte-tnth7f"),f(p,"for","talking-create-face-b"),f(B,"id","talking-create-face-b"),f(B,"type","text"),f(B,"class","svelte-tnth7f"),f(C,"type","button"),f(C,"class","svelte-tnth7f"),f(L,"type","button"),f(L,"class","svelte-tnth7f"),f(w,"type","submit"),f(w,"class","svelte-tnth7f"),f(e,"class","svelte-tnth7f")},m(l,b){N(l,t,b),o(t,u),N(l,a,b),N(l,e,b),o(e,s),o(s,c),o(s,i),o(s,g),o(e,P),o(e,y),q(y,n[0]),o(e,h),o(e,p),o(p,F),o(p,z),o(p,T),o(e,R),o(e,B),q(B,n[1]),o(e,j);for(let r=0;r<m.length;r+=1)m[r].m(e,null);o(e,D),o(e,C),o(C,K),o(e,Q),o(e,L),o(L,V),o(e,W),o(e,w),o(w,X),N(l,J,b),v&&v.m(l,b),N(l,O,b),Y||(ee=[S(y,"input",n[7]),S(B,"input",n[8]),S(C,"click",n[10]),S(L,"click",n[11]),S(e,"submit",n[6])],Y=!0)},p(l,b){if(b&1&&y.value!==l[0]&&q(y,l[0]),b&2&&B.value!==l[1]&&q(B,l[1]),b&8){H=l[3];let r;for(r=0;r<H.length;r+=1){const I=oe(l,H,r);m[r]?m[r].p(I,b):(m[r]=ie(I),m[r].c(),m[r].m(e,D))}for(;r<m.length;r+=1)m[r].d(1);m.length=H.length}l[2]?v?v.p(l,b):(v=ue(l),v.c(),v.m(O.parentNode,O)):v&&(v.d(1),v=null)},d(l){l&&_(t),l&&_(a),l&&_(e),ke(m,l),l&&_(J),v&&v.d(l),l&&_(O),Y=!1,ye(ee)}}}function Te(n){let t,u;return t=new $e({props:{$$slots:{default:[Be]},$$scope:{ctx:n}}}),{c(){he(t.$$.fragment)},l(a){_e(t.$$.fragment,a)},m(a,e){me(t,a,e),u=!0},p(a,[e]){const s={};e&32783&&(s.$$scope={dirty:e,ctx:a}),t.$set(s)},i(a){u||(ve(t.$$.fragment,a),u=!0)},o(a){be(t.$$.fragment,a),u=!1},d(a){de(t,a)}}}function Ae(n){return window.btoa(encodeURIComponent(n))}function Ge(n,t,u){let a,e,s=se([""]);ne(n,s,T=>u(3,e=T));let c=se("");ne(n,c,T=>u(2,a=T));let i="",g="";function P(T){T.preventDefault();const R=i!==""||g!==""?{f:[i,g],l:e}:e,B=Ae(JSON.stringify(R));x(c,a=`${Ee}/specials/talking?e=${encodeURIComponent(B)}`,a)}function y(){i=this.value,u(0,i)}function h(){g=this.value,u(1,g)}function p(T,R){T[R]=this.value,s.set(e)}return[i,g,a,e,s,c,P,y,h,p,()=>x(s,e=e.slice(0,-1),e),()=>x(s,e=[...e,""],e)]}class Le extends fe{constructor(t){super(),ce(this,t,Ge,Te,pe,{})}}export{Le as default};
