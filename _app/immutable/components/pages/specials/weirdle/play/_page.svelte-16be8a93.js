import{S as se,i as oe,s as ae,k as P,q as m,a as N,e as U,l as E,m as L,r as d,h as f,c as W,n as O,b as p,G as k,g as ie,t as T,d as fe,f as B,_ as ue,H as j,u as F,B as S,a3 as V,w as Y,x as D,y as M,z as R,a5 as Z,P as K,R as he,a6 as me,j as de}from"../../../../../chunks/index-ed5c000a.js";import{p as be}from"../../../../../chunks/stores-0601abde.js";import{P as $e}from"../../../../../chunks/PageLayout-59cb6841.js";import{b as ce}from"../../../../../chunks/paths-b4419565.js";import{B as z}from"../../../../../chunks/Bubble-111f0336.js";import{w as Q}from"../../../../../chunks/index-8741c17f.js";function x(o,t,r){const l=o.slice();return l[9]=t[r],l}function ee(o,t,r){const l=o.slice();return l[13]=t[r],l}function te(o){let t,r;return{c(){t=m("Another hint: "),r=m(o[1])},l(l){t=d(l,"Another hint: "),r=d(l,o[1])},m(l,n){p(l,t,n),p(l,r,n)},p(l,n){n&2&&F(r,l[1])},d(l){l&&f(t),l&&f(r)}}}function le(o){let t,r;return{c(){t=P("p"),r=m("Nothing guessed yet!")},l(l){t=E(l,"P",{});var n=L(t);r=d(n,"Nothing guessed yet!"),n.forEach(f)},m(l,n){p(l,t,n),k(t,r)},p:S,d(l){l&&f(t)}}}function ne(o){let t,r=o[13].letter+"",l,n;return{c(){t=P("span"),l=m(r),this.h()},l(e){t=E(e,"SPAN",{class:!0});var s=L(t);l=d(s,r),s.forEach(f),this.h()},h(){O(t,"class",n="letter "+o[13].correctnessInGuess+" svelte-1wxtodb")},m(e,s){p(e,t,s),k(t,l)},p(e,s){s&8&&r!==(r=e[13].letter+"")&&F(l,r),s&8&&n!==(n="letter "+e[13].correctnessInGuess+" svelte-1wxtodb")&&O(t,"class",n)},d(e){e&&f(t)}}}function re(o){let t,r,l=o[9],n=[];for(let e=0;e<l.length;e+=1)n[e]=ne(ee(o,l,e));return{c(){t=P("div");for(let e=0;e<n.length;e+=1)n[e].c();r=N(),this.h()},l(e){t=E(e,"DIV",{class:!0});var s=L(t);for(let a=0;a<n.length;a+=1)n[a].l(s);r=W(s),s.forEach(f),this.h()},h(){O(t,"class","guess svelte-1wxtodb")},m(e,s){p(e,t,s);for(let a=0;a<n.length;a+=1)n[a].m(t,null);k(t,r)},p(e,s){if(s&8){l=e[9];let a;for(a=0;a<l.length;a+=1){const h=ee(e,l,a);n[a]?n[a].p(h,s):(n[a]=ne(h),n[a].c(),n[a].m(t,r))}for(;a<n.length;a+=1)n[a].d(1);n.length=l.length}},d(e){e&&f(t),ue(n,e)}}}function we(o){let t,r,l,n;return t=new z({props:{$$slots:{default:[ke]},$$scope:{ctx:o}}}),l=new z({props:{side:"right",$$slots:{default:[ye]},$$scope:{ctx:o}}}),{c(){Y(t.$$.fragment),r=N(),Y(l.$$.fragment)},l(e){D(t.$$.fragment,e),r=W(e),D(l.$$.fragment,e)},m(e,s){M(t,e,s),p(e,r,s),M(l,e,s),n=!0},p(e,s){const a={};s&65537&&(a.$$scope={dirty:s,ctx:e}),t.$set(a);const h={};s&65536&&(h.$$scope={dirty:s,ctx:e}),l.$set(h)},i(e){n||(B(t.$$.fragment,e),B(l.$$.fragment,e),n=!0)},o(e){T(t.$$.fragment,e),T(l.$$.fragment,e),n=!1},d(e){R(t,e),e&&f(r),R(l,e)}}}function ge(o){let t,r,l,n;return t=new z({props:{$$slots:{default:[Ie]},$$scope:{ctx:o}}}),l=new z({props:{side:"right",$$slots:{default:[Pe]},$$scope:{ctx:o}}}),{c(){Y(t.$$.fragment),r=N(),Y(l.$$.fragment)},l(e){D(t.$$.fragment,e),r=W(e),D(l.$$.fragment,e)},m(e,s){M(t,e,s),p(e,r,s),M(l,e,s),n=!0},p(e,s){const a={};s&65537&&(a.$$scope={dirty:s,ctx:e}),t.$set(a);const h={};s&65536&&(h.$$scope={dirty:s,ctx:e}),l.$set(h)},i(e){n||(B(t.$$.fragment,e),B(l.$$.fragment,e),n=!0)},o(e){T(t.$$.fragment,e),T(l.$$.fragment,e),n=!1},d(e){R(t,e),e&&f(r),R(l,e)}}}function ve(o){let t,r,l,n,e,s,a,h;return{c(){t=P("form"),r=P("input"),l=N(),n=P("button"),e=m("Guess"),this.h()},l(u){t=E(u,"FORM",{class:!0});var _=L(t);r=E(_,"INPUT",{minlength:!0,maxlength:!0,class:!0}),l=W(_),n=E(_,"BUTTON",{});var c=L(n);e=d(c,"Guess"),c.forEach(f),_.forEach(f),this.h()},h(){O(r,"minlength",o[5].length),O(r,"maxlength",o[5].length),O(r,"class","svelte-1wxtodb"),n.disabled=s=o[4].length!==o[5].length,O(t,"class","svelte-1wxtodb")},m(u,_){p(u,t,_),k(t,r),Z(r,o[4]),k(t,l),k(t,n),k(n,e),a||(h=[K(r,"input",o[10]),K(n,"click",he(o[9])),K(t,"submit",o[9])],a=!0)},p(u,_){_&16&&r.value!==u[4]&&Z(r,u[4]),_&16&&s!==(s=u[4].length!==u[5].length)&&(n.disabled=s)},i:S,o:S,d(u){u&&f(t),a=!1,me(h)}}}function ke(o){let t,r,l;return{c(){t=m("You found it! It was "),r=m(o[0]),l=m("!")},l(n){t=d(n,"You found it! It was "),r=d(n,o[0]),l=d(n,"!")},m(n,e){p(n,t,e),p(n,r,e),p(n,l,e)},p(n,e){e&1&&F(r,n[0])},d(n){n&&f(t),n&&f(r),n&&f(l)}}}function ye(o){let t,r,l,n;return{c(){t=m("If you want to create your own word, "),r=P("a"),l=m("start here"),n=m("!"),this.h()},l(e){t=d(e,"If you want to create your own word, "),r=E(e,"A",{href:!0});var s=L(r);l=d(s,"start here"),s.forEach(f),n=d(e,"!"),this.h()},h(){O(r,"href",ce+"/specials/weirdle/create")},m(e,s){p(e,t,s),p(e,r,s),k(r,l),p(e,n,s)},p:S,d(e){e&&f(t),e&&f(r),e&&f(n)}}}function Ie(o){let t,r;return{c(){t=m("Better luck next time, the word to be found was: "),r=m(o[0])},l(l){t=d(l,"Better luck next time, the word to be found was: "),r=d(l,o[0])},m(l,n){p(l,t,n),p(l,r,n)},p(l,n){n&1&&F(r,l[0])},d(l){l&&f(t),l&&f(r)}}}function Pe(o){let t,r,l,n;return{c(){t=m("If you want to create your own word, "),r=P("a"),l=m("start here"),n=m("!"),this.h()},l(e){t=d(e,"If you want to create your own word, "),r=E(e,"A",{href:!0});var s=L(r);l=d(s,"start here"),s.forEach(f),n=d(e,"!"),this.h()},h(){O(r,"href",ce+"/specials/weirdle/create")},m(e,s){p(e,t,s),p(e,r,s),k(r,l),p(e,n,s)},p:S,d(e){e&&f(t),e&&f(r),e&&f(n)}}}function Ee(o){let t,r,l=o[5].length+"",n,e,s,a,h,u,_,c,y,$=o[1]&&te(o),b=o[3],v=[];for(let i=0;i<b.length;i+=1)v[i]=re(x(o,b,i));let g=null;b.length||(g=le());const C=[ve,ge,we],G=[];function H(i,w){return i[3].length<6&&i[2]==="playing"?0:i[2]==="lost"?1:i[2]==="won"?2:-1}return~(u=H(o))&&(_=G[u]=C[u](o)),{c(){t=P("p"),r=m("You are searching a "),n=m(l),e=m(" letter word. "),$&&$.c(),s=N(),a=P("div");for(let i=0;i<v.length;i+=1)v[i].c();g&&g.c(),h=N(),_&&_.c(),c=U(),this.h()},l(i){t=E(i,"P",{});var w=L(t);r=d(w,"You are searching a "),n=d(w,l),e=d(w," letter word. "),$&&$.l(w),w.forEach(f),s=W(i),a=E(i,"DIV",{class:!0});var A=L(a);for(let I=0;I<v.length;I+=1)v[I].l(A);g&&g.l(A),A.forEach(f),h=W(i),_&&_.l(i),c=U(),this.h()},h(){O(a,"class","board svelte-1wxtodb")},m(i,w){p(i,t,w),k(t,r),k(t,n),k(t,e),$&&$.m(t,null),p(i,s,w),p(i,a,w);for(let A=0;A<v.length;A+=1)v[A].m(a,null);g&&g.m(a,null),p(i,h,w),~u&&G[u].m(i,w),p(i,c,w),y=!0},p(i,[w]){if(i[1]?$?$.p(i,w):($=te(i),$.c(),$.m(t,null)):$&&($.d(1),$=null),w&8){b=i[3];let I;for(I=0;I<b.length;I+=1){const J=x(i,b,I);v[I]?v[I].p(J,w):(v[I]=re(J),v[I].c(),v[I].m(a,null))}for(;I<v.length;I+=1)v[I].d(1);v.length=b.length,!b.length&&g?g.p(i,w):b.length?g&&(g.d(1),g=null):(g=le(),g.c(),g.m(a,null))}let A=u;u=H(i),u===A?~u&&G[u].p(i,w):(_&&(ie(),T(G[A],1,1,()=>{G[A]=null}),fe()),~u?(_=G[u],_?_.p(i,w):(_=G[u]=C[u](i),_.c()),B(_,1),_.m(c.parentNode,c)):_=null)},i(i){y||(B(_),y=!0)},o(i){T(_),y=!1},d(i){i&&f(t),$&&$.d(),i&&f(s),i&&f(a),ue(v,i),g&&g.d(),i&&f(h),~u&&G[u].d(i),i&&f(c)}}}function Ge(o,t,r){let l,n,e,{word:s}=t,{hint:a}=t,h=s.split("").map(b=>b.toLocaleLowerCase()),u=Q("playing");j(o,u,b=>r(2,l=b));let _=Q([]);j(o,_,b=>r(3,n=b));let c=Q("");j(o,c,b=>r(4,e=b));function y(b){if(b.preventDefault(),e.length!==h.length)return;const v=e.toLocaleLowerCase().split(""),g=v.reduce((C,G,H)=>{const i=h[H]===G,w=v.reduce((q,X,pe)=>q+(X===G&&h[pe]===X?1:0),0),A=C.filter(q=>q.letter===G).length,I=h.filter(q=>q===G).length,J=A+w<I,_e={letter:G,correctnessInGuess:i?"green":J?"yellow":"black"};return[...C,_e]},[]);V(_,n=[...n,g],n),V(c,e="",e),g.every(({correctnessInGuess:C})=>C==="green")?V(u,l="won",l):n.length===6&&V(u,l="lost",l)}function $(){e=this.value,c.set(e)}return o.$$set=b=>{"word"in b&&r(0,s=b.word),"hint"in b&&r(1,a=b.hint)},[s,a,l,n,e,h,u,_,c,y,$]}class Le extends se{constructor(t){super(),oe(this,t,Ge,Ee,ae,{word:0,hint:1})}}function Ae(o){let t,r;return t=new Le({props:{word:window.atob(o[0]),hint:o[1]?window.atob(o[1]):void 0}}),{c(){Y(t.$$.fragment)},l(l){D(t.$$.fragment,l)},m(l,n){M(t,l,n),r=!0},p(l,n){const e={};n&1&&(e.word=window.atob(l[0])),n&2&&(e.hint=l[1]?window.atob(l[1]):void 0),t.$set(e)},i(l){r||(B(t.$$.fragment,l),r=!0)},o(l){T(t.$$.fragment,l),r=!1},d(l){R(t,l)}}}function Oe(o){let t,r;return{c(){t=P("p"),r=m("This game needs to be played in a browser with JavaScript enabled.")},l(l){t=E(l,"P",{});var n=L(t);r=d(n,"This game needs to be played in a browser with JavaScript enabled."),n.forEach(f)},m(l,n){p(l,t,n),k(t,r)},p:S,i:S,o:S,d(l){l&&f(t)}}}function Se(o){let t,r,l,n,e=Te(o);return{c(){t=P("p"),r=m("Please use a proper link with an 'enc' parameter attached to it!"),l=N(),e&&e.c(),n=U()},l(s){t=E(s,"P",{});var a=L(t);r=d(a,"Please use a proper link with an 'enc' parameter attached to it!"),a.forEach(f),l=W(s),e&&e.l(s),n=U()},m(s,a){p(s,t,a),k(t,r),p(s,l,a),e&&e.m(s,a),p(s,n,a)},p(s,a){},i:S,o:S,d(s){s&&f(t),s&&f(l),e&&e.d(s),s&&f(n)}}}function Te(o){let t,r,l,n,e;return{c(){t=P("p"),r=m("Or do you want to play "),l=P("a"),n=m("a randomly selected word"),e=m("?"),this.h()},l(s){t=E(s,"P",{});var a=L(t);r=d(a,"Or do you want to play "),l=E(a,"A",{href:!0});var h=L(l);n=d(h,"a randomly selected word"),h.forEach(f),e=d(a,"?"),a.forEach(f),this.h()},h(){O(l,"href","?enc="+encodeURIComponent(window.btoa(o[2])))},m(s,a){p(s,t,a),k(t,r),k(t,l),k(l,n),k(t,e)},p:S,d(s){s&&f(t)}}}function Be(o){let t,r,l,n,e,s,a;const h=[Se,Oe,Ae],u=[];function _(c,y){return c[0]?2:0}return n=_(o),e=u[n]=h[n](o),{c(){t=P("h2"),r=m("Weirdle"),l=N(),e.c(),s=U()},l(c){t=E(c,"H2",{});var y=L(t);r=d(y,"Weirdle"),y.forEach(f),l=W(c),e.l(c),s=U()},m(c,y){p(c,t,y),k(t,r),p(c,l,y),u[n].m(c,y),p(c,s,y),a=!0},p(c,y){let $=n;n=_(c),n===$?u[n].p(c,y):(ie(),T(u[$],1,1,()=>{u[$]=null}),fe(),e=u[n],e?e.p(c,y):(e=u[n]=h[n](c),e.c()),B(e,1),e.m(s.parentNode,s))},i(c){a||(B(e),a=!0)},o(c){T(e),a=!1},d(c){c&&f(t),c&&f(l),u[n].d(c),c&&f(s)}}}function Ne(o){let t,r;return t=new $e({props:{$$slots:{default:[Be]},$$scope:{ctx:o}}}),{c(){Y(t.$$.fragment)},l(l){D(t.$$.fragment,l)},m(l,n){M(t,l,n),r=!0},p(l,[n]){const e={};n&35&&(e.$$scope={dirty:n,ctx:l}),t.$set(e)},i(l){r||(B(t.$$.fragment,l),r=!0)},o(l){T(t.$$.fragment,l),r=!1},d(l){R(t,l)}}}function We(o,t,r){let l;j(o,be,h=>r(3,l=h));let n,e;const s=["hello","below","canon","alpha","stare"],a=s[Math.floor(Math.random()*s.length)];return de(()=>{r(0,n=l.url.searchParams.get("enc")),r(1,e=l.url.searchParams.get("hint"))}),[n,e,a]}class qe extends se{constructor(t){super(),oe(this,t,We,Ne,ae,{})}}export{qe as default};
