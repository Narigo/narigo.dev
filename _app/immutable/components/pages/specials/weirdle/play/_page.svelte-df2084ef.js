import{S as K,i as X,s as Z,k as E,q as k,a as S,e as N,l as G,m as I,r as y,h as u,c as W,n as O,b as w,G as b,B as L,W as x,H as U,u as Y,U as B,Q as J,L as D,M as ue,T as ce,w as ee,x as te,y as le,f as C,t as M,z as ne,j as _e,g as he,d as pe}from"../../../../../chunks/index-8e3b2a6f.js";import{p as de}from"../../../../../chunks/stores-f2ddbd7f.js";import{P as me}from"../../../../../chunks/PageLayout-f9d7fa67.js";import{w as q}from"../../../../../chunks/index-be250c3a.js";function R(i,e,o){const t=i.slice();return t[9]=e[o],t}function V(i,e,o){const t=i.slice();return t[13]=e[o],t}function j(i){let e,o;return{c(){e=k("Another hint: "),o=k(i[1])},l(t){e=y(t,"Another hint: "),o=y(t,i[1])},m(t,l){w(t,e,l),w(t,o,l)},p(t,l){l&2&&Y(o,t[1])},d(t){t&&u(e),t&&u(o)}}}function z(i){let e,o;return{c(){e=E("p"),o=k("Nothing guessed yet!")},l(t){e=G(t,"P",{});var l=I(e);o=y(l,"Nothing guessed yet!"),l.forEach(u)},m(t,l){w(t,e,l),b(e,o)},p:L,d(t){t&&u(e)}}}function F(i){let e,o=i[13].letter+"",t,l;return{c(){e=E("span"),t=k(o),this.h()},l(n){e=G(n,"SPAN",{class:!0});var r=I(e);t=y(r,o),r.forEach(u),this.h()},h(){O(e,"class",l="letter "+i[13].correctnessInGuess+" svelte-103ruo3")},m(n,r){w(n,e,r),b(e,t)},p(n,r){r&8&&o!==(o=n[13].letter+"")&&Y(t,o),r&8&&l!==(l="letter "+n[13].correctnessInGuess+" svelte-103ruo3")&&O(e,"class",l)},d(n){n&&u(e)}}}function Q(i){let e,o,t=i[9],l=[];for(let n=0;n<t.length;n+=1)l[n]=F(V(i,t,n));return{c(){e=E("div");for(let n=0;n<l.length;n+=1)l[n].c();o=S(),this.h()},l(n){e=G(n,"DIV",{class:!0});var r=I(e);for(let s=0;s<l.length;s+=1)l[s].l(r);o=W(r),r.forEach(u),this.h()},h(){O(e,"class","guess svelte-103ruo3")},m(n,r){w(n,e,r);for(let s=0;s<l.length;s+=1)l[s].m(e,null);b(e,o)},p(n,r){if(r&8){t=n[9];let s;for(s=0;s<t.length;s+=1){const d=V(n,t,s);l[s]?l[s].p(d,r):(l[s]=F(d),l[s].c(),l[s].m(e,o))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){n&&u(e),x(l,n)}}}function ge(i){let e,o,t,l;return{c(){e=E("p"),o=k("You found it! It was "),t=k(i[0]),l=k("!")},l(n){e=G(n,"P",{});var r=I(e);o=y(r,"You found it! It was "),t=y(r,i[0]),l=y(r,"!"),r.forEach(u)},m(n,r){w(n,e,r),b(e,o),b(e,t),b(e,l)},p(n,r){r&1&&Y(t,n[0])},d(n){n&&u(e)}}}function be(i){let e,o,t;return{c(){e=E("p"),o=k("Better luck next time, the word to be found was: "),t=k(i[0])},l(l){e=G(l,"P",{});var n=I(e);o=y(n,"Better luck next time, the word to be found was: "),t=y(n,i[0]),n.forEach(u)},m(l,n){w(l,e,n),b(e,o),b(e,t)},p(l,n){n&1&&Y(t,l[0])},d(l){l&&u(e)}}}function we(i){let e,o,t,l,n,r,s,d;return{c(){e=E("form"),o=E("input"),t=S(),l=E("button"),n=k("Guess"),this.h()},l(_){e=G(_,"FORM",{class:!0});var c=I(e);o=G(c,"INPUT",{minlength:!0,maxlength:!0}),t=W(c),l=G(c,"BUTTON",{});var f=I(l);n=y(f,"Guess"),f.forEach(u),c.forEach(u),this.h()},h(){O(o,"minlength",i[5].length),O(o,"maxlength",i[5].length),l.disabled=r=i[4].length!==i[5].length,O(e,"class","svelte-103ruo3")},m(_,c){w(_,e,c),b(e,o),J(o,i[4]),b(e,t),b(e,l),b(l,n),s||(d=[D(o,"input",i[10]),D(l,"click",ue(i[9])),D(e,"submit",i[9])],s=!0)},p(_,c){c&16&&o.value!==_[4]&&J(o,_[4]),c&16&&r!==(r=_[4].length!==_[5].length)&&(l.disabled=r)},d(_){_&&u(e),s=!1,ce(d)}}}function ve(i){let e,o,t=i[5].length+"",l,n,r,s,d,_,c=i[1]&&j(i),f=i[3],h=[];for(let a=0;a<f.length;a+=1)h[a]=Q(R(i,f,a));let m=null;f.length||(m=z());function P(a,p){if(a[3].length<6&&a[2]==="playing")return we;if(a[2]==="lost")return be;if(a[2]==="won")return ge}let $=P(i),v=$&&$(i);return{c(){e=E("p"),o=k("You are searching a "),l=k(t),n=k(" letter word. "),c&&c.c(),r=S(),s=E("div");for(let a=0;a<h.length;a+=1)h[a].c();m&&m.c(),d=S(),v&&v.c(),_=N(),this.h()},l(a){e=G(a,"P",{});var p=I(e);o=y(p,"You are searching a "),l=y(p,t),n=y(p," letter word. "),c&&c.l(p),p.forEach(u),r=W(a),s=G(a,"DIV",{class:!0});var g=I(s);for(let T=0;T<h.length;T+=1)h[T].l(g);m&&m.l(g),g.forEach(u),d=W(a),v&&v.l(a),_=N(),this.h()},h(){O(s,"class","board svelte-103ruo3")},m(a,p){w(a,e,p),b(e,o),b(e,l),b(e,n),c&&c.m(e,null),w(a,r,p),w(a,s,p);for(let g=0;g<h.length;g+=1)h[g].m(s,null);m&&m.m(s,null),w(a,d,p),v&&v.m(a,p),w(a,_,p)},p(a,[p]){if(a[1]?c?c.p(a,p):(c=j(a),c.c(),c.m(e,null)):c&&(c.d(1),c=null),p&8){f=a[3];let g;for(g=0;g<f.length;g+=1){const T=R(a,f,g);h[g]?h[g].p(T,p):(h[g]=Q(T),h[g].c(),h[g].m(s,null))}for(;g<h.length;g+=1)h[g].d(1);h.length=f.length,!f.length&&m?m.p(a,p):f.length?m&&(m.d(1),m=null):(m=z(),m.c(),m.m(s,null))}$===($=P(a))&&v?v.p(a,p):(v&&v.d(1),v=$&&$(a),v&&(v.c(),v.m(_.parentNode,_)))},i:L,o:L,d(a){a&&u(e),c&&c.d(),a&&u(r),a&&u(s),x(h,a),m&&m.d(),a&&u(d),v&&v.d(a),a&&u(_)}}}function ke(i,e,o){let t,l,n,{word:r}=e,{hint:s}=e,d=r.split("").map(P=>P.toLocaleLowerCase()),_=q("playing");U(i,_,P=>o(2,t=P));let c=q([]);U(i,c,P=>o(3,l=P));let f=q("");U(i,f,P=>o(4,n=P));function h(P){if(P.preventDefault(),n.length!==d.length)return;const $=n.toLocaleLowerCase().split(""),v=$.reduce((a,p,g)=>{const T=d[g]===p,oe=$.reduce((A,H,fe)=>A+(H===p&&d[fe]===H?1:0),0),re=a.filter(A=>A.letter===p).length,se=d.filter(A=>A===p).length,ie=re+oe<se,ae={letter:p,correctnessInGuess:T?"green":ie?"yellow":"black"};return[...a,ae]},[]);B(c,l=[...l,v],l),B(f,n="",n),v.every(({correctnessInGuess:a})=>a==="green")?B(_,t="won",t):l.length===6&&B(_,t="lost",t)}function m(){n=this.value,f.set(n)}return i.$$set=P=>{"word"in P&&o(0,r=P.word),"hint"in P&&o(1,s=P.hint)},[r,s,t,l,n,d,_,c,f,h,m]}class ye extends K{constructor(e){super(),X(this,e,ke,ve,Z,{word:0,hint:1})}}function Pe(i){let e,o;return e=new ye({props:{word:window.atob(i[0]),hint:i[1]?window.atob(i[1]):void 0}}),{c(){ee(e.$$.fragment)},l(t){te(e.$$.fragment,t)},m(t,l){le(e,t,l),o=!0},p(t,l){const n={};l&1&&(n.word=window.atob(t[0])),l&2&&(n.hint=t[1]?window.atob(t[1]):void 0),e.$set(n)},i(t){o||(C(e.$$.fragment,t),o=!0)},o(t){M(e.$$.fragment,t),o=!1},d(t){ne(e,t)}}}function Ee(i){let e,o;return{c(){e=E("p"),o=k("This game is to be played in a browser with JavaScript enabled.")},l(t){e=G(t,"P",{});var l=I(e);o=y(l,"This game is to be played in a browser with JavaScript enabled."),l.forEach(u)},m(t,l){w(t,e,l),b(e,o)},p:L,i:L,o:L,d(t){t&&u(e)}}}function Ge(i){let e,o,t,l,n=Ie(i);return{c(){e=E("p"),o=k("Please use a proper link with an 'enc' parameter attached to it!"),t=S(),n&&n.c(),l=N()},l(r){e=G(r,"P",{});var s=I(e);o=y(s,"Please use a proper link with an 'enc' parameter attached to it!"),s.forEach(u),t=W(r),n&&n.l(r),l=N()},m(r,s){w(r,e,s),b(e,o),w(r,t,s),n&&n.m(r,s),w(r,l,s)},p(r,s){},i:L,o:L,d(r){r&&u(e),r&&u(t),n&&n.d(r),r&&u(l)}}}function Ie(i){let e,o,t,l,n;return{c(){e=E("p"),o=k("Or do you want to play "),t=E("a"),l=k("a randomly selected word"),n=k("?"),this.h()},l(r){e=G(r,"P",{});var s=I(e);o=y(s,"Or do you want to play "),t=G(s,"A",{href:!0});var d=I(t);l=y(d,"a randomly selected word"),d.forEach(u),n=y(s,"?"),s.forEach(u),this.h()},h(){O(t,"href","?enc="+encodeURIComponent(window.btoa(i[2])))},m(r,s){w(r,e,s),b(e,o),b(e,t),b(t,l),b(e,n)},p:L,d(r){r&&u(e)}}}function $e(i){let e,o,t,l,n,r,s;const d=[Ge,Ee,Pe],_=[];function c(f,h){return f[0]?2:0}return l=c(i),n=_[l]=d[l](i),{c(){e=E("h2"),o=k("Weirdle"),t=S(),n.c(),r=N()},l(f){e=G(f,"H2",{});var h=I(e);o=y(h,"Weirdle"),h.forEach(u),t=W(f),n.l(f),r=N()},m(f,h){w(f,e,h),b(e,o),w(f,t,h),_[l].m(f,h),w(f,r,h),s=!0},p(f,h){let m=l;l=c(f),l===m?_[l].p(f,h):(he(),M(_[m],1,1,()=>{_[m]=null}),pe(),n=_[l],n?n.p(f,h):(n=_[l]=d[l](f),n.c()),C(n,1),n.m(r.parentNode,r))},i(f){s||(C(n),s=!0)},o(f){M(n),s=!1},d(f){f&&u(e),f&&u(t),_[l].d(f),f&&u(r)}}}function Le(i){let e,o;return e=new me({props:{$$slots:{default:[$e]},$$scope:{ctx:i}}}),{c(){ee(e.$$.fragment)},l(t){te(e.$$.fragment,t)},m(t,l){le(e,t,l),o=!0},p(t,[l]){const n={};l&35&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){o||(C(e.$$.fragment,t),o=!0)},o(t){M(e.$$.fragment,t),o=!1},d(t){ne(e,t)}}}function Te(i,e,o){let t;U(i,de,d=>o(3,t=d));let l,n;const r=["hello","below","canon","alpha","stare"],s=r[Math.floor(Math.random()*r.length)];return _e(()=>{o(0,l=t.url.searchParams.get("enc")),o(1,n=t.url.searchParams.get("hint"))}),[l,n,s]}class Ae extends K{constructor(e){super(),X(this,e,Te,Le,Z,{})}}export{Ae as default};
