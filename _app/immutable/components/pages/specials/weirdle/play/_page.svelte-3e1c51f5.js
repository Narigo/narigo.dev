import{S as Q,i as K,s as X,k as E,q as y,a as N,e as A,l as G,m as $,r as P,h as c,c as O,n as S,b as d,G as b,B as L,W as Z,H as z,u as C,U as W,Q as q,L as Y,M as se,T as re,w as x,x as ee,y as te,f as U,t as B,z as le,j as ie,g as ae,d as fe}from"../../../../../chunks/index-8e3b2a6f.js";import{p as ue}from"../../../../../chunks/stores-f2ddbd7f.js";import{P as ce}from"../../../../../chunks/PageLayout-f9d7fa67.js";import{w as D}from"../../../../../chunks/index-be250c3a.js";function H(i,e,o){const t=i.slice();return t[9]=e[o],t}function J(i,e,o){const t=i.slice();return t[13]=e[o],t}function R(i){let e,o;return{c(){e=y("Another hint: "),o=y(i[1])},l(t){e=P(t,"Another hint: "),o=P(t,i[1])},m(t,l){d(t,e,l),d(t,o,l)},p(t,l){l&2&&C(o,t[1])},d(t){t&&c(e),t&&c(o)}}}function V(i){let e,o;return{c(){e=E("p"),o=y("Nothing guessed yet!")},l(t){e=G(t,"P",{});var l=$(e);o=P(l,"Nothing guessed yet!"),l.forEach(c)},m(t,l){d(t,e,l),b(e,o)},p:L,d(t){t&&c(e)}}}function j(i){let e,o=i[13].letter+"",t,l;return{c(){e=E("span"),t=y(o),this.h()},l(n){e=G(n,"SPAN",{class:!0});var s=$(e);t=P(s,o),s.forEach(c),this.h()},h(){S(e,"class",l="letter "+i[13].correctnessInGuess+" svelte-uyzpcx")},m(n,s){d(n,e,s),b(e,t)},p(n,s){s&8&&o!==(o=n[13].letter+"")&&C(t,o),s&8&&l!==(l="letter "+n[13].correctnessInGuess+" svelte-uyzpcx")&&S(e,"class",l)},d(n){n&&c(e)}}}function F(i){let e,o,t=i[9],l=[];for(let n=0;n<t.length;n+=1)l[n]=j(J(i,t,n));return{c(){e=E("div");for(let n=0;n<l.length;n+=1)l[n].c();o=N(),this.h()},l(n){e=G(n,"DIV",{class:!0});var s=$(e);for(let r=0;r<l.length;r+=1)l[r].l(s);o=O(s),s.forEach(c),this.h()},h(){S(e,"class","guess svelte-uyzpcx")},m(n,s){d(n,e,s);for(let r=0;r<l.length;r+=1)l[r].m(e,null);b(e,o)},p(n,s){if(s&8){t=n[9];let r;for(r=0;r<t.length;r+=1){const h=J(n,t,r);l[r]?l[r].p(h,s):(l[r]=j(h),l[r].c(),l[r].m(e,o))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d(n){n&&c(e),Z(l,n)}}}function _e(i){let e,o,t,l;return{c(){e=E("p"),o=y("You found it! It was "),t=y(i[0]),l=y("!")},l(n){e=G(n,"P",{});var s=$(e);o=P(s,"You found it! It was "),t=P(s,i[0]),l=P(s,"!"),s.forEach(c)},m(n,s){d(n,e,s),b(e,o),b(e,t),b(e,l)},p(n,s){s&1&&C(t,n[0])},d(n){n&&c(e)}}}function pe(i){let e,o,t;return{c(){e=E("p"),o=y("Better luck next time, the word to be found was: "),t=y(i[0])},l(l){e=G(l,"P",{});var n=$(e);o=P(n,"Better luck next time, the word to be found was: "),t=P(n,i[0]),n.forEach(c)},m(l,n){d(l,e,n),b(e,o),b(e,t)},p(l,n){n&1&&C(t,l[0])},d(l){l&&c(e)}}}function he(i){let e,o,t,l,n,s,r,h,m,p;return{c(){e=E("p"),o=y("Guess more:"),t=N(),l=E("form"),n=E("input"),s=N(),r=E("button"),h=y("Guess"),this.h()},l(a){e=G(a,"P",{});var u=$(e);o=P(u,"Guess more:"),u.forEach(c),t=O(a),l=G(a,"FORM",{});var _=$(l);n=G(_,"INPUT",{minlength:!0,maxlength:!0}),s=O(_),r=G(_,"BUTTON",{});var k=$(r);h=P(k,"Guess"),k.forEach(c),_.forEach(c),this.h()},h(){S(n,"minlength",i[5].length),S(n,"maxlength",i[5].length)},m(a,u){d(a,e,u),b(e,o),d(a,t,u),d(a,l,u),b(l,n),q(n,i[4]),b(l,s),b(l,r),b(r,h),m||(p=[Y(n,"input",i[10]),Y(r,"click",se(i[9])),Y(l,"submit",i[9])],m=!0)},p(a,u){u&16&&n.value!==a[4]&&q(n,a[4])},d(a){a&&c(e),a&&c(t),a&&c(l),m=!1,re(p)}}}function me(i){let e,o,t=i[5].length+"",l,n,s,r,h,m,p=i[1]&&R(i),a=i[3],u=[];for(let f=0;f<a.length;f+=1)u[f]=F(H(i,a,f));let _=null;a.length||(_=V());function k(f,v){if(f[3].length<6&&f[2]==="playing")return he;if(f[2]==="lost")return pe;if(f[2]==="won")return _e}let I=k(i),w=I&&I(i);return{c(){e=E("p"),o=y("You are searching a "),l=y(t),n=y(" letter word. "),p&&p.c(),s=N(),r=E("div");for(let f=0;f<u.length;f+=1)u[f].c();_&&_.c(),h=N(),w&&w.c(),m=A(),this.h()},l(f){e=G(f,"P",{});var v=$(e);o=P(v,"You are searching a "),l=P(v,t),n=P(v," letter word. "),p&&p.l(v),v.forEach(c),s=O(f),r=G(f,"DIV",{class:!0});var g=$(r);for(let T=0;T<u.length;T+=1)u[T].l(g);_&&_.l(g),g.forEach(c),h=O(f),w&&w.l(f),m=A(),this.h()},h(){S(r,"class","board svelte-uyzpcx")},m(f,v){d(f,e,v),b(e,o),b(e,l),b(e,n),p&&p.m(e,null),d(f,s,v),d(f,r,v);for(let g=0;g<u.length;g+=1)u[g].m(r,null);_&&_.m(r,null),d(f,h,v),w&&w.m(f,v),d(f,m,v)},p(f,[v]){if(f[1]?p?p.p(f,v):(p=R(f),p.c(),p.m(e,null)):p&&(p.d(1),p=null),v&8){a=f[3];let g;for(g=0;g<a.length;g+=1){const T=H(f,a,g);u[g]?u[g].p(T,v):(u[g]=F(T),u[g].c(),u[g].m(r,null))}for(;g<u.length;g+=1)u[g].d(1);u.length=a.length,!a.length&&_?_.p(f,v):a.length?_&&(_.d(1),_=null):(_=V(),_.c(),_.m(r,null))}I===(I=k(f))&&w?w.p(f,v):(w&&w.d(1),w=I&&I(f),w&&(w.c(),w.m(m.parentNode,m)))},i:L,o:L,d(f){f&&c(e),p&&p.d(),f&&c(s),f&&c(r),Z(u,f),_&&_.d(),f&&c(h),w&&w.d(f),f&&c(m)}}}function de(i,e,o){let t,l,n,{word:s}=e,{hint:r}=e,h=s.split("").map(k=>k.toLocaleLowerCase()),m=D("playing");z(i,m,k=>o(2,t=k));let p=D([]);z(i,p,k=>o(3,l=k));let a=D("");z(i,a,k=>o(4,n=k));function u(k){if(k.preventDefault(),n.length!==h.length)return;const I=n.toLocaleLowerCase().split("").reduce((w,f,v)=>{const g=h[v]===f,ne=w.filter(M=>M.letter===f).length+1<=h.filter(M=>M===f).length,oe={letter:f,correctnessInGuess:g?"green":ne?"yellow":"black"};return[...w,oe]},[]);W(p,l=[...l,I],l),W(a,n="",n),I.every(({correctnessInGuess:w})=>w==="green")?W(m,t="won",t):l.length===6&&W(m,t="lost",t)}function _(){n=this.value,a.set(n)}return i.$$set=k=>{"word"in k&&o(0,s=k.word),"hint"in k&&o(1,r=k.hint)},[s,r,t,l,n,h,m,p,a,u,_]}class be extends Q{constructor(e){super(),K(this,e,de,me,X,{word:0,hint:1})}}function ge(i){let e,o;return e=new be({props:{word:window.atob(i[0]),hint:i[1]?window.atob(i[1]):void 0}}),{c(){x(e.$$.fragment)},l(t){ee(e.$$.fragment,t)},m(t,l){te(e,t,l),o=!0},p(t,l){const n={};l&1&&(n.word=window.atob(t[0])),l&2&&(n.hint=t[1]?window.atob(t[1]):void 0),e.$set(n)},i(t){o||(U(e.$$.fragment,t),o=!0)},o(t){B(e.$$.fragment,t),o=!1},d(t){le(e,t)}}}function we(i){let e,o;return{c(){e=E("p"),o=y("This game is to be played in a browser with JavaScript enabled.")},l(t){e=G(t,"P",{});var l=$(e);o=P(l,"This game is to be played in a browser with JavaScript enabled."),l.forEach(c)},m(t,l){d(t,e,l),b(e,o)},p:L,i:L,o:L,d(t){t&&c(e)}}}function ve(i){let e,o,t,l,n=ke(i);return{c(){e=E("p"),o=y("Please use a proper link with an 'enc' parameter attached to it!"),t=N(),n&&n.c(),l=A()},l(s){e=G(s,"P",{});var r=$(e);o=P(r,"Please use a proper link with an 'enc' parameter attached to it!"),r.forEach(c),t=O(s),n&&n.l(s),l=A()},m(s,r){d(s,e,r),b(e,o),d(s,t,r),n&&n.m(s,r),d(s,l,r)},p(s,r){},i:L,o:L,d(s){s&&c(e),s&&c(t),n&&n.d(s),s&&c(l)}}}function ke(i){let e,o,t,l,n;return{c(){e=E("p"),o=y("Or do you want to play "),t=E("a"),l=y("a randomly selected word"),n=y("?"),this.h()},l(s){e=G(s,"P",{});var r=$(e);o=P(r,"Or do you want to play "),t=G(r,"A",{href:!0});var h=$(t);l=P(h,"a randomly selected word"),h.forEach(c),n=P(r,"?"),r.forEach(c),this.h()},h(){S(t,"href","?enc="+encodeURIComponent(window.btoa(i[2])))},m(s,r){d(s,e,r),b(e,o),b(e,t),b(t,l),b(e,n)},p:L,d(s){s&&c(e)}}}function ye(i){let e,o,t,l,n,s,r;const h=[ve,we,ge],m=[];function p(a,u){return a[0]?2:0}return l=p(i),n=m[l]=h[l](i),{c(){e=E("h2"),o=y("Weirdle"),t=N(),n.c(),s=A()},l(a){e=G(a,"H2",{});var u=$(e);o=P(u,"Weirdle"),u.forEach(c),t=O(a),n.l(a),s=A()},m(a,u){d(a,e,u),b(e,o),d(a,t,u),m[l].m(a,u),d(a,s,u),r=!0},p(a,u){let _=l;l=p(a),l===_?m[l].p(a,u):(ae(),B(m[_],1,1,()=>{m[_]=null}),fe(),n=m[l],n?n.p(a,u):(n=m[l]=h[l](a),n.c()),U(n,1),n.m(s.parentNode,s))},i(a){r||(U(n),r=!0)},o(a){B(n),r=!1},d(a){a&&c(e),a&&c(t),m[l].d(a),a&&c(s)}}}function Pe(i){let e,o;return e=new ce({props:{$$slots:{default:[ye]},$$scope:{ctx:i}}}),{c(){x(e.$$.fragment)},l(t){ee(e.$$.fragment,t)},m(t,l){te(e,t,l),o=!0},p(t,[l]){const n={};l&35&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){o||(U(e.$$.fragment,t),o=!0)},o(t){B(e.$$.fragment,t),o=!1},d(t){le(e,t)}}}function Ee(i,e,o){let t;z(i,ue,h=>o(3,t=h));let l,n;const s=["hello","below","canon","alpha","stare"],r=s[Math.floor(Math.random()*s.length)];return ie(()=>{o(0,l=t.url.searchParams.get("enc")),o(1,n=t.url.searchParams.get("hint"))}),[l,n,r]}class Te extends Q{constructor(e){super(),K(this,e,Ee,Pe,X,{})}}export{Te as default};
