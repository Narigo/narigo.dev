import{S as Q,i as K,s as X,k as E,q as y,a as N,e as A,l as G,m as $,r as P,h as c,c as O,n as S,b as d,G as b,B as L,W as Z,H as z,u as C,U as W,Q as q,L as Y,M as se,T as re,w as x,x as ee,y as te,f as U,t as B,z as le,j as ie,g as ae,d as fe}from"../../../../../chunks/index-8e3b2a6f.js";import{p as ue}from"../../../../../chunks/stores-f2ddbd7f.js";import{P as ce}from"../../../../../chunks/PageLayout-f9d7fa67.js";import{w as D}from"../../../../../chunks/index-be250c3a.js";function H(i,e,o){const t=i.slice();return t[9]=e[o],t}function J(i,e,o){const t=i.slice();return t[13]=e[o],t}function R(i){let e,o;return{c(){e=y("Another hint: "),o=y(i[1])},l(t){e=P(t,"Another hint: "),o=P(t,i[1])},m(t,l){d(t,e,l),d(t,o,l)},p(t,l){l&2&&C(o,t[1])},d(t){t&&c(e),t&&c(o)}}}function V(i){let e,o;return{c(){e=E("p"),o=y("Nothing guessed yet!")},l(t){e=G(t,"P",{});var l=$(e);o=P(l,"Nothing guessed yet!"),l.forEach(c)},m(t,l){d(t,e,l),b(e,o)},p:L,d(t){t&&c(e)}}}function j(i){let e,o=i[13].letter+"",t,l;return{c(){e=E("span"),t=y(o),this.h()},l(n){e=G(n,"SPAN",{class:!0});var s=$(e);t=P(s,o),s.forEach(c),this.h()},h(){S(e,"class",l="letter "+i[13].correctnessInGuess+" svelte-uyzpcx")},m(n,s){d(n,e,s),b(e,t)},p(n,s){s&8&&o!==(o=n[13].letter+"")&&C(t,o),s&8&&l!==(l="letter "+n[13].correctnessInGuess+" svelte-uyzpcx")&&S(e,"class",l)},d(n){n&&c(e)}}}function F(i){let e,o,t=i[9],l=[];for(let n=0;n<t.length;n+=1)l[n]=j(J(i,t,n));return{c(){e=E("div");for(let n=0;n<l.length;n+=1)l[n].c();o=N(),this.h()},l(n){e=G(n,"DIV",{class:!0});var s=$(e);for(let r=0;r<l.length;r+=1)l[r].l(s);o=O(s),s.forEach(c),this.h()},h(){S(e,"class","guess svelte-uyzpcx")},m(n,s){d(n,e,s);for(let r=0;r<l.length;r+=1)l[r].m(e,null);b(e,o)},p(n,s){if(s&8){t=n[9];let r;for(r=0;r<t.length;r+=1){const m=J(n,t,r);l[r]?l[r].p(m,s):(l[r]=j(m),l[r].c(),l[r].m(e,o))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d(n){n&&c(e),Z(l,n)}}}function _e(i){let e,o,t,l;return{c(){e=E("p"),o=y("You found it! It was "),t=y(i[0]),l=y("!")},l(n){e=G(n,"P",{});var s=$(e);o=P(s,"You found it! It was "),t=P(s,i[0]),l=P(s,"!"),s.forEach(c)},m(n,s){d(n,e,s),b(e,o),b(e,t),b(e,l)},p(n,s){s&1&&C(t,n[0])},d(n){n&&c(e)}}}function he(i){let e,o,t;return{c(){e=E("p"),o=y("Better luck next time, the word to be found was: "),t=y(i[0])},l(l){e=G(l,"P",{});var n=$(e);o=P(n,"Better luck next time, the word to be found was: "),t=P(n,i[0]),n.forEach(c)},m(l,n){d(l,e,n),b(e,o),b(e,t)},p(l,n){n&1&&C(t,l[0])},d(l){l&&c(e)}}}function pe(i){let e,o,t,l,n,s,r,m,p,h,u;return{c(){e=E("p"),o=y("Guess more:"),t=N(),l=E("form"),n=E("input"),s=N(),r=E("button"),m=y("Guess"),this.h()},l(f){e=G(f,"P",{});var _=$(e);o=P(_,"Guess more:"),_.forEach(c),t=O(f),l=G(f,"FORM",{});var g=$(l);n=G(g,"INPUT",{minlength:!0,maxlength:!0}),s=O(g),r=G(g,"BUTTON",{});var I=$(r);m=P(I,"Guess"),I.forEach(c),g.forEach(c),this.h()},h(){S(n,"minlength",i[5].length),S(n,"maxlength",i[5].length),r.disabled=p=i[4].length!==i[5].length},m(f,_){d(f,e,_),b(e,o),d(f,t,_),d(f,l,_),b(l,n),q(n,i[4]),b(l,s),b(l,r),b(r,m),h||(u=[Y(n,"input",i[10]),Y(r,"click",se(i[9])),Y(l,"submit",i[9])],h=!0)},p(f,_){_&16&&n.value!==f[4]&&q(n,f[4]),_&16&&p!==(p=f[4].length!==f[5].length)&&(r.disabled=p)},d(f){f&&c(e),f&&c(t),f&&c(l),h=!1,re(u)}}}function me(i){let e,o,t=i[5].length+"",l,n,s,r,m,p,h=i[1]&&R(i),u=i[3],f=[];for(let a=0;a<u.length;a+=1)f[a]=F(H(i,u,a));let _=null;u.length||(_=V());function g(a,k){if(a[3].length<6&&a[2]==="playing")return pe;if(a[2]==="lost")return he;if(a[2]==="won")return _e}let I=g(i),v=I&&I(i);return{c(){e=E("p"),o=y("You are searching a "),l=y(t),n=y(" letter word. "),h&&h.c(),s=N(),r=E("div");for(let a=0;a<f.length;a+=1)f[a].c();_&&_.c(),m=N(),v&&v.c(),p=A(),this.h()},l(a){e=G(a,"P",{});var k=$(e);o=P(k,"You are searching a "),l=P(k,t),n=P(k," letter word. "),h&&h.l(k),k.forEach(c),s=O(a),r=G(a,"DIV",{class:!0});var w=$(r);for(let T=0;T<f.length;T+=1)f[T].l(w);_&&_.l(w),w.forEach(c),m=O(a),v&&v.l(a),p=A(),this.h()},h(){S(r,"class","board svelte-uyzpcx")},m(a,k){d(a,e,k),b(e,o),b(e,l),b(e,n),h&&h.m(e,null),d(a,s,k),d(a,r,k);for(let w=0;w<f.length;w+=1)f[w].m(r,null);_&&_.m(r,null),d(a,m,k),v&&v.m(a,k),d(a,p,k)},p(a,[k]){if(a[1]?h?h.p(a,k):(h=R(a),h.c(),h.m(e,null)):h&&(h.d(1),h=null),k&8){u=a[3];let w;for(w=0;w<u.length;w+=1){const T=H(a,u,w);f[w]?f[w].p(T,k):(f[w]=F(T),f[w].c(),f[w].m(r,null))}for(;w<f.length;w+=1)f[w].d(1);f.length=u.length,!u.length&&_?_.p(a,k):u.length?_&&(_.d(1),_=null):(_=V(),_.c(),_.m(r,null))}I===(I=g(a))&&v?v.p(a,k):(v&&v.d(1),v=I&&I(a),v&&(v.c(),v.m(p.parentNode,p)))},i:L,o:L,d(a){a&&c(e),h&&h.d(),a&&c(s),a&&c(r),Z(f,a),_&&_.d(),a&&c(m),v&&v.d(a),a&&c(p)}}}function de(i,e,o){let t,l,n,{word:s}=e,{hint:r}=e,m=s.split("").map(g=>g.toLocaleLowerCase()),p=D("playing");z(i,p,g=>o(2,t=g));let h=D([]);z(i,h,g=>o(3,l=g));let u=D("");z(i,u,g=>o(4,n=g));function f(g){if(g.preventDefault(),n.length!==m.length)return;const I=n.toLocaleLowerCase().split("").reduce((v,a,k)=>{const w=m[k]===a,ne=v.filter(M=>M.letter===a).length+1<=m.filter(M=>M===a).length,oe={letter:a,correctnessInGuess:w?"green":ne?"yellow":"black"};return[...v,oe]},[]);W(h,l=[...l,I],l),W(u,n="",n),I.every(({correctnessInGuess:v})=>v==="green")?W(p,t="won",t):l.length===6&&W(p,t="lost",t)}function _(){n=this.value,u.set(n)}return i.$$set=g=>{"word"in g&&o(0,s=g.word),"hint"in g&&o(1,r=g.hint)},[s,r,t,l,n,m,p,h,u,f,_]}class be extends Q{constructor(e){super(),K(this,e,de,me,X,{word:0,hint:1})}}function ge(i){let e,o;return e=new be({props:{word:window.atob(i[0]),hint:i[1]?window.atob(i[1]):void 0}}),{c(){x(e.$$.fragment)},l(t){ee(e.$$.fragment,t)},m(t,l){te(e,t,l),o=!0},p(t,l){const n={};l&1&&(n.word=window.atob(t[0])),l&2&&(n.hint=t[1]?window.atob(t[1]):void 0),e.$set(n)},i(t){o||(U(e.$$.fragment,t),o=!0)},o(t){B(e.$$.fragment,t),o=!1},d(t){le(e,t)}}}function we(i){let e,o;return{c(){e=E("p"),o=y("This game is to be played in a browser with JavaScript enabled.")},l(t){e=G(t,"P",{});var l=$(e);o=P(l,"This game is to be played in a browser with JavaScript enabled."),l.forEach(c)},m(t,l){d(t,e,l),b(e,o)},p:L,i:L,o:L,d(t){t&&c(e)}}}function ve(i){let e,o,t,l,n=ke(i);return{c(){e=E("p"),o=y("Please use a proper link with an 'enc' parameter attached to it!"),t=N(),n&&n.c(),l=A()},l(s){e=G(s,"P",{});var r=$(e);o=P(r,"Please use a proper link with an 'enc' parameter attached to it!"),r.forEach(c),t=O(s),n&&n.l(s),l=A()},m(s,r){d(s,e,r),b(e,o),d(s,t,r),n&&n.m(s,r),d(s,l,r)},p(s,r){},i:L,o:L,d(s){s&&c(e),s&&c(t),n&&n.d(s),s&&c(l)}}}function ke(i){let e,o,t,l,n;return{c(){e=E("p"),o=y("Or do you want to play "),t=E("a"),l=y("a randomly selected word"),n=y("?"),this.h()},l(s){e=G(s,"P",{});var r=$(e);o=P(r,"Or do you want to play "),t=G(r,"A",{href:!0});var m=$(t);l=P(m,"a randomly selected word"),m.forEach(c),n=P(r,"?"),r.forEach(c),this.h()},h(){S(t,"href","?enc="+encodeURIComponent(window.btoa(i[2])))},m(s,r){d(s,e,r),b(e,o),b(e,t),b(t,l),b(e,n)},p:L,d(s){s&&c(e)}}}function ye(i){let e,o,t,l,n,s,r;const m=[ve,we,ge],p=[];function h(u,f){return u[0]?2:0}return l=h(i),n=p[l]=m[l](i),{c(){e=E("h2"),o=y("Weirdle"),t=N(),n.c(),s=A()},l(u){e=G(u,"H2",{});var f=$(e);o=P(f,"Weirdle"),f.forEach(c),t=O(u),n.l(u),s=A()},m(u,f){d(u,e,f),b(e,o),d(u,t,f),p[l].m(u,f),d(u,s,f),r=!0},p(u,f){let _=l;l=h(u),l===_?p[l].p(u,f):(ae(),B(p[_],1,1,()=>{p[_]=null}),fe(),n=p[l],n?n.p(u,f):(n=p[l]=m[l](u),n.c()),U(n,1),n.m(s.parentNode,s))},i(u){r||(U(n),r=!0)},o(u){B(n),r=!1},d(u){u&&c(e),u&&c(t),p[l].d(u),u&&c(s)}}}function Pe(i){let e,o;return e=new ce({props:{$$slots:{default:[ye]},$$scope:{ctx:i}}}),{c(){x(e.$$.fragment)},l(t){ee(e.$$.fragment,t)},m(t,l){te(e,t,l),o=!0},p(t,[l]){const n={};l&35&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){o||(U(e.$$.fragment,t),o=!0)},o(t){B(e.$$.fragment,t),o=!1},d(t){le(e,t)}}}function Ee(i,e,o){let t;z(i,ue,m=>o(3,t=m));let l,n;const s=["hello","below","canon","alpha","stare"],r=s[Math.floor(Math.random()*s.length)];return ie(()=>{o(0,l=t.url.searchParams.get("enc")),o(1,n=t.url.searchParams.get("hint"))}),[l,n,r]}class Te extends Q{constructor(e){super(),K(this,e,Ee,Pe,X,{})}}export{Te as default};
