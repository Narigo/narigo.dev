import{S as re,i as oe,s as se,k as I,q as $,a as A,e as U,l as L,m as T,r as k,h as c,c as C,n as S,b as m,G as P,g as ie,t as B,d as ae,f as N,W as fe,H,u as J,B as O,U as q,w as R,x as V,y as j,z,Q as X,L as F,M as pe,T as he,j as me}from"../../../../../chunks/index-8e3b2a6f.js";import{p as de}from"../../../../../chunks/stores-f2ddbd7f.js";import{P as be}from"../../../../../chunks/PageLayout-1974179d.js";import{B as ue}from"../../../../../chunks/Bubble-08e26250.js";import{w as Q}from"../../../../../chunks/index-be250c3a.js";function Z(o,t,n){const e=o.slice();return e[9]=t[n],e}function x(o,t,n){const e=o.slice();return e[13]=t[n],e}function ee(o){let t,n;return{c(){t=$("Another hint: "),n=$(o[1])},l(e){t=k(e,"Another hint: "),n=k(e,o[1])},m(e,l){m(e,t,l),m(e,n,l)},p(e,l){l&2&&J(n,e[1])},d(e){e&&c(t),e&&c(n)}}}function te(o){let t,n;return{c(){t=I("p"),n=$("Nothing guessed yet!")},l(e){t=L(e,"P",{});var l=T(t);n=k(l,"Nothing guessed yet!"),l.forEach(c)},m(e,l){m(e,t,l),P(t,n)},p:O,d(e){e&&c(t)}}}function le(o){let t,n=o[13].letter+"",e,l;return{c(){t=I("span"),e=$(n),this.h()},l(r){t=L(r,"SPAN",{class:!0});var s=T(t);e=k(s,n),s.forEach(c),this.h()},h(){S(t,"class",l="letter "+o[13].correctnessInGuess+" svelte-103ruo3")},m(r,s){m(r,t,s),P(t,e)},p(r,s){s&8&&n!==(n=r[13].letter+"")&&J(e,n),s&8&&l!==(l="letter "+r[13].correctnessInGuess+" svelte-103ruo3")&&S(t,"class",l)},d(r){r&&c(t)}}}function ne(o){let t,n,e=o[9],l=[];for(let r=0;r<e.length;r+=1)l[r]=le(x(o,e,r));return{c(){t=I("div");for(let r=0;r<l.length;r+=1)l[r].c();n=A(),this.h()},l(r){t=L(r,"DIV",{class:!0});var s=T(t);for(let i=0;i<l.length;i+=1)l[i].l(s);n=C(s),s.forEach(c),this.h()},h(){S(t,"class","guess svelte-103ruo3")},m(r,s){m(r,t,s);for(let i=0;i<l.length;i+=1)l[i].m(t,null);P(t,n)},p(r,s){if(s&8){e=r[9];let i;for(i=0;i<e.length;i+=1){const p=x(r,e,i);l[i]?l[i].p(p,s):(l[i]=le(p),l[i].c(),l[i].m(t,n))}for(;i<l.length;i+=1)l[i].d(1);l.length=e.length}},d(r){r&&c(t),fe(l,r)}}}function ge(o){let t,n;return t=new ue({props:{$$slots:{default:[ke]},$$scope:{ctx:o}}}),{c(){R(t.$$.fragment)},l(e){V(t.$$.fragment,e)},m(e,l){j(t,e,l),n=!0},p(e,l){const r={};l&65537&&(r.$$scope={dirty:l,ctx:e}),t.$set(r)},i(e){n||(N(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){z(t,e)}}}function we(o){let t,n;return t=new ue({props:{$$slots:{default:[ve]},$$scope:{ctx:o}}}),{c(){R(t.$$.fragment)},l(e){V(t.$$.fragment,e)},m(e,l){j(t,e,l),n=!0},p(e,l){const r={};l&65537&&(r.$$scope={dirty:l,ctx:e}),t.$set(r)},i(e){n||(N(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){z(t,e)}}}function $e(o){let t,n,e,l,r,s,i,p;return{c(){t=I("form"),n=I("input"),e=A(),l=I("button"),r=$("Guess"),this.h()},l(f){t=L(f,"FORM",{class:!0});var _=T(t);n=L(_,"INPUT",{minlength:!0,maxlength:!0}),e=C(_),l=L(_,"BUTTON",{});var u=T(l);r=k(u,"Guess"),u.forEach(c),_.forEach(c),this.h()},h(){S(n,"minlength",o[5].length),S(n,"maxlength",o[5].length),l.disabled=s=o[4].length!==o[5].length,S(t,"class","svelte-103ruo3")},m(f,_){m(f,t,_),P(t,n),X(n,o[4]),P(t,e),P(t,l),P(l,r),i||(p=[F(n,"input",o[10]),F(l,"click",pe(o[9])),F(t,"submit",o[9])],i=!0)},p(f,_){_&16&&n.value!==f[4]&&X(n,f[4]),_&16&&s!==(s=f[4].length!==f[5].length)&&(l.disabled=s)},i:O,o:O,d(f){f&&c(t),i=!1,he(p)}}}function ke(o){let t,n,e;return{c(){t=$("You found it! It was "),n=$(o[0]),e=$("!")},l(l){t=k(l,"You found it! It was "),n=k(l,o[0]),e=k(l,"!")},m(l,r){m(l,t,r),m(l,n,r),m(l,e,r)},p(l,r){r&1&&J(n,l[0])},d(l){l&&c(t),l&&c(n),l&&c(e)}}}function ve(o){let t,n;return{c(){t=$("Better luck next time, the word to be found was: "),n=$(o[0])},l(e){t=k(e,"Better luck next time, the word to be found was: "),n=k(e,o[0])},m(e,l){m(e,t,l),m(e,n,l)},p(e,l){l&1&&J(n,e[0])},d(e){e&&c(t),e&&c(n)}}}function ye(o){let t,n,e=o[5].length+"",l,r,s,i,p,f,_,u,v,d=o[1]&&ee(o),h=o[3],w=[];for(let a=0;a<h.length;a+=1)w[a]=ne(Z(o,h,a));let g=null;h.length||(g=te());const W=[$e,we,ge],E=[];function Y(a,b){return a[3].length<6&&a[2]==="playing"?0:a[2]==="lost"?1:a[2]==="won"?2:-1}return~(f=Y(o))&&(_=E[f]=W[f](o)),{c(){t=I("p"),n=$("You are searching a "),l=$(e),r=$(" letter word. "),d&&d.c(),s=A(),i=I("div");for(let a=0;a<w.length;a+=1)w[a].c();g&&g.c(),p=A(),_&&_.c(),u=U(),this.h()},l(a){t=L(a,"P",{});var b=T(t);n=k(b,"You are searching a "),l=k(b,e),r=k(b," letter word. "),d&&d.l(b),b.forEach(c),s=C(a),i=L(a,"DIV",{class:!0});var G=T(i);for(let y=0;y<w.length;y+=1)w[y].l(G);g&&g.l(G),G.forEach(c),p=C(a),_&&_.l(a),u=U(),this.h()},h(){S(i,"class","board svelte-103ruo3")},m(a,b){m(a,t,b),P(t,n),P(t,l),P(t,r),d&&d.m(t,null),m(a,s,b),m(a,i,b);for(let G=0;G<w.length;G+=1)w[G].m(i,null);g&&g.m(i,null),m(a,p,b),~f&&E[f].m(a,b),m(a,u,b),v=!0},p(a,[b]){if(a[1]?d?d.p(a,b):(d=ee(a),d.c(),d.m(t,null)):d&&(d.d(1),d=null),b&8){h=a[3];let y;for(y=0;y<h.length;y+=1){const D=Z(a,h,y);w[y]?w[y].p(D,b):(w[y]=ne(D),w[y].c(),w[y].m(i,null))}for(;y<w.length;y+=1)w[y].d(1);w.length=h.length,!h.length&&g?g.p(a,b):h.length?g&&(g.d(1),g=null):(g=te(),g.c(),g.m(i,null))}let G=f;f=Y(a),f===G?~f&&E[f].p(a,b):(_&&(ie(),B(E[G],1,1,()=>{E[G]=null}),ae()),~f?(_=E[f],_?_.p(a,b):(_=E[f]=W[f](a),_.c()),N(_,1),_.m(u.parentNode,u)):_=null)},i(a){v||(N(_),v=!0)},o(a){B(_),v=!1},d(a){a&&c(t),d&&d.d(),a&&c(s),a&&c(i),fe(w,a),g&&g.d(),a&&c(p),~f&&E[f].d(a),a&&c(u)}}}function Pe(o,t,n){let e,l,r,{word:s}=t,{hint:i}=t,p=s.split("").map(h=>h.toLocaleLowerCase()),f=Q("playing");H(o,f,h=>n(2,e=h));let _=Q([]);H(o,_,h=>n(3,l=h));let u=Q("");H(o,u,h=>n(4,r=h));function v(h){if(h.preventDefault(),r.length!==p.length)return;const w=r.toLocaleLowerCase().split(""),g=w.reduce((W,E,Y)=>{const a=p[Y]===E,b=w.reduce((M,K,_e)=>M+(K===E&&p[_e]===K?1:0),0),G=W.filter(M=>M.letter===E).length,y=p.filter(M=>M===E).length,D=G+b<y,ce={letter:E,correctnessInGuess:a?"green":D?"yellow":"black"};return[...W,ce]},[]);q(_,l=[...l,g],l),q(u,r="",r),g.every(({correctnessInGuess:W})=>W==="green")?q(f,e="won",e):l.length===6&&q(f,e="lost",e)}function d(){r=this.value,u.set(r)}return o.$$set=h=>{"word"in h&&n(0,s=h.word),"hint"in h&&n(1,i=h.hint)},[s,i,e,l,r,p,f,_,u,v,d]}class Ee extends re{constructor(t){super(),oe(this,t,Pe,ye,se,{word:0,hint:1})}}function Ge(o){let t,n;return t=new Ee({props:{word:window.atob(o[0]),hint:o[1]?window.atob(o[1]):void 0}}),{c(){R(t.$$.fragment)},l(e){V(t.$$.fragment,e)},m(e,l){j(t,e,l),n=!0},p(e,l){const r={};l&1&&(r.word=window.atob(e[0])),l&2&&(r.hint=e[1]?window.atob(e[1]):void 0),t.$set(r)},i(e){n||(N(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){z(t,e)}}}function Ie(o){let t,n;return{c(){t=I("p"),n=$("This game is to be played in a browser with JavaScript enabled.")},l(e){t=L(e,"P",{});var l=T(t);n=k(l,"This game is to be played in a browser with JavaScript enabled."),l.forEach(c)},m(e,l){m(e,t,l),P(t,n)},p:O,i:O,o:O,d(e){e&&c(t)}}}function Le(o){let t,n,e,l,r=Te(o);return{c(){t=I("p"),n=$("Please use a proper link with an 'enc' parameter attached to it!"),e=A(),r&&r.c(),l=U()},l(s){t=L(s,"P",{});var i=T(t);n=k(i,"Please use a proper link with an 'enc' parameter attached to it!"),i.forEach(c),e=C(s),r&&r.l(s),l=U()},m(s,i){m(s,t,i),P(t,n),m(s,e,i),r&&r.m(s,i),m(s,l,i)},p(s,i){},i:O,o:O,d(s){s&&c(t),s&&c(e),r&&r.d(s),s&&c(l)}}}function Te(o){let t,n,e,l,r;return{c(){t=I("p"),n=$("Or do you want to play "),e=I("a"),l=$("a randomly selected word"),r=$("?"),this.h()},l(s){t=L(s,"P",{});var i=T(t);n=k(i,"Or do you want to play "),e=L(i,"A",{href:!0});var p=T(e);l=k(p,"a randomly selected word"),p.forEach(c),r=k(i,"?"),i.forEach(c),this.h()},h(){S(e,"href","?enc="+encodeURIComponent(window.btoa(o[2])))},m(s,i){m(s,t,i),P(t,n),P(t,e),P(e,l),P(t,r)},p:O,d(s){s&&c(t)}}}function Oe(o){let t,n,e,l,r,s,i;const p=[Le,Ie,Ge],f=[];function _(u,v){return u[0]?2:0}return l=_(o),r=f[l]=p[l](o),{c(){t=I("h2"),n=$("Weirdle"),e=A(),r.c(),s=U()},l(u){t=L(u,"H2",{});var v=T(t);n=k(v,"Weirdle"),v.forEach(c),e=C(u),r.l(u),s=U()},m(u,v){m(u,t,v),P(t,n),m(u,e,v),f[l].m(u,v),m(u,s,v),i=!0},p(u,v){let d=l;l=_(u),l===d?f[l].p(u,v):(ie(),B(f[d],1,1,()=>{f[d]=null}),ae(),r=f[l],r?r.p(u,v):(r=f[l]=p[l](u),r.c()),N(r,1),r.m(s.parentNode,s))},i(u){i||(N(r),i=!0)},o(u){B(r),i=!1},d(u){u&&c(t),u&&c(e),f[l].d(u),u&&c(s)}}}function Se(o){let t,n;return t=new be({props:{$$slots:{default:[Oe]},$$scope:{ctx:o}}}),{c(){R(t.$$.fragment)},l(e){V(t.$$.fragment,e)},m(e,l){j(t,e,l),n=!0},p(e,[l]){const r={};l&35&&(r.$$scope={dirty:l,ctx:e}),t.$set(r)},i(e){n||(N(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){z(t,e)}}}function Be(o,t,n){let e;H(o,de,p=>n(3,e=p));let l,r;const s=["hello","below","canon","alpha","stare"],i=s[Math.floor(Math.random()*s.length)];return me(()=>{n(0,l=e.url.searchParams.get("enc")),n(1,r=e.url.searchParams.get("hint"))}),[l,r,i]}class Me extends re{constructor(t){super(),oe(this,t,Be,Se,se,{})}}export{Me as default};
