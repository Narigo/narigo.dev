import{S as se,i as oe,s as ie,k as P,q as m,a as N,e as C,l as E,m as L,r as d,h as f,c as W,n as O,b as p,G as k,g as ae,t as S,d as fe,f as B,Q as ue,H as j,u as F,B as A,T as V,w as M,x as Y,y as D,z as R,U as Z,L as Q,M as he,R as me,j as de}from"../../../../../chunks/index-145af0dc.js";import{p as be}from"../../../../../chunks/stores-c6e78c2f.js";import{P as $e}from"../../../../../chunks/PageLayout-8ef43132.js";import{b as ce}from"../../../../../chunks/paths-b4419565.js";import{B as z}from"../../../../../chunks/Bubble-31775754.js";import{w as K}from"../../../../../chunks/singletons-c575c3aa.js";function x(o,t,n){const l=o.slice();return l[9]=t[n],l}function ee(o,t,n){const l=o.slice();return l[13]=t[n],l}function te(o){let t,n;return{c(){t=m("Another hint: "),n=m(o[1])},l(l){t=d(l,"Another hint: "),n=d(l,o[1])},m(l,r){p(l,t,r),p(l,n,r)},p(l,r){r&2&&F(n,l[1])},d(l){l&&f(t),l&&f(n)}}}function le(o){let t,n;return{c(){t=P("p"),n=m("Nothing guessed yet!")},l(l){t=E(l,"P",{});var r=L(t);n=d(r,"Nothing guessed yet!"),r.forEach(f)},m(l,r){p(l,t,r),k(t,n)},p:A,d(l){l&&f(t)}}}function re(o){let t,n=o[13].letter+"",l,r;return{c(){t=P("span"),l=m(n),this.h()},l(e){t=E(e,"SPAN",{class:!0});var s=L(t);l=d(s,n),s.forEach(f),this.h()},h(){O(t,"class",r="letter "+o[13].correctnessInGuess+" svelte-103ruo3")},m(e,s){p(e,t,s),k(t,l)},p(e,s){s&8&&n!==(n=e[13].letter+"")&&F(l,n),s&8&&r!==(r="letter "+e[13].correctnessInGuess+" svelte-103ruo3")&&O(t,"class",r)},d(e){e&&f(t)}}}function ne(o){let t,n,l=o[9],r=[];for(let e=0;e<l.length;e+=1)r[e]=re(ee(o,l,e));return{c(){t=P("div");for(let e=0;e<r.length;e+=1)r[e].c();n=N(),this.h()},l(e){t=E(e,"DIV",{class:!0});var s=L(t);for(let i=0;i<r.length;i+=1)r[i].l(s);n=W(s),s.forEach(f),this.h()},h(){O(t,"class","guess svelte-103ruo3")},m(e,s){p(e,t,s);for(let i=0;i<r.length;i+=1)r[i].m(t,null);k(t,n)},p(e,s){if(s&8){l=e[9];let i;for(i=0;i<l.length;i+=1){const h=ee(e,l,i);r[i]?r[i].p(h,s):(r[i]=re(h),r[i].c(),r[i].m(t,n))}for(;i<r.length;i+=1)r[i].d(1);r.length=l.length}},d(e){e&&f(t),ue(r,e)}}}function we(o){let t,n,l,r;return t=new z({props:{$$slots:{default:[ke]},$$scope:{ctx:o}}}),l=new z({props:{side:"right",$$slots:{default:[ye]},$$scope:{ctx:o}}}),{c(){M(t.$$.fragment),n=N(),M(l.$$.fragment)},l(e){Y(t.$$.fragment,e),n=W(e),Y(l.$$.fragment,e)},m(e,s){D(t,e,s),p(e,n,s),D(l,e,s),r=!0},p(e,s){const i={};s&65537&&(i.$$scope={dirty:s,ctx:e}),t.$set(i);const h={};s&65536&&(h.$$scope={dirty:s,ctx:e}),l.$set(h)},i(e){r||(B(t.$$.fragment,e),B(l.$$.fragment,e),r=!0)},o(e){S(t.$$.fragment,e),S(l.$$.fragment,e),r=!1},d(e){R(t,e),e&&f(n),R(l,e)}}}function ge(o){let t,n,l,r;return t=new z({props:{$$slots:{default:[Ie]},$$scope:{ctx:o}}}),l=new z({props:{side:"right",$$slots:{default:[Pe]},$$scope:{ctx:o}}}),{c(){M(t.$$.fragment),n=N(),M(l.$$.fragment)},l(e){Y(t.$$.fragment,e),n=W(e),Y(l.$$.fragment,e)},m(e,s){D(t,e,s),p(e,n,s),D(l,e,s),r=!0},p(e,s){const i={};s&65537&&(i.$$scope={dirty:s,ctx:e}),t.$set(i);const h={};s&65536&&(h.$$scope={dirty:s,ctx:e}),l.$set(h)},i(e){r||(B(t.$$.fragment,e),B(l.$$.fragment,e),r=!0)},o(e){S(t.$$.fragment,e),S(l.$$.fragment,e),r=!1},d(e){R(t,e),e&&f(n),R(l,e)}}}function ve(o){let t,n,l,r,e,s,i,h;return{c(){t=P("form"),n=P("input"),l=N(),r=P("button"),e=m("Guess"),this.h()},l(u){t=E(u,"FORM",{class:!0});var _=L(t);n=E(_,"INPUT",{minlength:!0,maxlength:!0}),l=W(_),r=E(_,"BUTTON",{});var c=L(r);e=d(c,"Guess"),c.forEach(f),_.forEach(f),this.h()},h(){O(n,"minlength",o[5].length),O(n,"maxlength",o[5].length),r.disabled=s=o[4].length!==o[5].length,O(t,"class","svelte-103ruo3")},m(u,_){p(u,t,_),k(t,n),Z(n,o[4]),k(t,l),k(t,r),k(r,e),i||(h=[Q(n,"input",o[10]),Q(r,"click",he(o[9])),Q(t,"submit",o[9])],i=!0)},p(u,_){_&16&&n.value!==u[4]&&Z(n,u[4]),_&16&&s!==(s=u[4].length!==u[5].length)&&(r.disabled=s)},i:A,o:A,d(u){u&&f(t),i=!1,me(h)}}}function ke(o){let t,n,l;return{c(){t=m("You found it! It was "),n=m(o[0]),l=m("!")},l(r){t=d(r,"You found it! It was "),n=d(r,o[0]),l=d(r,"!")},m(r,e){p(r,t,e),p(r,n,e),p(r,l,e)},p(r,e){e&1&&F(n,r[0])},d(r){r&&f(t),r&&f(n),r&&f(l)}}}function ye(o){let t,n,l,r;return{c(){t=m("If you want to create your own word, "),n=P("a"),l=m("start here"),r=m("!"),this.h()},l(e){t=d(e,"If you want to create your own word, "),n=E(e,"A",{href:!0});var s=L(n);l=d(s,"start here"),s.forEach(f),r=d(e,"!"),this.h()},h(){O(n,"href",ce+"/specials/weirdle/create")},m(e,s){p(e,t,s),p(e,n,s),k(n,l),p(e,r,s)},p:A,d(e){e&&f(t),e&&f(n),e&&f(r)}}}function Ie(o){let t,n;return{c(){t=m("Better luck next time, the word to be found was: "),n=m(o[0])},l(l){t=d(l,"Better luck next time, the word to be found was: "),n=d(l,o[0])},m(l,r){p(l,t,r),p(l,n,r)},p(l,r){r&1&&F(n,l[0])},d(l){l&&f(t),l&&f(n)}}}function Pe(o){let t,n,l,r;return{c(){t=m("If you want to create your own word, "),n=P("a"),l=m("start here"),r=m("!"),this.h()},l(e){t=d(e,"If you want to create your own word, "),n=E(e,"A",{href:!0});var s=L(n);l=d(s,"start here"),s.forEach(f),r=d(e,"!"),this.h()},h(){O(n,"href",ce+"/specials/weirdle/create")},m(e,s){p(e,t,s),p(e,n,s),k(n,l),p(e,r,s)},p:A,d(e){e&&f(t),e&&f(n),e&&f(r)}}}function Ee(o){let t,n,l=o[5].length+"",r,e,s,i,h,u,_,c,y,$=o[1]&&te(o),b=o[3],v=[];for(let a=0;a<b.length;a+=1)v[a]=ne(x(o,b,a));let g=null;b.length||(g=le());const U=[ve,ge,we],G=[];function H(a,w){return a[3].length<6&&a[2]==="playing"?0:a[2]==="lost"?1:a[2]==="won"?2:-1}return~(u=H(o))&&(_=G[u]=U[u](o)),{c(){t=P("p"),n=m("You are searching a "),r=m(l),e=m(" letter word. "),$&&$.c(),s=N(),i=P("div");for(let a=0;a<v.length;a+=1)v[a].c();g&&g.c(),h=N(),_&&_.c(),c=C(),this.h()},l(a){t=E(a,"P",{});var w=L(t);n=d(w,"You are searching a "),r=d(w,l),e=d(w," letter word. "),$&&$.l(w),w.forEach(f),s=W(a),i=E(a,"DIV",{class:!0});var T=L(i);for(let I=0;I<v.length;I+=1)v[I].l(T);g&&g.l(T),T.forEach(f),h=W(a),_&&_.l(a),c=C(),this.h()},h(){O(i,"class","board svelte-103ruo3")},m(a,w){p(a,t,w),k(t,n),k(t,r),k(t,e),$&&$.m(t,null),p(a,s,w),p(a,i,w);for(let T=0;T<v.length;T+=1)v[T].m(i,null);g&&g.m(i,null),p(a,h,w),~u&&G[u].m(a,w),p(a,c,w),y=!0},p(a,[w]){if(a[1]?$?$.p(a,w):($=te(a),$.c(),$.m(t,null)):$&&($.d(1),$=null),w&8){b=a[3];let I;for(I=0;I<b.length;I+=1){const J=x(a,b,I);v[I]?v[I].p(J,w):(v[I]=ne(J),v[I].c(),v[I].m(i,null))}for(;I<v.length;I+=1)v[I].d(1);v.length=b.length,!b.length&&g?g.p(a,w):b.length?g&&(g.d(1),g=null):(g=le(),g.c(),g.m(i,null))}let T=u;u=H(a),u===T?~u&&G[u].p(a,w):(_&&(ae(),S(G[T],1,1,()=>{G[T]=null}),fe()),~u?(_=G[u],_?_.p(a,w):(_=G[u]=U[u](a),_.c()),B(_,1),_.m(c.parentNode,c)):_=null)},i(a){y||(B(_),y=!0)},o(a){S(_),y=!1},d(a){a&&f(t),$&&$.d(),a&&f(s),a&&f(i),ue(v,a),g&&g.d(),a&&f(h),~u&&G[u].d(a),a&&f(c)}}}function Ge(o,t,n){let l,r,e,{word:s}=t,{hint:i}=t,h=s.split("").map(b=>b.toLocaleLowerCase()),u=K("playing");j(o,u,b=>n(2,l=b));let _=K([]);j(o,_,b=>n(3,r=b));let c=K("");j(o,c,b=>n(4,e=b));function y(b){if(b.preventDefault(),e.length!==h.length)return;const v=e.toLocaleLowerCase().split(""),g=v.reduce((U,G,H)=>{const a=h[H]===G,w=v.reduce((q,X,pe)=>q+(X===G&&h[pe]===X?1:0),0),T=U.filter(q=>q.letter===G).length,I=h.filter(q=>q===G).length,J=T+w<I,_e={letter:G,correctnessInGuess:a?"green":J?"yellow":"black"};return[...U,_e]},[]);V(_,r=[...r,g],r),V(c,e="",e),g.every(({correctnessInGuess:U})=>U==="green")?V(u,l="won",l):r.length===6&&V(u,l="lost",l)}function $(){e=this.value,c.set(e)}return o.$$set=b=>{"word"in b&&n(0,s=b.word),"hint"in b&&n(1,i=b.hint)},[s,i,l,r,e,h,u,_,c,y,$]}class Le extends se{constructor(t){super(),oe(this,t,Ge,Ee,ie,{word:0,hint:1})}}function Te(o){let t,n;return t=new Le({props:{word:window.atob(o[0]),hint:o[1]?window.atob(o[1]):void 0}}),{c(){M(t.$$.fragment)},l(l){Y(t.$$.fragment,l)},m(l,r){D(t,l,r),n=!0},p(l,r){const e={};r&1&&(e.word=window.atob(l[0])),r&2&&(e.hint=l[1]?window.atob(l[1]):void 0),t.$set(e)},i(l){n||(B(t.$$.fragment,l),n=!0)},o(l){S(t.$$.fragment,l),n=!1},d(l){R(t,l)}}}function Ae(o){let t,n;return{c(){t=P("p"),n=m("This game needs to be played in a browser with JavaScript enabled.")},l(l){t=E(l,"P",{});var r=L(t);n=d(r,"This game needs to be played in a browser with JavaScript enabled."),r.forEach(f)},m(l,r){p(l,t,r),k(t,n)},p:A,i:A,o:A,d(l){l&&f(t)}}}function Oe(o){let t,n,l,r,e=Se(o);return{c(){t=P("p"),n=m("Please use a proper link with an 'enc' parameter attached to it!"),l=N(),e&&e.c(),r=C()},l(s){t=E(s,"P",{});var i=L(t);n=d(i,"Please use a proper link with an 'enc' parameter attached to it!"),i.forEach(f),l=W(s),e&&e.l(s),r=C()},m(s,i){p(s,t,i),k(t,n),p(s,l,i),e&&e.m(s,i),p(s,r,i)},p(s,i){},i:A,o:A,d(s){s&&f(t),s&&f(l),e&&e.d(s),s&&f(r)}}}function Se(o){let t,n,l,r,e;return{c(){t=P("p"),n=m("Or do you want to play "),l=P("a"),r=m("a randomly selected word"),e=m("?"),this.h()},l(s){t=E(s,"P",{});var i=L(t);n=d(i,"Or do you want to play "),l=E(i,"A",{href:!0});var h=L(l);r=d(h,"a randomly selected word"),h.forEach(f),e=d(i,"?"),i.forEach(f),this.h()},h(){O(l,"href","?enc="+encodeURIComponent(window.btoa(o[2])))},m(s,i){p(s,t,i),k(t,n),k(t,l),k(l,r),k(t,e)},p:A,d(s){s&&f(t)}}}function Be(o){let t,n,l,r,e,s,i;const h=[Oe,Ae,Te],u=[];function _(c,y){return c[0]?2:0}return r=_(o),e=u[r]=h[r](o),{c(){t=P("h2"),n=m("Weirdle"),l=N(),e.c(),s=C()},l(c){t=E(c,"H2",{});var y=L(t);n=d(y,"Weirdle"),y.forEach(f),l=W(c),e.l(c),s=C()},m(c,y){p(c,t,y),k(t,n),p(c,l,y),u[r].m(c,y),p(c,s,y),i=!0},p(c,y){let $=r;r=_(c),r===$?u[r].p(c,y):(ae(),S(u[$],1,1,()=>{u[$]=null}),fe(),e=u[r],e?e.p(c,y):(e=u[r]=h[r](c),e.c()),B(e,1),e.m(s.parentNode,s))},i(c){i||(B(e),i=!0)},o(c){S(e),i=!1},d(c){c&&f(t),c&&f(l),u[r].d(c),c&&f(s)}}}function Ne(o){let t,n;return t=new $e({props:{$$slots:{default:[Be]},$$scope:{ctx:o}}}),{c(){M(t.$$.fragment)},l(l){Y(t.$$.fragment,l)},m(l,r){D(t,l,r),n=!0},p(l,[r]){const e={};r&35&&(e.$$scope={dirty:r,ctx:l}),t.$set(e)},i(l){n||(B(t.$$.fragment,l),n=!0)},o(l){S(t.$$.fragment,l),n=!1},d(l){R(t,l)}}}function We(o,t,n){let l;j(o,be,h=>n(3,l=h));let r,e;const s=["hello","below","canon","alpha","stare"],i=s[Math.floor(Math.random()*s.length)];return de(()=>{n(0,r=l.url.searchParams.get("enc")),n(1,e=l.url.searchParams.get("hint"))}),[r,e,i]}class qe extends se{constructor(t){super(),oe(this,t,We,Ne,ie,{})}}export{qe as default};
