import{s as Y,c as V,e as v,d as w,f as C,i as c,r as D,B as m,k as p,u as N,g as S,a as T,K as B,X as J,o as L,x as P,b as Q,j as R,D as M,l as I,C as W,Y as Z,O as $,t as A,h as O}from"./scheduler.C0BfHF-J.js";import{S as y,i as z,t as b,a as k,g as F,e as G,c as x,b as ee,m as te,d as le,h as X}from"./index.LRqrGZ80.js";import{w as se}from"./index.eJUCelmL.js";import{f as j}from"./index.DSe5nv7t.js";function ae(s){let e,a;const l=s[2].default,t=V(l,s,s[1],null);return{c(){e=v("div"),t&&t.c(),this.h()},l(n){e=w(n,"DIV",{class:!0});var i=C(e);t&&t.l(i),i.forEach(c),this.h()},h(){D(e,"class","contents svelte-14xtmry"),m(e,"shakeit",s[0])},m(n,i){p(n,e,i),t&&t.m(e,null),a=!0},p(n,[i]){t&&t.p&&(!a||i&2)&&N(t,l,n,n[1],a?T(l,n[1],i,null):S(n[1]),null),(!a||i&1)&&m(e,"shakeit",n[0])},i(n){a||(b(t,n),a=!0)},o(n){k(t,n),a=!1},d(n){n&&c(e),t&&t.d(n)}}}function ne(s,e,a){let{$$slots:l={},$$scope:t}=e,{shake:n=!0}=e;return s.$$set=i=>{"shake"in i&&a(0,n=i.shake),"$$scope"in i&&a(1,t=i.$$scope)},[n,t,l]}class oe extends y{constructor(e){super(),z(this,e,ne,ae,Y,{shake:0})}}const ie=s=>({mode:s&16}),q=s=>({mode:s[7][s[4]]});function K(s){let e,a;return e=new oe({props:{shake:s[7][s[4]]==="shout",$$slots:{default:[ce]},$$scope:{ctx:s}}}),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,t){te(e,l,t),a=!0},p(l,t){const n={};t&16&&(n.shake=l[7][l[4]]==="shout"),t&2079&&(n.$$scope={dirty:t,ctx:l}),e.$set(n)},i(l){a||(b(e.$$.fragment,l),a=!0)},o(l){k(e.$$.fragment,l),a=!1},d(l){le(e,l)}}}function U(s){let e,a,l,t;const n=s[10].default,i=V(n,s,s[11],null);return{c(){e=v("div"),a=v("div"),i&&i.c(),this.h()},l(o){e=w(o,"DIV",{class:!0});var u=C(e);a=w(u,"DIV",{class:!0});var d=C(a);i&&i.l(d),d.forEach(c),u.forEach(c),this.h()},h(){D(a,"class","content svelte-1aotcig"),D(e,"class","bubble relative bg-white border-2 border-black text-base leading-8 my-2 mx-auto p-2 max-w-max translate-x-[--x] rounded-lg svelte-1aotcig"),m(e,"ml-8",s[0]==="left"),m(e,"mr-8",s[0]==="right")},m(o,u){p(o,e,u),I(e,a),i&&i.m(a,null),t=!0},p(o,u){s=o,i&&i.p&&(!t||u&2048)&&N(i,n,s,s[11],t?T(n,s[11],u,null):S(s[11]),null),(!t||u&1)&&m(e,"ml-8",s[0]==="left"),(!t||u&1)&&m(e,"mr-8",s[0]==="right")},i(o){t||(b(i,o),o&&$(()=>{t&&(l||(l=X(e,j,{x:(s[0]==="left"?-1:1)*50,duration:s[1]},!0)),l.run(1))}),t=!0)},o(o){k(i,o),o&&(l||(l=X(e,j,{x:(s[0]==="left"?-1:1)*50,duration:s[1]},!1)),l.run(0)),t=!1},d(o){o&&c(e),i&&i.d(o),o&&l&&l.end()}}}function re(s){let e;return{c(){e=A("🤐")},l(a){e=O(a,"🤐")},m(a,l){p(a,e,l)},d(a){a&&c(e)}}}function fe(s){let e;return{c(){e=A("😱")},l(a){e=O(a,"😱")},m(a,l){p(a,e,l)},d(a){a&&c(e)}}}function ue(s){let e;return{c(){e=A("🗣️")},l(a){e=O(a,"🗣️")},m(a,l){p(a,e,l)},d(a){a&&c(e)}}}function _e(s){let e;function a(n,i){return n[7][n[4]]==="talk"?ue:n[7][n[4]]==="shout"?fe:re}let l=a(s),t=l(s);return{c(){t.c(),e=B()},l(n){t.l(n),e=B()},m(n,i){t.m(n,i),p(n,e,i)},p(n,i){l!==(l=a(n))&&(t.d(1),t=l(n),t&&(t.c(),t.m(e.parentNode,e)))},d(n){n&&c(e),t.d(n)}}}function ce(s){let e,a,l,t,n,i,o=(s[7][s[4]]==="talk"||s[7][s[4]]==="shout")&&U(s);const u=s[10].avatar,d=V(u,s,s[11],q),_=d||_e(s);return{c(){e=v("div"),o&&o.c(),a=Q(),l=v("button"),_&&_.c(),this.h()},l(r){e=w(r,"DIV",{class:!0,style:!0});var f=C(e);o&&o.l(f),a=R(f),l=w(f,"BUTTON",{class:!0});var g=C(l);_&&_.l(g),g.forEach(c),f.forEach(c),this.h()},h(){D(l,"class","avatar absolute bg-transparent border-none bottom-3 cursor-pointer text-base svelte-1aotcig"),D(e,"class","relative min-h-12 rotate-[--angle] svelte-1aotcig"),M(e,"--angle",s[2]+"deg"),M(e,"--x",s[3]+"px"),m(e,"shutup",s[7][s[4]]==="shutup"),m(e,"left",s[0]==="left"),m(e,"right",s[0]==="right")},m(r,f){p(r,e,f),o&&o.m(e,null),I(e,a),I(e,l),_&&_.m(l,null),t=!0,n||(i=W(l,"click",Z(s[8])),n=!0)},p(r,f){r[7][r[4]]==="talk"||r[7][r[4]]==="shout"?o?(o.p(r,f),f&16&&b(o,1)):(o=U(r),o.c(),b(o,1),o.m(e,a)):o&&(F(),k(o,1,1,()=>{o=null}),G()),d?d.p&&(!t||f&2064)&&N(d,u,r,r[11],t?T(u,r[11],f,ie):S(r[11]),q):_&&_.p&&(!t||f&16)&&_.p(r,t?f:-1),(!t||f&4)&&M(e,"--angle",r[2]+"deg"),(!t||f&8)&&M(e,"--x",r[3]+"px"),(!t||f&144)&&m(e,"shutup",r[7][r[4]]==="shutup"),(!t||f&1)&&m(e,"left",r[0]==="left"),(!t||f&1)&&m(e,"right",r[0]==="right")},i(r){t||(b(o),b(_,r),t=!0)},o(r){k(o),k(_,r),t=!1},d(r){r&&c(e),o&&o.d(),_&&_.d(r),n=!1,i()}}}function me(s){let e,a,l=s[5]&&K(s);return{c(){l&&l.c(),e=B()},l(t){l&&l.l(t),e=B()},m(t,n){l&&l.m(t,n),p(t,e,n),a=!0},p(t,[n]){t[5]?l?(l.p(t,n),n&32&&b(l,1)):(l=K(t),l.c(),b(l,1),l.m(e.parentNode,e)):l&&(F(),k(l,1,1,()=>{l=null}),G())},i(t){a||(b(l),a=!0)},o(t){k(l),a=!1},d(t){t&&c(e),l&&l.d(t)}}}function de(s,e,a){let l,{$$slots:t={},$$scope:n}=e,{side:i="left"}=e,{delay:o=void 0}=e,{duration:u=1e3}=e;const d=J("AnimationContext");let _=Math.random()*1.5-1.5/2,r=Math.random()*5-5/2;const f=se(o===0||d===void 0);L(s,f,h=>a(5,l=h)),P(()=>{d&&d.createAnimation(f,o)});const g=["talk","shutup","talk","shutup","talk","shout","talk","shutup"];let E=0;const H=()=>{a(4,E=(E+1)%g.length),g[E]==="talk"&&(a(2,_=Math.random()*1.5-1.5/2),a(3,r=Math.random()*5-5/2))};return s.$$set=h=>{"side"in h&&a(0,i=h.side),"delay"in h&&a(9,o=h.delay),"duration"in h&&a(1,u=h.duration),"$$scope"in h&&a(11,n=h.$$scope)},[i,u,_,r,E,l,f,g,H,o,t,n]}class ge extends y{constructor(e){super(),z(this,e,de,me,Y,{side:0,delay:9,duration:1})}}export{ge as B};
