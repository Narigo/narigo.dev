import{S as X,i as j,s as w,C as P,k as N,l as p,m as D,h as _,n as I,I as k,b as v,D as Q,E as R,F as W,f as h,t as b,J as O,K as z,e as F,g as Y,d as Z,o as $,w as ee,x as te,y as ne,z as le,a as se,c as ae,p as V,G as B,L as ie,M as oe,N as re,O as G,q as S,r as q}from"./index-ecea19d5.js";import{b as ue}from"./Bubble.svelte_svelte_type_style_lang-02e41c0a.js";import{f as H}from"./index-e4818e4e.js";const fe=s=>s&3,ce=s=>({}),J=s=>({...s[1],class:s[0]?"shakeit":""});function me(s){let e,n;const t=s[3].default,l=P(t,s,s[2],J);return{c(){e=N("div"),l&&l.c(),this.h()},l(a){e=p(a,"DIV",{class:!0});var i=D(e);l&&l.l(i),i.forEach(_),this.h()},h(){I(e,"class","svelte-17vayou"),k(e,"shakeit",s[0])},m(a,i){v(a,e,i),l&&l.m(e,null),n=!0},p(a,[i]){l&&l.p&&(!n||i&7)&&Q(l,t,a,a[2],fe(i)||!n?R(a[2]):W(t,a[2],i,ce),J),(!n||i&1)&&k(e,"shakeit",a[0])},i(a){n||(h(l,a),n=!0)},o(a){b(l,a),n=!1},d(a){a&&_(e),l&&l.d(a)}}}function de(s,e,n){let{$$slots:t={},$$scope:l}=e,{shake:a=!0}=e;return s.$$set=i=>{n(1,e=O(O({},e),z(i))),"shake"in i&&n(0,a=i.shake),"$$scope"in i&&n(2,l=i.$$scope)},e=z(e),[a,e,l,t]}class _e extends X{constructor(e){super(),j(this,e,de,me,w,{shake:0})}}function K(s){let e,n;return e=new _e({props:{shake:s[6][s[5]]==="shout",$$slots:{default:[be]},$$scope:{ctx:s}}}),{c(){ee(e.$$.fragment)},l(t){te(e.$$.fragment,t)},m(t,l){ne(e,t,l),n=!0},p(t,l){const a={};l&32&&(a.shake=t[6][t[5]]==="shout"),l&4143&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){le(e,t)}}}function U(s){let e,n,t,l;const a=s[11].default,i=P(a,s,s[12],null);return{c(){e=N("div"),n=N("div"),i&&i.c(),this.h()},l(o){e=p(o,"DIV",{class:!0});var m=D(e);n=p(m,"DIV",{class:!0});var c=D(n);i&&i.l(c),c.forEach(_),m.forEach(_),this.h()},h(){I(n,"class","content svelte-1l3simr"),I(e,"class","bubble svelte-1l3simr")},m(o,m){v(o,e,m),B(e,n),i&&i.m(n,null),l=!0},p(o,m){s=o,i&&i.p&&(!l||m&4096)&&Q(i,a,s,s[12],l?W(a,s[12],m,null):R(s[12]),null)},i(o){l||(h(i,o),re(()=>{t||(t=G(e,H,{x:(s[0]==="left"?-1:1)*50,duration:s[1]},!0)),t.run(1)}),l=!0)},o(o){b(i,o),t||(t=G(e,H,{x:(s[0]==="left"?-1:1)*50,duration:s[1]},!1)),t.run(0),l=!1},d(o){o&&_(e),i&&i.d(o),o&&t&&t.end()}}}function he(s){let e;return{c(){e=S("ðŸ¤")},l(n){e=q(n,"ðŸ¤")},m(n,t){v(n,e,t)},d(n){n&&_(e)}}}function ke(s){let e;return{c(){e=S("ðŸ˜±")},l(n){e=q(n,"ðŸ˜±")},m(n,t){v(n,e,t)},d(n){n&&_(e)}}}function ge(s){let e;return{c(){e=S("ðŸ—£ï¸")},l(n){e=q(n,"ðŸ—£ï¸")},m(n,t){v(n,e,t)},d(n){n&&_(e)}}}function be(s){let e,n,t,l,a,i,o=(s[6][s[5]]==="talk"||s[6][s[5]]==="shout")&&U(s);function m(r,f){return r[6][r[5]]==="talk"?ge:r[6][r[5]]==="shout"?ke:he}let c=m(s),d=c(s);return{c(){e=N("div"),o&&o.c(),n=se(),t=N("button"),d.c(),this.h()},l(r){e=p(r,"DIV",{class:!0,style:!0});var f=D(e);o&&o.l(f),n=ae(f),t=p(f,"BUTTON",{class:!0});var T=D(t);d.l(T),T.forEach(_),f.forEach(_),this.h()},h(){I(t,"class","avatar svelte-1l3simr"),I(e,"class","wrap svelte-1l3simr"),V(e,"--angle",s[2]+"deg"),V(e,"--x",s[3]+"px"),k(e,"shutup",s[6][s[5]]==="shutup"),k(e,"left",s[0]==="left"),k(e,"right",s[0]==="right")},m(r,f){v(r,e,f),o&&o.m(e,null),B(e,n),B(e,t),d.m(t,null),l=!0,a||(i=ie(t,"click",oe(s[7])),a=!0)},p(r,f){r[6][r[5]]==="talk"||r[6][r[5]]==="shout"?o?(o.p(r,f),f&32&&h(o,1)):(o=U(r),o.c(),h(o,1),o.m(e,n)):o&&(Y(),b(o,1,1,()=>{o=null}),Z()),c!==(c=m(r))&&(d.d(1),d=c(r),d&&(d.c(),d.m(t,null))),(!l||f&4)&&V(e,"--angle",r[2]+"deg"),(!l||f&8)&&V(e,"--x",r[3]+"px"),(!l||f&96)&&k(e,"shutup",r[6][r[5]]==="shutup"),(!l||f&1)&&k(e,"left",r[0]==="left"),(!l||f&1)&&k(e,"right",r[0]==="right")},i(r){l||(h(o),l=!0)},o(r){b(o),l=!1},d(r){r&&_(e),o&&o.d(),d.d(),a=!1,i()}}}function ve(s){let e,n,t=s[4]&&K(s);return{c(){t&&t.c(),e=F()},l(l){t&&t.l(l),e=F()},m(l,a){t&&t.m(l,a),v(l,e,a),n=!0},p(l,[a]){l[4]?t?(t.p(l,a),a&16&&h(t,1)):(t=K(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(Y(),b(t,1,1,()=>{t=null}),Z())},i(l){n||(h(t),n=!0)},o(l){b(t),n=!1},d(l){t&&t.d(l),l&&_(e)}}}let E={};function Te(s,e,n){let{$$slots:t={},$$scope:l}=e,{side:a="left"}=e,{delay:i=0}=e,{duration:o=100}=e,{delayNext:m=0}=e,{animation:c=void 0}=e,d=Math.random()*1.5-1.5/2,r=Math.random()*5-5/2,f=i===0&&c===void 0;const T=["talk","shutup","talk","shutup","talk","shout","talk","shutup"];let L=0;const x=()=>{n(5,L=(L+1)%T.length),T[L]==="talk"&&(n(2,d=Math.random()*1.5-1.5/2),n(3,r=Math.random()*5-5/2))};let A=0,y=null;return $(()=>{if(c){E[c]===void 0&&(E[c]={current:0,started:!1,nextTimer:null,animations:[]});const u=E[c];A=u.animations.length;const g=()=>{if(c){if(A<=u.current){document.removeEventListener("click",g);const{nextTimer:C}=u;C!==null&&(clearTimeout(C),u.nextTimer=null),n(4,f=!0),u.current+=1;const M=u.current<u.animations.length?u.animations[u.current]:void 0;M&&(u.nextTimer=setTimeout(M.animation,M.delayNext),y=M.animation,document.addEventListener("click",y))}}else n(4,f=!0),y=g,document.removeEventListener("click",g)};u.animations.push({delayNext:m,animation:g}),u.started||(u.started=!0,u.nextTimer=setTimeout(g,i),y=g,document.addEventListener("click",g))}}),ue(()=>{if(y!==null&&document.removeEventListener("click",y),c){const{nextTimer:u}=E[c];u!==null&&clearTimeout(u)}E={}}),s.$$set=u=>{"side"in u&&n(0,a=u.side),"delay"in u&&n(8,i=u.delay),"duration"in u&&n(1,o=u.duration),"delayNext"in u&&n(9,m=u.delayNext),"animation"in u&&n(10,c=u.animation),"$$scope"in u&&n(12,l=u.$$scope)},[a,o,d,r,f,L,T,x,i,m,c,t,l]}class pe extends X{constructor(e){super(),j(this,e,Te,ve,w,{side:0,delay:8,duration:1,delayNext:9,animation:10})}}export{pe as B};
