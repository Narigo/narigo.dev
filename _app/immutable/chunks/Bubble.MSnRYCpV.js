import{s as X,r as B,f as v,g as w,h as E,d as c,j as D,$ as m,i as p,u as N,v as S,w as T,e as I,F as L,z as P,o as Q,a as R,c as W,k as C,x as V,D as Y,a3 as Z,E as $,l as A,m as j}from"./scheduler.Po0zCuFf.js";import{S as y,i as G,a as b,t as k,g as H,c as J,b as x,d as ee,m as te,e as le,f as q}from"./index.WEWm72Kh.js";import{w as ae}from"./index.7dL6RvpZ.js";import{a as z}from"./index.omQVR1u-.js";function se(a){let e,s;const l=a[2].default,t=B(l,a,a[1],null);return{c(){e=v("div"),t&&t.c(),this.h()},l(n){e=w(n,"DIV",{class:!0});var i=E(e);t&&t.l(i),i.forEach(c),this.h()},h(){D(e,"class","contents svelte-14xtmry"),m(e,"shakeit",a[0])},m(n,i){p(n,e,i),t&&t.m(e,null),s=!0},p(n,[i]){t&&t.p&&(!s||i&2)&&N(t,l,n,n[1],s?T(l,n[1],i,null):S(n[1]),null),(!s||i&1)&&m(e,"shakeit",n[0])},i(n){s||(b(t,n),s=!0)},o(n){k(t,n),s=!1},d(n){n&&c(e),t&&t.d(n)}}}function ne(a,e,s){let{$$slots:l={},$$scope:t}=e,{shake:n=!0}=e;return a.$$set=i=>{"shake"in i&&s(0,n=i.shake),"$$scope"in i&&s(1,t=i.$$scope)},[n,t,l]}class oe extends y{constructor(e){super(),G(this,e,ne,se,X,{shake:0})}}const ie=a=>({mode:a&16}),F=a=>({mode:a[7][a[4]]});function O(a){let e,s;return e=new oe({props:{shake:a[7][a[4]]==="shout",$$slots:{default:[ce]},$$scope:{ctx:a}}}),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,t){te(e,l,t),s=!0},p(l,t){const n={};t&16&&(n.shake=l[7][l[4]]==="shout"),t&2079&&(n.$$scope={dirty:t,ctx:l}),e.$set(n)},i(l){s||(b(e.$$.fragment,l),s=!0)},o(l){k(e.$$.fragment,l),s=!1},d(l){le(e,l)}}}function U(a){let e,s,l,t;const n=a[10].default,i=B(n,a,a[11],null);return{c(){e=v("div"),s=v("div"),i&&i.c(),this.h()},l(o){e=w(o,"DIV",{class:!0});var u=E(e);s=w(u,"DIV",{class:!0});var d=E(s);i&&i.l(d),d.forEach(c),u.forEach(c),this.h()},h(){D(s,"class","content svelte-1aotcig"),D(e,"class","bubble relative bg-white border-2 border-black text-base leading-8 my-2 mx-auto p-2 max-w-max translate-x-[--x] rounded-lg svelte-1aotcig"),m(e,"ml-8",a[0]==="left"),m(e,"mr-8",a[0]==="right")},m(o,u){p(o,e,u),V(e,s),i&&i.m(s,null),t=!0},p(o,u){a=o,i&&i.p&&(!t||u&2048)&&N(i,n,a,a[11],t?T(n,a[11],u,null):S(a[11]),null),(!t||u&1)&&m(e,"ml-8",a[0]==="left"),(!t||u&1)&&m(e,"mr-8",a[0]==="right")},i(o){t||(b(i,o),o&&$(()=>{t&&(l||(l=q(e,z,{x:(a[0]==="left"?-1:1)*50,duration:a[1]},!0)),l.run(1))}),t=!0)},o(o){k(i,o),o&&(l||(l=q(e,z,{x:(a[0]==="left"?-1:1)*50,duration:a[1]},!1)),l.run(0)),t=!1},d(o){o&&c(e),i&&i.d(o),o&&l&&l.end()}}}function re(a){let e;return{c(){e=A("🤐")},l(s){e=j(s,"🤐")},m(s,l){p(s,e,l)},d(s){s&&c(e)}}}function fe(a){let e;return{c(){e=A("😱")},l(s){e=j(s,"😱")},m(s,l){p(s,e,l)},d(s){s&&c(e)}}}function ue(a){let e;return{c(){e=A("🗣️")},l(s){e=j(s,"🗣️")},m(s,l){p(s,e,l)},d(s){s&&c(e)}}}function _e(a){let e;function s(n,i){return n[7][n[4]]==="talk"?ue:n[7][n[4]]==="shout"?fe:re}let l=s(a),t=l(a);return{c(){t.c(),e=I()},l(n){t.l(n),e=I()},m(n,i){t.m(n,i),p(n,e,i)},p(n,i){l!==(l=s(n))&&(t.d(1),t=l(n),t&&(t.c(),t.m(e.parentNode,e)))},d(n){n&&c(e),t.d(n)}}}function ce(a){let e,s,l,t,n,i,o=(a[7][a[4]]==="talk"||a[7][a[4]]==="shout")&&U(a);const u=a[10].avatar,d=B(u,a,a[11],F),_=d||_e(a);return{c(){e=v("div"),o&&o.c(),s=R(),l=v("button"),_&&_.c(),this.h()},l(r){e=w(r,"DIV",{class:!0,style:!0});var f=E(e);o&&o.l(f),s=W(f),l=w(f,"BUTTON",{class:!0});var g=E(l);_&&_.l(g),g.forEach(c),f.forEach(c),this.h()},h(){D(l,"class","avatar absolute bg-transparent border-none bottom-3 cursor-pointer text-base svelte-1aotcig"),D(e,"class","relative min-h-12 rotate-[--angle] svelte-1aotcig"),C(e,"--angle",a[2]+"deg"),C(e,"--x",a[3]+"px"),m(e,"shutup",a[7][a[4]]==="shutup"),m(e,"left",a[0]==="left"),m(e,"right",a[0]==="right")},m(r,f){p(r,e,f),o&&o.m(e,null),V(e,s),V(e,l),_&&_.m(l,null),t=!0,n||(i=Y(l,"click",Z(a[8])),n=!0)},p(r,f){r[7][r[4]]==="talk"||r[7][r[4]]==="shout"?o?(o.p(r,f),f&16&&b(o,1)):(o=U(r),o.c(),b(o,1),o.m(e,s)):o&&(H(),k(o,1,1,()=>{o=null}),J()),d?d.p&&(!t||f&2064)&&N(d,u,r,r[11],t?T(u,r[11],f,ie):S(r[11]),F):_&&_.p&&(!t||f&16)&&_.p(r,t?f:-1),(!t||f&4)&&C(e,"--angle",r[2]+"deg"),(!t||f&8)&&C(e,"--x",r[3]+"px"),(!t||f&144)&&m(e,"shutup",r[7][r[4]]==="shutup"),(!t||f&1)&&m(e,"left",r[0]==="left"),(!t||f&1)&&m(e,"right",r[0]==="right")},i(r){t||(b(o),b(_,r),t=!0)},o(r){k(o),k(_,r),t=!1},d(r){r&&c(e),o&&o.d(),_&&_.d(r),n=!1,i()}}}function me(a){let e,s,l=a[5]&&O(a);return{c(){l&&l.c(),e=I()},l(t){l&&l.l(t),e=I()},m(t,n){l&&l.m(t,n),p(t,e,n),s=!0},p(t,[n]){t[5]?l?(l.p(t,n),n&32&&b(l,1)):(l=O(t),l.c(),b(l,1),l.m(e.parentNode,e)):l&&(H(),k(l,1,1,()=>{l=null}),J())},i(t){s||(b(l),s=!0)},o(t){k(l),s=!1},d(t){t&&c(e),l&&l.d(t)}}}function de(a,e,s){let l,{$$slots:t={},$$scope:n}=e,{side:i="left"}=e,{delay:o=void 0}=e,{duration:u=1e3}=e;const d=L("AnimationContext");let _=Math.random()*1.5-1.5/2,r=Math.random()*5-5/2;const f=ae(o===0||d===void 0);P(a,f,h=>s(5,l=h)),Q(()=>{d&&d.createAnimation(f,o)});const g=["talk","shutup","talk","shutup","talk","shout","talk","shutup"];let M=0;const K=()=>{s(4,M=(M+1)%g.length),g[M]==="talk"&&(s(2,_=Math.random()*1.5-1.5/2),s(3,r=Math.random()*5-5/2))};return a.$$set=h=>{"side"in h&&s(0,i=h.side),"delay"in h&&s(9,o=h.delay),"duration"in h&&s(1,u=h.duration),"$$scope"in h&&s(11,n=h.$$scope)},[i,u,_,r,M,l,f,g,K,o,t,n]}class ge extends y{constructor(e){super(),G(this,e,de,me,X,{side:0,delay:9,duration:1})}}export{ge as B};
