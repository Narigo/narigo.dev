import{S as U,i as X,s as j,C as w,k as N,l as T,m as D,h,n as I,I as b,b as y,D as P,E as Q,F as R,f as g,t as v,J as O,K as z,e as A,g as W,d as Y,o as $,w as ee,x as te,y as le,z as se,a as ae,c as ne,p as L,G as B,L as ie,M as ue,N as oe,O as F,q as S,r as q}from"./index-145af0dc.js";import{b as fe}from"./Bubble.svelte_svelte_type_style_lang-67d64d0e.js";import{f as G}from"./index-52776796.js";const re=a=>a&3,ce=a=>({}),H=a=>({...a[1],class:a[0]?"shakeit":""});function de(a){let e,l;const t=a[3].default,s=w(t,a,a[2],H);return{c(){e=N("div"),s&&s.c(),this.h()},l(n){e=T(n,"DIV",{class:!0});var i=D(e);s&&s.l(i),i.forEach(h),this.h()},h(){I(e,"class","svelte-17vayou"),b(e,"shakeit",a[0])},m(n,i){y(n,e,i),s&&s.m(e,null),l=!0},p(n,[i]){s&&s.p&&(!l||i&7)&&P(s,t,n,n[2],re(i)||!l?Q(n[2]):R(t,n[2],i,ce),H),(!l||i&1)&&b(e,"shakeit",n[0])},i(n){l||(g(s,n),l=!0)},o(n){v(s,n),l=!1},d(n){n&&h(e),s&&s.d(n)}}}function me(a,e,l){let{$$slots:t={},$$scope:s}=e,{shake:n=!0}=e;return a.$$set=i=>{l(1,e=O(O({},e),z(i))),"shake"in i&&l(0,n=i.shake),"$$scope"in i&&l(2,s=i.$$scope)},e=z(e),[n,e,s,t]}class _e extends U{constructor(e){super(),X(this,e,me,de,j,{shake:0})}}function J(a){let e,l;return e=new _e({props:{shake:a[6][a[5]]==="shout",$$slots:{default:[be]},$$scope:{ctx:a}}}),{c(){ee(e.$$.fragment)},l(t){te(e.$$.fragment,t)},m(t,s){le(e,t,s),l=!0},p(t,s){const n={};s&32&&(n.shake=t[6][t[5]]==="shout"),s&4143&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){se(e,t)}}}function K(a){let e,l,t,s;const n=a[11].default,i=w(n,a,a[12],null);return{c(){e=N("div"),l=N("div"),i&&i.c(),this.h()},l(u){e=T(u,"DIV",{class:!0});var d=D(e);l=T(d,"DIV",{class:!0});var f=D(l);i&&i.l(f),f.forEach(h),d.forEach(h),this.h()},h(){I(l,"class","content svelte-1l3simr"),I(e,"class","bubble svelte-1l3simr")},m(u,d){y(u,e,d),B(e,l),i&&i.m(l,null),s=!0},p(u,d){a=u,i&&i.p&&(!s||d&4096)&&P(i,n,a,a[12],s?R(n,a[12],d,null):Q(a[12]),null)},i(u){s||(g(i,u),oe(()=>{t||(t=F(e,G,{x:(a[0]==="left"?-1:1)*50,duration:a[1]},!0)),t.run(1)}),s=!0)},o(u){v(i,u),t||(t=F(e,G,{x:(a[0]==="left"?-1:1)*50,duration:a[1]},!1)),t.run(0),s=!1},d(u){u&&h(e),i&&i.d(u),u&&t&&t.end()}}}function he(a){let e;return{c(){e=S("🤐")},l(l){e=q(l,"🤐")},m(l,t){y(l,e,t)},d(l){l&&h(e)}}}function ke(a){let e;return{c(){e=S("😱")},l(l){e=q(l,"😱")},m(l,t){y(l,e,t)},d(l){l&&h(e)}}}function ge(a){let e;return{c(){e=S("🗣️")},l(l){e=q(l,"🗣️")},m(l,t){y(l,e,t)},d(l){l&&h(e)}}}function be(a){let e,l,t,s,n,i,u=(a[6][a[5]]==="talk"||a[6][a[5]]==="shout")&&K(a);function d(o,r){return o[6][o[5]]==="talk"?ge:o[6][o[5]]==="shout"?ke:he}let f=d(a),_=f(a);return{c(){e=N("div"),u&&u.c(),l=ae(),t=N("button"),_.c(),this.h()},l(o){e=T(o,"DIV",{class:!0,style:!0});var r=D(e);u&&u.l(r),l=ne(r),t=T(r,"BUTTON",{class:!0});var E=D(t);_.l(E),E.forEach(h),r.forEach(h),this.h()},h(){I(t,"class","avatar svelte-1l3simr"),I(e,"class","wrap svelte-1l3simr"),L(e,"--angle",a[2]+"deg"),L(e,"--x",a[3]+"px"),b(e,"shutup",a[6][a[5]]==="shutup"),b(e,"left",a[0]==="left"),b(e,"right",a[0]==="right")},m(o,r){y(o,e,r),u&&u.m(e,null),B(e,l),B(e,t),_.m(t,null),s=!0,n||(i=ie(t,"click",ue(a[7])),n=!0)},p(o,r){o[6][o[5]]==="talk"||o[6][o[5]]==="shout"?u?(u.p(o,r),r&32&&g(u,1)):(u=K(o),u.c(),g(u,1),u.m(e,l)):u&&(W(),v(u,1,1,()=>{u=null}),Y()),f!==(f=d(o))&&(_.d(1),_=f(o),_&&(_.c(),_.m(t,null))),(!s||r&4)&&L(e,"--angle",o[2]+"deg"),(!s||r&8)&&L(e,"--x",o[3]+"px"),(!s||r&96)&&b(e,"shutup",o[6][o[5]]==="shutup"),(!s||r&1)&&b(e,"left",o[0]==="left"),(!s||r&1)&&b(e,"right",o[0]==="right")},i(o){s||(g(u),s=!0)},o(o){v(u),s=!1},d(o){o&&h(e),u&&u.d(),_.d(),n=!1,i()}}}function ve(a){let e,l,t=a[4]&&J(a);return{c(){t&&t.c(),e=A()},l(s){t&&t.l(s),e=A()},m(s,n){t&&t.m(s,n),y(s,e,n),l=!0},p(s,[n]){s[4]?t?(t.p(s,n),n&16&&g(t,1)):(t=J(s),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(W(),v(t,1,1,()=>{t=null}),Y())},i(s){l||(g(t),l=!0)},o(s){v(t),l=!1},d(s){t&&t.d(s),s&&h(e)}}}let m={};function ye(a,e,l){let{$$slots:t={},$$scope:s}=e,{side:n="left"}=e,{delay:i=0}=e,{duration:u=100}=e,{delayNext:d=0}=e,{animation:f=void 0}=e,_=Math.random()*1.5-1.5/2,o=Math.random()*5-5/2,r=i===0&&f===void 0;const E=["talk","shutup","talk","shutup","talk","shout","talk","shutup"];let M=0;const Z=()=>{l(5,M=(M+1)%E.length),E[M]==="talk"&&(l(2,_=Math.random()*1.5-1.5/2),l(3,o=Math.random()*5-5/2))};let k=0,p=null;return $(()=>{let c=i;f&&(m[f]===void 0&&(m[f]={current:0,delays:[],timeouts:[]}),k=m[f].delays.length,c=m[f].delays.slice(0,k).reduce((V,x)=>V+x,0),m[f].delays[k]=d,p=()=>{C()},document.addEventListener("click",p),m[f].timeouts[k]=setTimeout(C,c));return;function C(){const V=f?m[f].current:0;k<=V&&(l(4,r=!0),setTimeout(()=>{f&&(m[f].current+=1,m[f].timeouts[k]!==null&&clearTimeout(m[f].timeouts[k]))},1),p!==null&&document.removeEventListener("click",p))}}),fe(()=>{p!==null&&document.removeEventListener("click",p),f&&m[f].timeouts[k]!==null&&clearTimeout(m[f].timeouts[k]),m={}}),a.$$set=c=>{"side"in c&&l(0,n=c.side),"delay"in c&&l(8,i=c.delay),"duration"in c&&l(1,u=c.duration),"delayNext"in c&&l(9,d=c.delayNext),"animation"in c&&l(10,f=c.animation),"$$scope"in c&&l(12,s=c.$$scope)},[n,u,_,o,r,M,E,Z,i,d,f,t,s]}class Te extends U{constructor(e){super(),X(this,e,ye,ve,j,{side:0,delay:8,duration:1,delayNext:9,animation:10})}}export{Te as B};
