import{s as G,r as B,f as v,g as E,h as D,d as c,j as M,$ as k,i as g,u as N,v as S,w as T,Y as q,_ as z,e as V,F as Q,z as R,o as W,a as Z,c as $,k as I,x as w,D as x,a3 as ee,E as te,l as A,m as j}from"./scheduler.FpTo3f1Q.js";import{S as H,i as J,a as h,t as b,g as K,c as L,b as se,d as le,m as ae,e as ne,f as F}from"./index.Fxw16eHx.js";import{w as ie}from"./index.3czgNkUc.js";import{a as O}from"./index.185tMs-W.js";const oe=l=>l&3,fe=l=>({}),U=l=>({...l[1],class:l[0]?"shakeit":""});function re(l){let e,a;const t=l[3].default,s=B(t,l,l[2],U);return{c(){e=v("div"),s&&s.c(),this.h()},l(n){e=E(n,"DIV",{class:!0});var o=D(e);s&&s.l(o),o.forEach(c),this.h()},h(){M(e,"class","contents svelte-1afhkk4"),k(e,"shakeit",l[0])},m(n,o){g(n,e,o),s&&s.m(e,null),a=!0},p(n,[o]){s&&s.p&&(!a||o&7)&&N(s,t,n,n[2],oe(o)||!a?S(n[2]):T(t,n[2],o,fe),U),(!a||o&1)&&k(e,"shakeit",n[0])},i(n){a||(h(s,n),a=!0)},o(n){b(s,n),a=!1},d(n){n&&c(e),s&&s.d(n)}}}function ue(l,e,a){let{$$slots:t={},$$scope:s}=e,{shake:n=!0}=e;return l.$$set=o=>{a(1,e=q(q({},e),z(o))),"shake"in o&&a(0,n=o.shake),"$$scope"in o&&a(2,s=o.$$scope)},e=z(e),[n,e,s,t]}class _e extends H{constructor(e){super(),J(this,e,ue,re,G,{shake:0})}}const ce=l=>({mode:l&16}),X=l=>({mode:l[7][l[4]]});function Y(l){let e,a;return e=new _e({props:{shake:l[7][l[4]]==="shout",$$slots:{default:[be]},$$scope:{ctx:l}}}),{c(){se(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,s){ae(e,t,s),a=!0},p(t,s){const n={};s&16&&(n.shake=t[7][t[4]]==="shout"),s&2079&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){a||(h(e.$$.fragment,t),a=!0)},o(t){b(e.$$.fragment,t),a=!1},d(t){ne(e,t)}}}function y(l){let e,a,t,s;const n=l[10].default,o=B(n,l,l[11],null);return{c(){e=v("div"),a=v("div"),o&&o.c(),this.h()},l(i){e=E(i,"DIV",{class:!0});var _=D(e);a=E(_,"DIV",{class:!0});var d=D(a);o&&o.l(d),d.forEach(c),_.forEach(c),this.h()},h(){M(a,"class","content svelte-1l3simr"),M(e,"class","bubble svelte-1l3simr")},m(i,_){g(i,e,_),w(e,a),o&&o.m(a,null),s=!0},p(i,_){l=i,o&&o.p&&(!s||_&2048)&&N(o,n,l,l[11],s?T(n,l[11],_,null):S(l[11]),null)},i(i){s||(h(o,i),i&&te(()=>{s&&(t||(t=F(e,O,{x:(l[0]==="left"?-1:1)*50,duration:l[1]},!0)),t.run(1))}),s=!0)},o(i){b(o,i),i&&(t||(t=F(e,O,{x:(l[0]==="left"?-1:1)*50,duration:l[1]},!1)),t.run(0)),s=!1},d(i){i&&c(e),o&&o.d(i),i&&t&&t.end()}}}function de(l){let e;return{c(){e=A("🤐")},l(a){e=j(a,"🤐")},m(a,t){g(a,e,t)},d(a){a&&c(e)}}}function me(l){let e;return{c(){e=A("😱")},l(a){e=j(a,"😱")},m(a,t){g(a,e,t)},d(a){a&&c(e)}}}function he(l){let e;return{c(){e=A("🗣️")},l(a){e=j(a,"🗣️")},m(a,t){g(a,e,t)},d(a){a&&c(e)}}}function ke(l){let e;function a(n,o){return n[7][n[4]]==="talk"?he:n[7][n[4]]==="shout"?me:de}let t=a(l),s=t(l);return{c(){s.c(),e=V()},l(n){s.l(n),e=V()},m(n,o){s.m(n,o),g(n,e,o)},p(n,o){t!==(t=a(n))&&(s.d(1),s=t(n),s&&(s.c(),s.m(e.parentNode,e)))},d(n){n&&c(e),s.d(n)}}}function be(l){let e,a,t,s,n,o,i=(l[7][l[4]]==="talk"||l[7][l[4]]==="shout")&&y(l);const _=l[10].avatar,d=B(_,l,l[11],X),u=d||ke(l);return{c(){e=v("div"),i&&i.c(),a=Z(),t=v("button"),u&&u.c(),this.h()},l(f){e=E(f,"DIV",{class:!0,style:!0});var r=D(e);i&&i.l(r),a=$(r),t=E(r,"BUTTON",{class:!0});var p=D(t);u&&u.l(p),p.forEach(c),r.forEach(c),this.h()},h(){M(t,"class","avatar svelte-1l3simr"),M(e,"class","wrap svelte-1l3simr"),I(e,"--angle",l[2]+"deg"),I(e,"--x",l[3]+"px"),k(e,"shutup",l[7][l[4]]==="shutup"),k(e,"left",l[0]==="left"),k(e,"right",l[0]==="right")},m(f,r){g(f,e,r),i&&i.m(e,null),w(e,a),w(e,t),u&&u.m(t,null),s=!0,n||(o=x(t,"click",ee(l[8])),n=!0)},p(f,r){f[7][f[4]]==="talk"||f[7][f[4]]==="shout"?i?(i.p(f,r),r&16&&h(i,1)):(i=y(f),i.c(),h(i,1),i.m(e,a)):i&&(K(),b(i,1,1,()=>{i=null}),L()),d?d.p&&(!s||r&2064)&&N(d,_,f,f[11],s?T(_,f[11],r,ce):S(f[11]),X):u&&u.p&&(!s||r&16)&&u.p(f,s?r:-1),(!s||r&4)&&I(e,"--angle",f[2]+"deg"),(!s||r&8)&&I(e,"--x",f[3]+"px"),(!s||r&144)&&k(e,"shutup",f[7][f[4]]==="shutup"),(!s||r&1)&&k(e,"left",f[0]==="left"),(!s||r&1)&&k(e,"right",f[0]==="right")},i(f){s||(h(i),h(u,f),s=!0)},o(f){b(i),b(u,f),s=!1},d(f){f&&c(e),i&&i.d(),u&&u.d(f),n=!1,o()}}}function ge(l){let e,a,t=l[5]&&Y(l);return{c(){t&&t.c(),e=V()},l(s){t&&t.l(s),e=V()},m(s,n){t&&t.m(s,n),g(s,e,n),a=!0},p(s,[n]){s[5]?t?(t.p(s,n),n&32&&h(t,1)):(t=Y(s),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(K(),b(t,1,1,()=>{t=null}),L())},i(s){a||(h(t),a=!0)},o(s){b(t),a=!1},d(s){s&&c(e),t&&t.d(s)}}}function pe(l,e,a){let t,{$$slots:s={},$$scope:n}=e,{side:o="left"}=e,{delay:i=void 0}=e,{duration:_=1e3}=e;const d=Q("AnimationContext");let u=Math.random()*1.5-1.5/2,f=Math.random()*5-5/2;const r=ie(i===0||d===void 0);R(l,r,m=>a(5,t=m)),W(()=>{d&&d.createAnimation(r,i)});const p=["talk","shutup","talk","shutup","talk","shout","talk","shutup"];let C=0;const P=()=>{a(4,C=(C+1)%p.length),p[C]==="talk"&&(a(2,u=Math.random()*1.5-1.5/2),a(3,f=Math.random()*5-5/2))};return l.$$set=m=>{"side"in m&&a(0,o=m.side),"delay"in m&&a(9,i=m.delay),"duration"in m&&a(1,_=m.duration),"$$scope"in m&&a(11,n=m.$$scope)},[o,_,u,f,C,t,r,p,P,i,s,n]}class Ce extends H{constructor(e){super(),J(this,e,pe,ge,G,{side:0,delay:9,duration:1})}}export{Ce as B};
