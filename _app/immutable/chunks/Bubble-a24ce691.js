import{S as W,i as Y,s as Z,C as q,k as N,l as D,m as I,h as d,n as M,O as k,b as g,D as C,E as O,F as z,f as h,t as v,I as Q,M as R,e as V,g as x,d as $,o as te,w as le,x as ae,y as ne,z as se,a as ie,c as oe,p as S,G as A,P as re,Q as fe,R as ue,T as U,q as F,r as G}from"./index-87c0e17b.js";import{h as b}from"./singletons-6c0e0665.js";import{f as X}from"./index-c8144c3c.js";b.disable_scroll_handling;b.goto;b.invalidate;b.invalidateAll;b.preload_data;b.preload_code;const ce=b.before_navigate;b.after_navigate;const _e=n=>n&3,me=n=>({}),j=n=>({...n[1],class:n[0]?"shakeit":""});function de(n){let e,a;const t=n[3].default,l=q(t,n,n[2],j);return{c(){e=N("div"),l&&l.c(),this.h()},l(s){e=D(s,"DIV",{class:!0});var i=I(e);l&&l.l(i),i.forEach(d),this.h()},h(){M(e,"class","svelte-17vayou"),k(e,"shakeit",n[0])},m(s,i){g(s,e,i),l&&l.m(e,null),a=!0},p(s,[i]){l&&l.p&&(!a||i&7)&&C(l,t,s,s[2],_e(i)||!a?O(s[2]):z(t,s[2],i,me),j),(!a||i&1)&&k(e,"shakeit",s[0])},i(s){a||(h(l,s),a=!0)},o(s){v(l,s),a=!1},d(s){s&&d(e),l&&l.d(s)}}}function he(n,e,a){let{$$slots:t={},$$scope:l}=e,{shake:s=!0}=e;return n.$$set=i=>{a(1,e=Q(Q({},e),R(i))),"shake"in i&&a(0,s=i.shake),"$$scope"in i&&a(2,l=i.$$scope)},e=R(e),[s,e,l,t]}class ke extends W{constructor(e){super(),Y(this,e,he,de,Z,{shake:0})}}const ve=n=>({mode:n&32}),w=n=>({mode:n[6][n[5]]});function J(n){let e,a;return e=new ke({props:{shake:n[6][n[5]]==="shout",$$slots:{default:[ye]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(t){ae(e.$$.fragment,t)},m(t,l){ne(e,t,l),a=!0},p(t,l){const s={};l&32&&(s.shake=t[6][t[5]]==="shout"),l&4143&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){a||(h(e.$$.fragment,t),a=!0)},o(t){v(e.$$.fragment,t),a=!1},d(t){se(e,t)}}}function K(n){let e,a,t,l;const s=n[11].default,i=q(s,n,n[12],null);return{c(){e=N("div"),a=N("div"),i&&i.c(),this.h()},l(o){e=D(o,"DIV",{class:!0});var m=I(e);a=D(m,"DIV",{class:!0});var c=I(a);i&&i.l(c),c.forEach(d),m.forEach(d),this.h()},h(){M(a,"class","content svelte-1l3simr"),M(e,"class","bubble svelte-1l3simr")},m(o,m){g(o,e,m),A(e,a),i&&i.m(a,null),l=!0},p(o,m){n=o,i&&i.p&&(!l||m&4096)&&C(i,s,n,n[12],l?z(s,n[12],m,null):O(n[12]),null)},i(o){l||(h(i,o),ue(()=>{t||(t=U(e,X,{x:(n[0]==="left"?-1:1)*50,duration:n[1]},!0)),t.run(1)}),l=!0)},o(o){v(i,o),t||(t=U(e,X,{x:(n[0]==="left"?-1:1)*50,duration:n[1]},!1)),t.run(0),l=!1},d(o){o&&d(e),i&&i.d(o),o&&t&&t.end()}}}function ge(n){let e;return{c(){e=F("🤐")},l(a){e=G(a,"🤐")},m(a,t){g(a,e,t)},d(a){a&&d(e)}}}function be(n){let e;return{c(){e=F("😱")},l(a){e=G(a,"😱")},m(a,t){g(a,e,t)},d(a){a&&d(e)}}}function pe(n){let e;return{c(){e=F("🗣️")},l(a){e=G(a,"🗣️")},m(a,t){g(a,e,t)},d(a){a&&d(e)}}}function Te(n){let e;function a(s,i){return s[6][s[5]]==="talk"?pe:s[6][s[5]]==="shout"?be:ge}let t=a(n),l=t(n);return{c(){l.c(),e=V()},l(s){l.l(s),e=V()},m(s,i){l.m(s,i),g(s,e,i)},p(s,i){t!==(t=a(s))&&(l.d(1),l=t(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&d(e)}}}function ye(n){let e,a,t,l,s,i,o=(n[6][n[5]]==="talk"||n[6][n[5]]==="shout")&&K(n);const m=n[11].avatar,c=q(m,n,n[12],w),_=c||Te(n);return{c(){e=N("div"),o&&o.c(),a=ie(),t=N("button"),_&&_.c(),this.h()},l(r){e=D(r,"DIV",{class:!0,style:!0});var u=I(e);o&&o.l(u),a=oe(u),t=D(u,"BUTTON",{class:!0});var T=I(t);_&&_.l(T),T.forEach(d),u.forEach(d),this.h()},h(){M(t,"class","avatar svelte-1l3simr"),M(e,"class","wrap svelte-1l3simr"),S(e,"--angle",n[2]+"deg"),S(e,"--x",n[3]+"px"),k(e,"shutup",n[6][n[5]]==="shutup"),k(e,"left",n[0]==="left"),k(e,"right",n[0]==="right")},m(r,u){g(r,e,u),o&&o.m(e,null),A(e,a),A(e,t),_&&_.m(t,null),l=!0,s||(i=re(t,"click",fe(n[7])),s=!0)},p(r,u){r[6][r[5]]==="talk"||r[6][r[5]]==="shout"?o?(o.p(r,u),u&32&&h(o,1)):(o=K(r),o.c(),h(o,1),o.m(e,a)):o&&(x(),v(o,1,1,()=>{o=null}),$()),c?c.p&&(!l||u&4128)&&C(c,m,r,r[12],l?z(m,r[12],u,ve):O(r[12]),w):_&&_.p&&(!l||u&32)&&_.p(r,l?u:-1),(!l||u&4)&&S(e,"--angle",r[2]+"deg"),(!l||u&8)&&S(e,"--x",r[3]+"px"),(!l||u&96)&&k(e,"shutup",r[6][r[5]]==="shutup"),(!l||u&1)&&k(e,"left",r[0]==="left"),(!l||u&1)&&k(e,"right",r[0]==="right")},i(r){l||(h(o),h(_,r),l=!0)},o(r){v(o),v(_,r),l=!1},d(r){r&&d(e),o&&o.d(),_&&_.d(r),s=!1,i()}}}function Ee(n){let e,a,t=n[4]&&J(n);return{c(){t&&t.c(),e=V()},l(l){t&&t.l(l),e=V()},m(l,s){t&&t.m(l,s),g(l,e,s),a=!0},p(l,[s]){l[4]?t?(t.p(l,s),s&16&&h(t,1)):(t=J(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(x(),v(t,1,1,()=>{t=null}),$())},i(l){a||(h(t),a=!0)},o(l){v(t),a=!1},d(l){t&&t.d(l),l&&d(e)}}}let E={};function Ne(n,e,a){let{$$slots:t={},$$scope:l}=e,{side:s="left"}=e,{delay:i=0}=e,{duration:o=100}=e,{delayNext:m=0}=e,{animation:c=void 0}=e,_=Math.random()*1.5-1.5/2,r=Math.random()*5-5/2,u=i===0&&c===void 0;const T=["talk","shutup","talk","shutup","talk","shout","talk","shutup"];let L=0;const ee=()=>{a(5,L=(L+1)%T.length),T[L]==="talk"&&(a(2,_=Math.random()*1.5-1.5/2),a(3,r=Math.random()*5-5/2))};let H=0,y=null;return te(()=>{if(c){E[c]===void 0&&(E[c]={current:0,started:!1,nextTimer:null,animations:[]});const f=E[c];H=f.animations.length;const p=()=>{if(c){if(H<=f.current){document.removeEventListener("click",p);const{nextTimer:P}=f;P!==null&&(clearTimeout(P),f.nextTimer=null),a(4,u=!0),f.current+=1;const B=f.current<f.animations.length?f.animations[f.current]:void 0;B&&(f.nextTimer=setTimeout(B.animation,B.delayNext),y=B.animation,document.addEventListener("click",y))}}else a(4,u=!0),y=p,document.removeEventListener("click",p)};f.animations.push({delayNext:m,animation:p}),f.started||(f.started=!0,f.nextTimer=setTimeout(p,i),y=p,document.addEventListener("click",p))}}),ce(()=>{if(y!==null&&document.removeEventListener("click",y),c){const{nextTimer:f}=E[c];f!==null&&clearTimeout(f)}E={}}),n.$$set=f=>{"side"in f&&a(0,s=f.side),"delay"in f&&a(8,i=f.delay),"duration"in f&&a(1,o=f.duration),"delayNext"in f&&a(9,m=f.delayNext),"animation"in f&&a(10,c=f.animation),"$$scope"in f&&a(12,l=f.$$scope)},[s,o,_,r,u,L,T,ee,i,m,c,t,l]}class Le extends W{constructor(e){super(),Y(this,e,Ne,Ee,Z,{side:0,delay:8,duration:1,delayNext:9,animation:10})}}export{Le as B};
