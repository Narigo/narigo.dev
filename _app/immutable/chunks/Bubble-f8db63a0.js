import{S as U,i as X,s as j,C as w,k as E,l as N,m as p,h as _,n as D,I as k,b,D as P,E as Q,F as R,f as h,t as g,J as C,K as H,e as O,g as W,d as Y,o as x,w as $,x as ee,y as te,z as ne,a as le,c as se,p as M,G as V,L as ae,M as ie,N as oe,O as z,q as B,r as S}from"./index-145af0dc.js";import{b as re}from"./Bubble.svelte_svelte_type_style_lang-67d64d0e.js";import{f as F}from"./index-52776796.js";const ue=s=>s&3,fe=s=>({}),G=s=>({...s[1],class:s[0]?"shakeit":""});function ce(s){let e,n;const t=s[3].default,l=w(t,s,s[2],G);return{c(){e=E("div"),l&&l.c(),this.h()},l(a){e=N(a,"DIV",{class:!0});var i=p(e);l&&l.l(i),i.forEach(_),this.h()},h(){D(e,"class","svelte-17vayou"),k(e,"shakeit",s[0])},m(a,i){b(a,e,i),l&&l.m(e,null),n=!0},p(a,[i]){l&&l.p&&(!n||i&7)&&P(l,t,a,a[2],ue(i)||!n?Q(a[2]):R(t,a[2],i,fe),G),(!n||i&1)&&k(e,"shakeit",a[0])},i(a){n||(h(l,a),n=!0)},o(a){g(l,a),n=!1},d(a){a&&_(e),l&&l.d(a)}}}function me(s,e,n){let{$$slots:t={},$$scope:l}=e,{shake:a=!0}=e;return s.$$set=i=>{n(1,e=C(C({},e),H(i))),"shake"in i&&n(0,a=i.shake),"$$scope"in i&&n(2,l=i.$$scope)},e=H(e),[a,e,l,t]}class de extends U{constructor(e){super(),X(this,e,me,ce,j,{shake:0})}}function J(s){let e,n;return e=new de({props:{shake:s[6][s[5]]==="shout",$$slots:{default:[ge]},$$scope:{ctx:s}}}),{c(){$(e.$$.fragment)},l(t){ee(e.$$.fragment,t)},m(t,l){te(e,t,l),n=!0},p(t,l){const a={};l&32&&(a.shake=t[6][t[5]]==="shout"),l&4143&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){ne(e,t)}}}function K(s){let e,n,t,l;const a=s[11].default,i=w(a,s,s[12],null);return{c(){e=E("div"),n=E("div"),i&&i.c(),this.h()},l(o){e=N(o,"DIV",{class:!0});var m=p(e);n=N(m,"DIV",{class:!0});var c=p(n);i&&i.l(c),c.forEach(_),m.forEach(_),this.h()},h(){D(n,"class","content svelte-1l3simr"),D(e,"class","bubble svelte-1l3simr")},m(o,m){b(o,e,m),V(e,n),i&&i.m(n,null),l=!0},p(o,m){s=o,i&&i.p&&(!l||m&4096)&&P(i,a,s,s[12],l?R(a,s[12],m,null):Q(s[12]),null)},i(o){l||(h(i,o),oe(()=>{t||(t=z(e,F,{x:(s[0]==="left"?-1:1)*50,duration:s[1]},!0)),t.run(1)}),l=!0)},o(o){g(i,o),t||(t=z(e,F,{x:(s[0]==="left"?-1:1)*50,duration:s[1]},!1)),t.run(0),l=!1},d(o){o&&_(e),i&&i.d(o),o&&t&&t.end()}}}function _e(s){let e;return{c(){e=B("ðŸ¤")},l(n){e=S(n,"ðŸ¤")},m(n,t){b(n,e,t)},d(n){n&&_(e)}}}function he(s){let e;return{c(){e=B("ðŸ˜±")},l(n){e=S(n,"ðŸ˜±")},m(n,t){b(n,e,t)},d(n){n&&_(e)}}}function ke(s){let e;return{c(){e=B("ðŸ—£ï¸")},l(n){e=S(n,"ðŸ—£ï¸")},m(n,t){b(n,e,t)},d(n){n&&_(e)}}}function ge(s){let e,n,t,l,a,i,o=(s[6][s[5]]==="talk"||s[6][s[5]]==="shout")&&K(s);function m(r,f){return r[6][r[5]]==="talk"?ke:r[6][r[5]]==="shout"?he:_e}let c=m(s),d=c(s);return{c(){e=E("div"),o&&o.c(),n=le(),t=E("button"),d.c(),this.h()},l(r){e=N(r,"DIV",{class:!0,style:!0});var f=p(e);o&&o.l(f),n=se(f),t=N(f,"BUTTON",{class:!0});var v=p(t);d.l(v),v.forEach(_),f.forEach(_),this.h()},h(){D(t,"class","avatar svelte-1l3simr"),D(e,"class","wrap svelte-1l3simr"),M(e,"--angle",s[2]+"deg"),M(e,"--x",s[3]+"px"),k(e,"shutup",s[6][s[5]]==="shutup"),k(e,"left",s[0]==="left"),k(e,"right",s[0]==="right")},m(r,f){b(r,e,f),o&&o.m(e,null),V(e,n),V(e,t),d.m(t,null),l=!0,a||(i=ae(t,"click",ie(s[7])),a=!0)},p(r,f){r[6][r[5]]==="talk"||r[6][r[5]]==="shout"?o?(o.p(r,f),f&32&&h(o,1)):(o=K(r),o.c(),h(o,1),o.m(e,n)):o&&(W(),g(o,1,1,()=>{o=null}),Y()),c!==(c=m(r))&&(d.d(1),d=c(r),d&&(d.c(),d.m(t,null))),(!l||f&4)&&M(e,"--angle",r[2]+"deg"),(!l||f&8)&&M(e,"--x",r[3]+"px"),(!l||f&96)&&k(e,"shutup",r[6][r[5]]==="shutup"),(!l||f&1)&&k(e,"left",r[0]==="left"),(!l||f&1)&&k(e,"right",r[0]==="right")},i(r){l||(h(o),l=!0)},o(r){g(o),l=!1},d(r){r&&_(e),o&&o.d(),d.d(),a=!1,i()}}}function be(s){let e,n,t=s[4]&&J(s);return{c(){t&&t.c(),e=O()},l(l){t&&t.l(l),e=O()},m(l,a){t&&t.m(l,a),b(l,e,a),n=!0},p(l,[a]){l[4]?t?(t.p(l,a),a&16&&h(t,1)):(t=J(l),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(W(),g(t,1,1,()=>{t=null}),Y())},i(l){n||(h(t),n=!0)},o(l){g(t),n=!1},d(l){t&&t.d(l),l&&_(e)}}}let y={};function ve(s,e,n){let{$$slots:t={},$$scope:l}=e,{side:a="left"}=e,{delay:i=0}=e,{duration:o=100}=e,{delayNext:m=0}=e,{animation:c=void 0}=e,d=Math.random()*1.5-1.5/2,r=Math.random()*5-5/2,f=i===0&&c===void 0;const v=["talk","shutup","talk","shutup","talk","shout","talk","shutup"];let I=0;const Z=()=>{n(5,I=(I+1)%v.length),v[I]==="talk"&&(n(2,d=Math.random()*1.5-1.5/2),n(3,r=Math.random()*5-5/2))};let q=0;return x(()=>{if(c){y[c]===void 0&&(y[c]={current:0,started:!1,nextTimer:null,animations:[]});const u=y[c];q=u.animations.length;const T=()=>{if(c){if(q<=u.current){document.removeEventListener("click",T);const{nextTimer:A}=u;A!==null&&(clearTimeout(A),u.nextTimer=null),n(4,f=!0),u.current+=1;const L=u.current<u.animations.length?u.animations[u.current]:void 0;L&&(u.nextTimer=setTimeout(L.animation,L.delayNext),document.addEventListener("click",L.animation))}}else n(4,f=!0),document.removeEventListener("click",T)};u.animations.push({delayNext:m,animation:T}),u.started||(u.started=!0,u.nextTimer=setTimeout(T,i),document.addEventListener("click",T))}}),re(()=>{if(clickHandler!==null&&document.removeEventListener("click",clickHandler),c){const{nextTimer:u}=y[c];u!==null&&clearTimeout(u)}y={}}),s.$$set=u=>{"side"in u&&n(0,a=u.side),"delay"in u&&n(8,i=u.delay),"duration"in u&&n(1,o=u.duration),"delayNext"in u&&n(9,m=u.delayNext),"animation"in u&&n(10,c=u.animation),"$$scope"in u&&n(12,l=u.$$scope)},[a,o,d,r,f,I,v,Z,i,m,c,t,l]}class Ne extends U{constructor(e){super(),X(this,e,ve,be,j,{side:0,delay:8,duration:1,delayNext:9,animation:10})}}export{Ne as B};
