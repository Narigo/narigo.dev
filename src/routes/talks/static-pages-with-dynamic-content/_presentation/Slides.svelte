<script lang="ts">
	import { getContext } from 'svelte';
	import type Reveal from 'reveal.js';
	import Intro from './Intro.svelte';
	import SvelteKit from './SvelteKit.svelte';

	const getReveal = getContext<() => Reveal.Api>('Reveal');
	const Reveal = getReveal();

	Reveal.on('fragmentshown', (event) => {
		const fragment = (event as Event & { fragment: HTMLElement }).fragment;
		const shakeIt = fragment.getAttribute('data-shake-it');
		if (shakeIt === 'true') {
			fragment.classList.add('shakeit');
		}
	});
</script>

<Intro />
<section>
	<section>
		<h2>We program web pages and web apps for a living ğŸ’°</h2>
		<p class="fragment">... but we have a dark secret ğŸ¤«</p>
	</section>
	<section>
		<h2>We didn't do it for our own website. ğŸ˜³</h2>
		<p class="fragment">We used a page builder tool. ğŸ˜±</p>
	</section>
</section>
<section>
	<section>
		<h2>And we were <u>just fine</u> with it! â˜€ï¸</h2>
		<p class="fragment fade-in-then-semi-out">... Until that one day ... ğŸŒ¤ï¸</p>
		<p class="fragment fade-in-then-semi-out">... when we got mail ... ğŸŒ¥ï¸</p>
		<p class="fragment fade-in-then-semi-out">... and someone told us ... ğŸŒ¦ï¸</p>
		<p class="fragment fade-in-then-semi-out" data-shake-it="true">
			... our page would be violating GDPR! â›ˆï¸
		</p>
	</section>
	<section>
		<h2>OK. <span class="fragment">Don't panic ğŸ˜°</span></h2>
		<p class="fragment fade-in-then-semi-out">It wasn't <strong>really</strong> a problem. ğŸ˜®â€ğŸ’¨</p>
		<p class="fragment fade-in-then-semi-out">But it made us aware of a fact we ignored: ğŸ•µï¸</p>
		<p class="fragment fade-in-then-semi-out">
			We can't rule out that other people change the code we wanted them to deliver. ğŸ˜¬
		</p>
	</section>
</section>
<section>
	<section>
		<h2>So we started again ğŸƒ</h2>
		<p class="fragment fade-in-then-semi-out">... with all the experience we had ğŸ¤“</p>
		<p class="fragment fade-in-then-semi-out">... ruling out all problematic tools ğŸ™…</p>
		<p class="fragment fade-in-then-semi-out">... which need ongoing maintenance efforts ğŸ¥µ</p>
	</section>
	<section>
		<h2>That means:</h2>
		<ul>
			<li class="fragment">
				No Wordpress <span class="fragment">(Maintenance ğŸ¤¢)</span>
			</li>
			<li class="fragment">
				No Rails
				<span class="fragment">(Too much magic anyways ğŸ¤®)</span>
			</li>
			<li class="fragment">
				No ReactJS
				<span class="fragment">(Experienced Gatsby, SSR, hydration, bundle sizes ğŸ˜¢)</span>
			</li>
			<li class="fragment">No ... component based frameworks ... â“â—ï¸</li>
		</ul>
	</section>
	<section>
		<h2>Thankfully, there are options now ğŸ˜®â€ğŸ’¨</h2>
		<ul>
			<li class="fragment fade-in-then-semi-out">
				Newer versions of NextJS allow static page generation ğŸ§
			</li>
			<li class="fragment fade-in-then-semi-out">VueJS has some options ğŸ§‘â€ğŸ¨</li>
			<li class="fragment fade-in-then-semi-out">Hugo, Jekyll, etc. ğŸ‘´</li>
			<li class="fragment fade-in-then-semi-out">
				And <a href="https://kit.svelte.dev/" rel="external noopener noreferrer" target="_blank"
					>SvelteKit</a
				> is super cool ğŸ˜
			</li>
		</ul>
	</section>
	<SvelteKit />
</section>
<section>
	<h2>
		Static <br />
		<span class="fragment">!==</span><br />
		<span class="fragment">"no dynamic content" ğŸ§</span>
	</h2>
	<p class="fragment fade-in-then-semi-out">JavaScript is possible! ğŸ¤©</p>
	<p class="fragment fade-in-then-semi-out">A build process can help ğŸ› ï¸</p>
	<p class="fragment fade-in-then-semi-out">
		See <a href="https://jamstack.org/" rel="external noreferrer" target="_blank">JAMStack.org</a>
		(JavaScript, APIs, Markup) ğŸ¤“
	</p>
</section>
<section>
	<section>
		<h2>Let's find solutions! ğŸ’¡</h2>
	</section>
	<section>
		<h2>News / Blog / Content ğŸ“œ</h2>
		<p class="fragment fade-in-then-semi-out">How often will it really update? âŒšï¸</p>
		<p class="fragment fade-in-then-semi-out">
			Faster than it takes to build a new version of the pages? ğŸ¤¨
		</p>
		<p class="fragment fade-in-then-semi-out">Fetch the content during build process! âœ…</p>
	</section>
	<section>
		<h2>Shared Resources (manuals, etc.) ğŸ“š</h2>
		<p class="fragment fade-in-then-semi-out">That's a static file ğŸ˜</p>
		<p class="fragment fade-in-then-semi-out">Put it next to your content âœ…</p>
		<p class="fragment fade-in-then-semi-out">
			Use a file server and create links to them during build âœ…
		</p>
	</section>
	<section>
		<h2>Contact form</h2>
		<p class="fragment fade-in-then-semi-out">Phone numbers and e-mails rarely change â˜ï¸</p>
		<p class="fragment fade-in-then-semi-out">Generate <code>mailto:</code>-links âœ…</p>
		<p class="fragment fade-in-then-semi-out">Use a third-party service âœ…</p>
	</section>
	<section>
		<h2>Random content</h2>
		<p class="fragment fade-in-then-semi-out">Use JavaScript to fetch / change randomly ğŸ’¯</p>
		<p class="fragment fade-in-then-semi-out">Randomize initial values on each update ğŸ§±</p>
	</section>
	<section>
		<h2>Changing texts, translations, etc. ğŸ“</h2>
		<p class="fragment fade-in-then-semi-out">Use CMS as a backend ğŸ­</p>
		<p class="fragment fade-in-then-semi-out">Generate separate pages for different languages ğŸ—ºï¸</p>
		<p class="fragment fade-in-then-semi-out">
			Find out about missing translations during build âœ…
		</p>
	</section>
	<section>
		<h2>Filtering products ğŸ”</h2>
		<p class="fragment fade-in-then-semi-out">Build presets for filters ğŸ§˜</p>
		<p class="fragment fade-in-then-semi-out">
			Split your products into different JSON files for dynamic filters ğŸ––
		</p>
	</section>
	<section>
		<h2>Search ğŸ”</h2>
		<p class="fragment fade-in-then-semi-out">Roll out your own service âœ…</p>
		<p class="fragment fade-in-then-semi-out">Use a third-party service âœ…</p>
		<p class="fragment fade-in-then-semi-out">
			Setup <a href="https://pagefind.app/" rel="external noreferrer">Pagefind</a> ğŸ¤¯
		</p>
	</section>
	<section>
		<h2>Preview builds ğŸ’…</h2>
		<p class="fragment fade-in-then-semi-out">Use a third-party service âœ…</p>
		<p class="fragment fade-in-then-semi-out">Setup a second build pipeline and deploy there ğŸ˜</p>
	</section>
	<section>
		<h2>Chat with support ğŸ’¬</h2>
		<h2>Newsletters âœ‰ï¸</h2>
		<p class="fragment fade-in-then-semi-out">Use a third-party service âœ…</p>
		<p class="fragment fade-in-then-semi-out">Roll out your own service âœ…</p>
	</section>
</section>
<section>
	<section>
		<h2>Recap: Cons ğŸ˜­</h2>
		<ul>
			<li class="fragment fade-in-then-semi-out">Usage of third-party services ğŸ’³</li>
			<li class="fragment fade-in-then-semi-out">Initial setup cost â±ï¸ğŸ’¸</li>
			<li class="fragment fade-in-then-semi-out">Custom scripts / frameworks ğŸ</li>
		</ul>
	</section>
	<section>
		<h2>Recap: Pros ğŸ¥³</h2>
		<ul>
			<li class="fragment fade-in-then-semi-out">Fast response times âš¡ï¸</li>
			<li class="fragment fade-in-then-semi-out">No technical maintenance overhead ğŸ§‘â€ğŸ”§</li>
			<li class="fragment fade-in-then-semi-out">Secure website ğŸ”</li>
			<li class="fragment fade-in-then-semi-out">Full flexibility and control ğŸ¤¹</li>
		</ul>
	</section>
</section>
<section>
	<h2>Demos!</h2>
	<p class="fragment fade-in-then-semi-out">
		<a href="https://github.com/Narigo/sprechakt.de" rel="external noreferrer" target="_blank"
			>SprechAkt.de</a
		>
	</p>
	<p class="fragment fade-in-then-semi-out">
		<a href="https://github.com/compose-us/website" rel="external noreferrer" target="_blank"
			>compose.us Website</a
		>
	</p>
</section>
<section>
	<h2>Thanks!</h2>
	<p>
		Visit <a href="https://jscraftcamp.org" rel="external noreferrer" target="_blank">JSCraftCamp</a
		> next year!
	</p>
	<p>GitHub: @Narigo</p>
	<p>Twitter: @NarigoDF</p>
</section>

<style>
	:global(.shakeit) {
		animation-name: shake;
		animation-iteration-count: infinite;
		animation-direction: alternate;
		animation-duration: 100ms;
	}

	@keyframes shake {
		0% {
			transform: translate(-2px, -1px);
		}
		20% {
			transform: translate(1px, 2px);
		}
		40% {
			transform: translate(2px, 1px);
		}
		60% {
			transform: translate(-1px, -1px);
		}
		80% {
			transform: translate(1px, 2px);
		}
		100% {
			transform: translate(-2px, -1px);
		}
	}
</style>
